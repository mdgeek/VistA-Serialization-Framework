KIDS Distribution saved on Oct 20, 2017@11:59:13
SERIALIZATION FRAMEWORK 1.1
**KIDS**:SERIALIZATION FRAMEWORK 1.1^

**INSTALL NAME**
SERIALIZATION FRAMEWORK 1.1
"BLD",8505,0)
SERIALIZATION FRAMEWORK 1.1^SERIALIZATION FRAMEWORK^0^3171020^n
"BLD",8505,1,0)
^^2^2^3150301.07231
"BLD",8505,1,1,0)
Framework for serializing and deserializing data for transport to and from
"BLD",8505,1,2,0)
external systems.
"BLD",8505,4,0)
^9.64PA^996.52^2
"BLD",8505,4,996.52,0)
996.52
"BLD",8505,4,996.52,222)
n^y^f^^n^^y^o^n
"BLD",8505,4,996.52,224)
I $G(^RGNET(996.52,Y,10))["^RGSE"
"BLD",8505,4,998.1,0)
998.1
"BLD",8505,4,998.1,222)
y^y^f^^n^^y^r^n
"BLD",8505,4,"B",996.52,996.52)

"BLD",8505,4,"B",998.1,998.1)

"BLD",8505,6.3)
506
"BLD",8505,"ABPKG")
n
"BLD",8505,"INI")
PRE^RGSEINIT
"BLD",8505,"INIT")
POST^RGSEINIT
"BLD",8505,"KRN",0)
^9.67PA^779.2^20
"BLD",8505,"KRN",.4,0)
.4
"BLD",8505,"KRN",.401,0)
.401
"BLD",8505,"KRN",.402,0)
.402
"BLD",8505,"KRN",.403,0)
.403
"BLD",8505,"KRN",.5,0)
.5
"BLD",8505,"KRN",.84,0)
.84
"BLD",8505,"KRN",.84,"NM",0)
^9.68A^9^9
"BLD",8505,"KRN",.84,"NM",1,0)
9981000^^0
"BLD",8505,"KRN",.84,"NM",2,0)
9981001^^0
"BLD",8505,"KRN",.84,"NM",3,0)
9981002^^0
"BLD",8505,"KRN",.84,"NM",4,0)
9981003^^0
"BLD",8505,"KRN",.84,"NM",5,0)
9981004^^0
"BLD",8505,"KRN",.84,"NM",6,0)
9981005^^0
"BLD",8505,"KRN",.84,"NM",7,0)
9981006^^0
"BLD",8505,"KRN",.84,"NM",8,0)
9981007^^0
"BLD",8505,"KRN",.84,"NM",9,0)
9981008^^0
"BLD",8505,"KRN",.84,"NM","B",9981000,1)

"BLD",8505,"KRN",.84,"NM","B",9981001,2)

"BLD",8505,"KRN",.84,"NM","B",9981002,3)

"BLD",8505,"KRN",.84,"NM","B",9981003,4)

"BLD",8505,"KRN",.84,"NM","B",9981004,5)

"BLD",8505,"KRN",.84,"NM","B",9981005,6)

"BLD",8505,"KRN",.84,"NM","B",9981006,7)

"BLD",8505,"KRN",.84,"NM","B",9981007,8)

"BLD",8505,"KRN",.84,"NM","B",9981008,9)

"BLD",8505,"KRN",3.6,0)
3.6
"BLD",8505,"KRN",3.8,0)
3.8
"BLD",8505,"KRN",9.2,0)
9.2
"BLD",8505,"KRN",9.8,0)
9.8
"BLD",8505,"KRN",9.8,"NM",0)
^9.68A^18^16
"BLD",8505,"KRN",9.8,"NM",1,0)
RGSEFHIR^^0^B10444581
"BLD",8505,"KRN",9.8,"NM",2,0)
RGSEJSON^^0^B29696478
"BLD",8505,"KRN",9.8,"NM",3,0)
RGSER^^0^B14022816
"BLD",8505,"KRN",9.8,"NM",4,0)
RGSERENC^^0^B1699892
"BLD",8505,"KRN",9.8,"NM",6,0)
RGSERLAB^^0^B13497906
"BLD",8505,"KRN",9.8,"NM",7,0)
RGSEROBS^^0^B16358628
"BLD",8505,"KRN",9.8,"NM",8,0)
RGSERPAT^^0^B1084407
"BLD",8505,"KRN",9.8,"NM",9,0)
RGSERVIT^^0^B12346872
"BLD",8505,"KRN",9.8,"NM",10,0)
RGSEXML^^0^B12679345
"BLD",8505,"KRN",9.8,"NM",11,0)
RGSERGET^^0^B169776989
"BLD",8505,"KRN",9.8,"NM",12,0)
RGSERDD^^0^B836104
"BLD",8505,"KRN",9.8,"NM",13,0)
RGSERPER^^0^B151306
"BLD",8505,"KRN",9.8,"NM",14,0)
RGSEFHIJ^^0^B37901716
"BLD",8505,"KRN",9.8,"NM",15,0)
RGSEFHIX^^0^B40235182
"BLD",8505,"KRN",9.8,"NM",17,0)
RGSERDOC^^0^B340683
"BLD",8505,"KRN",9.8,"NM",18,0)
RGSERLOC^^0^B496850
"BLD",8505,"KRN",9.8,"NM","B","RGSEFHIJ",14)

"BLD",8505,"KRN",9.8,"NM","B","RGSEFHIR",1)

"BLD",8505,"KRN",9.8,"NM","B","RGSEFHIX",15)

"BLD",8505,"KRN",9.8,"NM","B","RGSEJSON",2)

"BLD",8505,"KRN",9.8,"NM","B","RGSER",3)

"BLD",8505,"KRN",9.8,"NM","B","RGSERDD",12)

"BLD",8505,"KRN",9.8,"NM","B","RGSERDOC",17)

"BLD",8505,"KRN",9.8,"NM","B","RGSERENC",4)

"BLD",8505,"KRN",9.8,"NM","B","RGSERGET",11)

"BLD",8505,"KRN",9.8,"NM","B","RGSERLAB",6)

"BLD",8505,"KRN",9.8,"NM","B","RGSERLOC",18)

"BLD",8505,"KRN",9.8,"NM","B","RGSEROBS",7)

"BLD",8505,"KRN",9.8,"NM","B","RGSERPAT",8)

"BLD",8505,"KRN",9.8,"NM","B","RGSERPER",13)

"BLD",8505,"KRN",9.8,"NM","B","RGSERVIT",9)

"BLD",8505,"KRN",9.8,"NM","B","RGSEXML",10)

"BLD",8505,"KRN",19,0)
19
"BLD",8505,"KRN",19.1,0)
19.1
"BLD",8505,"KRN",101,0)
101
"BLD",8505,"KRN",409.61,0)
409.61
"BLD",8505,"KRN",771,0)
771
"BLD",8505,"KRN",779.2,0)
779.2
"BLD",8505,"KRN",870,0)
870
"BLD",8505,"KRN",8989.51,0)
8989.51
"BLD",8505,"KRN",8989.52,0)
8989.52
"BLD",8505,"KRN",8994,0)
8994
"BLD",8505,"KRN",8994,"NM",0)
^9.68A^1^1
"BLD",8505,"KRN",8994,"NM",1,0)
RGSER FETCH^^0
"BLD",8505,"KRN",8994,"NM","B","RGSER FETCH",1)

"BLD",8505,"KRN","B",.4,.4)

"BLD",8505,"KRN","B",.401,.401)

"BLD",8505,"KRN","B",.402,.402)

"BLD",8505,"KRN","B",.403,.403)

"BLD",8505,"KRN","B",.5,.5)

"BLD",8505,"KRN","B",.84,.84)

"BLD",8505,"KRN","B",3.6,3.6)

"BLD",8505,"KRN","B",3.8,3.8)

"BLD",8505,"KRN","B",9.2,9.2)

"BLD",8505,"KRN","B",9.8,9.8)

"BLD",8505,"KRN","B",19,19)

"BLD",8505,"KRN","B",19.1,19.1)

"BLD",8505,"KRN","B",101,101)

"BLD",8505,"KRN","B",409.61,409.61)

"BLD",8505,"KRN","B",771,771)

"BLD",8505,"KRN","B",779.2,779.2)

"BLD",8505,"KRN","B",870,870)

"BLD",8505,"KRN","B",8989.51,8989.51)

"BLD",8505,"KRN","B",8989.52,8989.52)

"BLD",8505,"KRN","B",8994,8994)

"BLD",8505,"PRET")
PRETRANS^RGSEINIT
"BLD",8505,"QUES",0)
^9.62^^
"BLD",8505,"REQB",0)
^9.611^2^2
"BLD",8505,"REQB",1,0)
RG UTILITIES 3.0^2
"BLD",8505,"REQB",2,0)
NETSERV WEB SERVER 1.0^2
"BLD",8505,"REQB","B","NETSERV WEB SERVER 1.0",2)

"BLD",8505,"REQB","B","RG UTILITIES 3.0",1)

"DATA",996.52,1,0)
CWF/*^GET
"DATA",996.52,1,10)
MGET^RGSER
"DATA",996.52,2,0)
DSTU#/*^GET^BASIC
"DATA",996.52,2,10)
MGET^RGSER
"DATA",996.52,10,0)
STU#/*^GET^BASIC
"DATA",996.52,10,10)
MGET^RGSER
"DATA",998.1,1,0)
CWF^application/json,text/json^RGSEJSON^1.0
"DATA",998.1,1,10,0)
^998.11^2^2
"DATA",998.1,1,10,1,0)
PropDefinition^^8989.51
"DATA",998.1,1,10,1,30,0)
^998.12I^8^8
"DATA",998.1,1,10,1,30,1,0)
name^.01^F^10
"DATA",998.1,1,10,1,30,2,0)
displayName^.02^F^20
"DATA",998.1,1,10,1,30,3,0)
multiValued^.03^B^30
"DATA",998.1,1,10,1,30,4,0)
readOnly^.06^B^40
"DATA",998.1,1,10,1,30,5,0)
dataType^1.1^R^50
"DATA",998.1,1,10,1,30,6,0)
description^20^W^60
"DATA",998.1,1,10,1,30,7,0)
id^@id^R^1
"DATA",998.1,1,10,1,30,8,0)
hint^1.3^F^70
"DATA",998.1,1,10,1,40,0)
^998.13I^1^1
"DATA",998.1,1,10,1,40,1,0)
_id^@ien^T^10
"DATA",998.1,1,10,2,0)
User^^200
"DATA",998.1,1,10,2,30,0)
^998.12I^5^5
"DATA",998.1,1,10,2,30,1,0)
logicalId^@id^R^10
"DATA",998.1,1,10,2,30,2,0)
fullName^.01^F^20
"DATA",998.1,1,10,2,30,3,0)
loginName^^N^30
"DATA",998.1,1,10,2,30,3,10)

"DATA",998.1,1,10,2,30,4,0)
password^^N^40
"DATA",998.1,1,10,2,30,5,0)
securityDomain^^N^50
"DATA",998.1,1,99,0)
^998.199^24^24^3150422^^
"DATA",998.1,1,99,1,0)
This is the base URL for the JSON-based serialization format used by 
"DATA",998.1,1,99,2,0)
the <a href="http://www.carewebframework.org" _target="_blank">
"DATA",998.1,1,99,3,0)
CareWeb Framework</a>.
"DATA",998.1,1,99,4,0)

"DATA",998.1,1,99,5,0)
<hr> 
"DATA",998.1,1,99,6,0)

"DATA",998.1,1,99,7,0)
This service is supported by the <b>VistA Serialization Framework</b>, 
"DATA",998.1,1,99,8,0)
developed by Doug Martin of the <a href="http://www.regenstrief.org"
"DATA",998.1,1,99,9,0)
target="_blank">Regenstrief Institute.<a>
"DATA",998.1,1,99,10,0)

"DATA",998.1,1,99,11,0)
<p>
"DATA",998.1,1,99,12,0)

"DATA",998.1,1,99,13,0)
It is freely available as open source under the 
"DATA",998.1,1,99,14,0)
<a href="https://www.mozilla.org/MPL/2.0/" target="_blank">MPL 2.0 license</a>:
"DATA",998.1,1,99,15,0)

"DATA",998.1,1,99,16,0)
<ul> 
"DATA",998.1,1,99,17,0)
<li> The complete source may be downloaded 
"DATA",998.1,1,99,18,0)
  <a href="https://github.com/mdgeek/VistA-Serialization-Framework" 
"DATA",998.1,1,99,19,0)
     target="_blank">here.</a>
"DATA",998.1,1,99,20,0)
</li>
"DATA",998.1,1,99,21,0)
<li> A working virtual machine may be built from this
"DATA",998.1,1,99,22,0)
  <a href="https://github.com/mdgeek/VistA-FHIR-CWF"
"DATA",998.1,1,99,23,0)
     target="_blank">source.</a>
"DATA",998.1,1,99,24,0)
</ul>
"DATA",998.1,2,0)
DSTU1^application/xml+fhir,application/xml,text/xml,xml^RGSEFHIX^0.0.82-3059
"DATA",998.1,2,10,0)
^998.11^48^48
"DATA",998.1,2,10,1,0)
Binary
"DATA",998.1,2,10,1,10)
D COMPID^RGSERGET
"DATA",998.1,2,10,2,0)
Binary_8925^1^8925
"DATA",998.1,2,10,2,30,0)
^998.12I^2^2
"DATA",998.1,2,10,2,30,1,0)
@content^^C^10
"DATA",998.1,2,10,2,30,1,10)
D TOBINARY^RGSERDOC(IEN)
"DATA",998.1,2,10,2,30,2,0)
attr:contentType^^N^1
"DATA",998.1,2,10,2,30,2,10)
text/plain
"DATA",998.1,2,10,3,0)
Condition^^9000011
"DATA",998.1,2,10,3,30,0)
^998.12I^8^8
"DATA",998.1,2,10,3,30,1,0)
subject^.02^C^10
"DATA",998.1,2,10,3,30,1,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,2,10,3,30,2,0)
code!start^^C^20
"DATA",998.1,2,10,3,30,2,10)
D NEWTAG(PN)
"DATA",998.1,2,10,3,30,3,0)
coding^.01^O^20.1
"DATA",998.1,2,10,3,30,3,10)
*/ICD9
"DATA",998.1,2,10,3,30,4,0)
code!end^.05^C^20.2
"DATA",998.1,2,10,3,30,4,10)
D PUT("text",VL("E")),ENDTAG(PN)
"DATA",998.1,2,10,3,30,5,0)
category^^N^30
"DATA",998.1,2,10,3,30,6,0)
status^^S^40
"DATA",998.1,2,10,3,30,6,10)
confirmed
"DATA",998.1,2,10,3,30,7,0)
onsetDate^.13^D^50
"DATA",998.1,2,10,3,30,8,0)
abatementDate^1.07^D^60
"DATA",998.1,2,10,3,40,0)
^998.13I^4^4
"DATA",998.1,2,10,3,40,1,0)
subject^.02^R^10
"DATA",998.1,2,10,3,40,1,20)
S X=$$COHORT(PN,$NA(^AUPNPROB("AC")))
"DATA",998.1,2,10,3,40,2,0)
onset^.13^D^20
"DATA",998.1,2,10,3,40,3,0)
subject:Patient^.02^R^10
"DATA",998.1,2,10,3,40,3,20)
S X=$$COHORT(PN,$NA(^AUPNPROB("AC")))
"DATA",998.1,2,10,3,40,4,0)
_id^@ien^T^30
"DATA",998.1,2,10,4,0)
DocumentReference^^8925
"DATA",998.1,2,10,4,30,0)
^998.12I^24^22
"DATA",998.1,2,10,4,30,1,0)
description^1701^F^140
"DATA",998.1,2,10,4,30,2,0)
type^.01^C^40
"DATA",998.1,2,10,4,30,2,10)
D CODING(PN,"#8925.1",VL("I"),VL("E"))
"DATA",998.1,2,10,4,30,3,0)
subject^.02^C^30
"DATA",998.1,2,10,4,30,3,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,2,10,4,30,4,0)
author^1202^C^60
"DATA",998.1,2,10,4,30,4,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,2,10,4,30,5,0)
mimeType^^S^170
"DATA",998.1,2,10,4,30,5,10)
text/plain
"DATA",998.1,2,10,4,30,6,0)
created^1201^D^100
"DATA",998.1,2,10,4,30,7,0)
context^.07,.08^C^110
"DATA",998.1,2,10,4,30,7,10)
D NEWTAG(PN),PERIOD(VL("I"),VL(2,"I")),ENDTAG(PN)
"DATA",998.1,2,10,4,30,9,0)
location^@ien^C^210
"DATA",998.1,2,10,4,30,9,10)
D PUT(PN,$$HOSTURL^RGNETWWW("*/Binary/8925-"_VL("I")))
"DATA",998.1,2,10,4,30,10,0)
masterIdentifier^@ien^C^10
"DATA",998.1,2,10,4,30,10,10)
D NEWTAG(PN),PUT("value",$$SYSUUID^RGNETWWW_"/Document/"_VL("I")),ENDTAG(PN)
"DATA",998.1,2,10,4,30,11,0)
status^.05~.02^C^120
"DATA",998.1,2,10,4,30,11,10)
N X S X=VL("I") D PUT(PN,$S("rd"[X:"entered in error",1:"current"))
"DATA",998.1,2,10,4,30,13,0)
identifier^^N^20
"DATA",998.1,2,10,4,30,14,0)
class^^N^50
"DATA",998.1,2,10,4,30,15,0)
custodian^^N^70
"DATA",998.1,2,10,4,30,16,0)
policyManager^^N^80
"DATA",998.1,2,10,4,30,17,0)
authenticator^^N^90
"DATA",998.1,2,10,4,30,18,0)
indexed^1201^D^110
"DATA",998.1,2,10,4,30,19,0)
docStatus^^N^130
"DATA",998.1,2,10,4,30,20,0)
confidentiality^^N^150
"DATA",998.1,2,10,4,30,21,0)
primaryLanguage^^N^160
"DATA",998.1,2,10,4,30,22,0)
format^^N^180
"DATA",998.1,2,10,4,30,23,0)
size^^N^190
"DATA",998.1,2,10,4,30,24,0)
hash^^N^200
"DATA",998.1,2,10,4,40,0)
^998.13I^6^6
"DATA",998.1,2,10,4,40,1,0)
subject:Patient^.02^R^10
"DATA",998.1,2,10,4,40,1,20)
S X=$$COHORT(PN,$NA(^TIU(8925,"C")))
"DATA",998.1,2,10,4,40,2,0)
period^1301^D^20
"DATA",998.1,2,10,4,40,3,0)
type^.01^T^30
"DATA",998.1,2,10,4,40,4,0)
author^1202^R^40
"DATA",998.1,2,10,4,40,5,0)
_id^@ien^T^50
"DATA",998.1,2,10,4,40,6,0)
indexed^1301^D^60
"DATA",998.1,2,10,5,0)
Encounter^^9000010
"DATA",998.1,2,10,5,30,0)
^998.12I^9^8
"DATA",998.1,2,10,5,30,1,0)
status^^C^10
"DATA",998.1,2,10,5,30,1,10)
D PUT(PN,$$GETSTAT^RGSERENC(IEN))
"DATA",998.1,2,10,5,30,2,0)
class^.07^C^20
"DATA",998.1,2,10,5,30,2,10)
N X S X=VL("I") D PUT(PN,$S(X="H":"inpatient",X="A":"ambulatory",1:"virtual"))
"DATA",998.1,2,10,5,30,3,0)
subject^.05^C^30
"DATA",998.1,2,10,5,30,3,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,2,10,5,30,4,0)
period^.01,.18^C^40
"DATA",998.1,2,10,5,30,4,10)
D PERIOD(VL("I"),VL(2,"I"))
"DATA",998.1,2,10,5,30,6,0)
location^.01,.18,.22^C^60
"DATA",998.1,2,10,5,30,6,10)
D:VL(3) NEWTAG(PN),REF2(PN,"Location",VL(3,"I"),VL(3,"E")),PERIOD(VL("I"),VL(2,"I")),ENDTAG(PN)
"DATA",998.1,2,10,5,30,7,0)
identifier!visitid^15001^C^70
"DATA",998.1,2,10,5,30,7,10)
D IDENT("@identifiers/visits",VL("I"),PN(0),"official")
"DATA",998.1,2,10,5,30,8,0)
type^.07^C^80
"DATA",998.1,2,10,5,30,8,10)
D CODING(PN,"@types/visits",VL("I"),VL("E"))
"DATA",998.1,2,10,5,30,9,0)
participant^^C^90
"DATA",998.1,2,10,5,30,9,10)
D GET^RGSERGET(.RGSER,"*/Encounter_Participant",$NA(^AUPNVPRV("AD",IEN)),PN)
"DATA",998.1,2,10,5,40,0)
^998.13I^5^5
"DATA",998.1,2,10,5,40,1,0)
subject^.05^R^10
"DATA",998.1,2,10,5,40,1,20)
S X=$$COHORT(PN,$NA(^AUPNVSIT("C")))
"DATA",998.1,2,10,5,40,2,0)
type^.07^T^20
"DATA",998.1,2,10,5,40,3,0)
date^.01,.18^D^20
"DATA",998.1,2,10,5,40,4,0)
subject:Patient^.05^R^10
"DATA",998.1,2,10,5,40,4,20)
S X=$$COHORT(PN,$NA(^AUPNVSIT("C")))
"DATA",998.1,2,10,5,40,5,0)
_id^@ien^T^30
"DATA",998.1,2,10,6,0)
Encounter_Participant^1^9000010.06
"DATA",998.1,2,10,6,30,0)
^998.12I^3^3
"DATA",998.1,2,10,6,30,1,0)
type^.04^C^10
"DATA",998.1,2,10,6,30,1,10)
D:VL CODING(PN,"http://hl7.org/fhir/v3/ParticipationType",VL("I")_"PRF",VL("E"))
"DATA",998.1,2,10,6,30,2,0)
individual^.01^C^20
"DATA",998.1,2,10,6,30,2,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,2,10,6,30,3,0)
type^.05^C^10.1
"DATA",998.1,2,10,6,30,3,10)
D:VL CODING(PN,"http://hl7.org/fhir/v3/ParticipationType",$S(VL("I")="A":"ATND",1:"PRF"),VL("E"))
"DATA",998.1,2,10,7,0)
ICD9^1^80
"DATA",998.1,2,10,7,30,0)
^998.12I^3^3
"DATA",998.1,2,10,7,30,1,0)
system^^C^20
"DATA",998.1,2,10,7,30,1,10)
D PUT("system","http://hl7.org/fhir/sid/icd-9")
"DATA",998.1,2,10,7,30,2,0)
code^.01^F^30
"DATA",998.1,2,10,7,30,3,0)
display^@ien^C^40
"DATA",998.1,2,10,7,30,3,10)
D PUT(PN,$$VSTD^ICDCODE(IEN))
"DATA",998.1,2,10,8,0)
Location^^44
"DATA",998.1,2,10,8,30,0)
^998.12I^4^4
"DATA",998.1,2,10,8,30,1,0)
name^.01^F^10
"DATA",998.1,2,10,8,30,2,0)
description^10^F^20
"DATA",998.1,2,10,8,30,3,0)
managingOrganization^3^C^30
"DATA",998.1,2,10,8,30,3,10)
D REF(PN,"Organization",.VL)
"DATA",998.1,2,10,8,30,4,0)
telecom!phone:work^99^C^40
"DATA",998.1,2,10,8,30,4,10)
D TELECOM
"DATA",998.1,2,10,8,40,0)
^998.13I^1^1
"DATA",998.1,2,10,8,40,1,0)
_id^@ien^T^10
"DATA",998.1,2,10,9,0)
Observation
"DATA",998.1,2,10,9,20)
D RETRIEVE^RGSEROBS
"DATA",998.1,2,10,9,30,0)
^998.12I^20^17
"DATA",998.1,2,10,9,30,1,0)
issued^issued^D^60
"DATA",998.1,2,10,9,30,2,0)
status^status^F^70
"DATA",998.1,2,10,9,30,3,0)
reliability^reliability^F^80
"DATA",998.1,2,10,9,30,4,0)
subject^patient^C^120
"DATA",998.1,2,10,9,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,2,10,9,30,5,0)
referenceRange^low,high^C^150
"DATA",998.1,2,10,9,30,5,10)
D RANGEXML^RGSEROBS($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,2,10,9,30,7,0)
comments^comments^F^40
"DATA",998.1,2,10,9,30,8,0)
appliesDateTime^collected^D^50
"DATA",998.1,2,10,9,30,9,0)
identifier^id^C^110
"DATA",998.1,2,10,9,30,9,10)
D IDENT("@observation",VL("I"))
"DATA",998.1,2,10,9,30,10,0)
name^code,code_system^C^10
"DATA",998.1,2,10,9,30,10,10)
D CODING(PN,VL(2,"E"),VL("I"),VL("E"))
"DATA",998.1,2,10,9,30,11,0)
value^value,units^C^20
"DATA",998.1,2,10,9,30,11,10)
D VALUEXML^RGSEROBS($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,2,10,9,30,12,0)
interpretation^interpretation^C^30
"DATA",998.1,2,10,9,30,12,10)
D:VL NEWTAG(PN),PUT("text",VL("E")),ENDTAG(PN)
"DATA",998.1,2,10,9,30,13,0)
bodySite^^N^90
"DATA",998.1,2,10,9,30,14,0)
method^^N^100
"DATA",998.1,2,10,9,30,15,0)
specimen^^N^130
"DATA",998.1,2,10,9,30,16,0)
performer^^N^140
"DATA",998.1,2,10,9,30,19,0)
@id^id^N^1
"DATA",998.1,2,10,9,30,20,0)
related^related^C^160
"DATA",998.1,2,10,9,30,20,10)
D:VL RELXML^RGSEROBS(VL("I"))
"DATA",998.1,2,10,9,40,0)
^998.13I^3^3
"DATA",998.1,2,10,9,40,1,0)
subject:Patient^patient^R^10
"DATA",998.1,2,10,9,40,1,20)
S X=$$OBS^RGSEROBS(RGNETREQ("PARAMS","subject:Patient",1,1))
"DATA",998.1,2,10,9,40,2,0)
name^code^T^10
"DATA",998.1,2,10,9,40,3,0)
_id^@id^T^10
"DATA",998.1,2,10,10,0)
Organization^^4
"DATA",998.1,2,10,10,30,0)
^998.12I^3^3
"DATA",998.1,2,10,10,30,1,0)
name^.01^F^20
"DATA",998.1,2,10,10,30,2,0)
active^^S^10
"DATA",998.1,2,10,10,30,2,10)
true
"DATA",998.1,2,10,10,30,3,0)
address^@ien^O^40
"DATA",998.1,2,10,10,30,3,10)
*/Organization_Address
"DATA",998.1,2,10,11,0)
Organization_Address^1^4
"DATA",998.1,2,10,11,30,0)
^998.12I^6^6
"DATA",998.1,2,10,11,30,1,0)
use^^S^10
"DATA",998.1,2,10,11,30,1,10)
work
"DATA",998.1,2,10,11,30,2,0)
line^1.01^F^20
"DATA",998.1,2,10,11,30,3,0)
line^1.02^F^20.1
"DATA",998.1,2,10,11,30,4,0)
city^1.03^F^50
"DATA",998.1,2,10,11,30,5,0)
state^.02^F^60
"DATA",998.1,2,10,11,30,6,0)
zip^1.04^F^80
"DATA",998.1,2,10,12,0)
Organization_Reference^1^4
"DATA",998.1,2,10,12,30,0)
^998.12I^2^2
"DATA",998.1,2,10,12,30,1,0)
reference^^C^10
"DATA",998.1,2,10,12,30,1,10)
D PUT(PN,"Organization/"_IEN)
"DATA",998.1,2,10,12,30,2,0)
display^.01^F^20
"DATA",998.1,2,10,13,0)
Patient^^2
"DATA",998.1,2,10,13,30,0)
^998.12I^15^15
"DATA",998.1,2,10,13,30,1,0)
name^.01^C^10
"DATA",998.1,2,10,13,30,1,10)
D NAME(VL("I"))
"DATA",998.1,2,10,13,30,2,0)
gender^.02^C^20
"DATA",998.1,2,10,13,30,2,10)
D:VL CODING(PN,"http://hl7.org/fhir/v3/AdministrativeGender",VL("I"),VL("E"))
"DATA",998.1,2,10,13,30,3,0)
birthDate^.03^D^30
"DATA",998.1,2,10,13,30,4,0)
deceasedDateTime^.351^D^50
"DATA",998.1,2,10,13,30,5,0)
identifier!MRN^^C^60
"DATA",998.1,2,10,13,30,5,10)
D IDENT("@identifiers/patients",$$HRN^RGSERPAT(IEN),PN(0))
"DATA",998.1,2,10,13,30,6,0)
managingOrganization^^C^80
"DATA",998.1,2,10,13,30,6,10)
D:$G(DUZ(2)) GET^RGSERGET(.RGSER,"*/Organization_Reference",DUZ(2),PN)
"DATA",998.1,2,10,13,30,7,0)
photo^^C^80
"DATA",998.1,2,10,13,30,7,10)
Q:'$L($T(^MAGGTIG))  N X,Y D PHOTOS^MAGGTIG(.X,IEN) F Y=0:0 S Y=$O(X(Y)) Q:'Y  S X=$P(X(Y),U,3) I $E(X,1,4)="http" D NEWTAG(PN),PUT("contentType","image/"_$P(X,".",$L(X,"."))),PUT("url",X),ENDTAG(PN)
"DATA",998.1,2,10,13,30,8,0)
telecom!phone:home^.131^C^100
"DATA",998.1,2,10,13,30,8,10)
D TELECOM
"DATA",998.1,2,10,13,30,9,0)
telecom!phone:mobile^.134^C^110
"DATA",998.1,2,10,13,30,9,10)
D TELECOM
"DATA",998.1,2,10,13,30,10,0)
telecom!phone:work^.132^C^120
"DATA",998.1,2,10,13,30,10,10)
D TELECOM
"DATA",998.1,2,10,13,30,11,0)
address^@ien^O^130
"DATA",998.1,2,10,13,30,11,10)
*/Patient_Address_Home
"DATA",998.1,2,10,13,30,12,0)
telecom!fax:home^.136^C^140
"DATA",998.1,2,10,13,30,12,10)
D TELECOM
"DATA",998.1,2,10,13,30,13,0)
extension!race^2^M^21
"DATA",998.1,2,10,13,30,13,10)
*/Patient_Race
"DATA",998.1,2,10,13,30,14,0)
identifier!SSN^.09^C^60
"DATA",998.1,2,10,13,30,14,10)
D IDENT("http://hl7.org/fhir/sid/us-ssn",VL("E"),PN(0))
"DATA",998.1,2,10,13,30,15,0)
text^^T^1
"DATA",998.1,2,10,13,30,15,10)
TEXT
"DATA",998.1,2,10,13,40,0)
^998.13I^6^6
"DATA",998.1,2,10,13,40,1,0)
_id^@ien^T^10
"DATA",998.1,2,10,13,40,2,0)
family^.01^S^20
"DATA",998.1,2,10,13,40,2,10)
D OPRNAME(VL("E"),1) K PVAL
"DATA",998.1,2,10,13,40,2,20)
S X="$$NAMEITER^RGSERPAT"
"DATA",998.1,2,10,13,40,3,0)
given^.01^S^30
"DATA",998.1,2,10,13,40,3,10)
D OPRNAME(VL("E"),2) K PVAL
"DATA",998.1,2,10,13,40,4,0)
gender^.02^T^40
"DATA",998.1,2,10,13,40,5,0)
birthdate^.03^D^15
"DATA",998.1,2,10,13,40,6,0)
identifier^.09^T^5
"DATA",998.1,2,10,13,40,6,10)
S MATCH=PVAL=$$HRN^RGSERPAT(IEN),PVAL=$TR(PVAL,"-") S:MATCH TP=""
"DATA",998.1,2,10,13,50,0)
^998.15^1^1
"DATA",998.1,2,10,13,50,1,0)
TEXT
"DATA",998.1,2,10,13,50,1,1,0)
^998.151^6^6^3150408^^
"DATA",998.1,2,10,13,50,1,1,1,0)
<text>
"DATA",998.1,2,10,13,50,1,1,2,0)
<status value="generated"/>
"DATA",998.1,2,10,13,50,1,1,3,0)
<div xmlns="http://www.w3.org/1999/xhtml">
"DATA",998.1,2,10,13,50,1,1,4,0)
NAME: |.01|
"DATA",998.1,2,10,13,50,1,1,5,0)
</div>
"DATA",998.1,2,10,13,50,1,1,6,0)
</text> 
"DATA",998.1,2,10,14,0)
Patient/#/Condition
"DATA",998.1,2,10,14,10)
D COMPRT($NA(^AUPNPROB("AC")))
"DATA",998.1,2,10,15,0)
Patient/#/DocumentReference
"DATA",998.1,2,10,15,10)
D COMPRT($NA(^TIU(8925,"C")))
"DATA",998.1,2,10,16,0)
Patient/#/Encounter
"DATA",998.1,2,10,16,10)
D COMPRT($NA(^AUPNVSIT("C")))
"DATA",998.1,2,10,17,0)
Patient/#/Observation
"DATA",998.1,2,10,17,10)
D COMPRT($$OBS^RGSEROBS($P(PATH,"/",3)),1)
"DATA",998.1,2,10,18,0)
Patient_Address_Home^1^2
"DATA",998.1,2,10,18,30,0)
^998.12I^9^9
"DATA",998.1,2,10,18,30,1,0)
use^^S^10
"DATA",998.1,2,10,18,30,1,10)
home
"DATA",998.1,2,10,18,30,2,0)
line!1^.111^F^20
"DATA",998.1,2,10,18,30,3,0)
line!2^.112^F^20.1
"DATA",998.1,2,10,18,30,4,0)
line!3^.113^F^20.2
"DATA",998.1,2,10,18,30,5,0)
city^.114^F^50
"DATA",998.1,2,10,18,30,6,0)
state^.115^F^60
"DATA",998.1,2,10,18,30,7,0)
state!province^.1171^F^60.1
"DATA",998.1,2,10,18,30,8,0)
zip^.116^F^80
"DATA",998.1,2,10,18,30,9,0)
country^.1173^F^90
"DATA",998.1,2,10,19,0)
Patient_Race^1^2.02
"DATA",998.1,2,10,19,30,0)
^998.12I^2^2
"DATA",998.1,2,10,19,30,1,0)
valueCodeableConcept^.01^C^10
"DATA",998.1,2,10,19,30,1,10)
D:VL NEWTAG(PN),PUT("text",VL("E")),ENDTAG(PN)
"DATA",998.1,2,10,19,30,2,0)
attr:url^^N^1
"DATA",998.1,2,10,19,30,2,10)
http://hl7.org/fhir/Profile/us-core#race
"DATA",998.1,2,10,20,0)
Practitioner^^200
"DATA",998.1,2,10,20,30,0)
^998.12I^8^8
"DATA",998.1,2,10,20,30,1,0)
name^.01^C^10
"DATA",998.1,2,10,20,30,1,10)
D NAME(VL("I"))
"DATA",998.1,2,10,20,30,2,0)
telecom!phone:home^.132^C^20
"DATA",998.1,2,10,20,30,2,10)
D TELECOM
"DATA",998.1,2,10,20,30,3,0)
telecom!phone:work^.131^C^30
"DATA",998.1,2,10,20,30,3,10)
D TELECOM
"DATA",998.1,2,10,20,30,4,0)
telecom!fax:work^.136^C^40
"DATA",998.1,2,10,20,30,4,10)
D TELECOM
"DATA",998.1,2,10,20,30,5,0)
identifier!DEA^53.2^C^50
"DATA",998.1,2,10,20,30,5,10)
D IDENT("",VL("E"),PN(0),"official")
"DATA",998.1,2,10,20,30,6,0)
gender^4^C^40
"DATA",998.1,2,10,20,30,6,10)
D:VL CODING(PN,"http://hl7.org/fhir/v3/AdministrativeGender",VL("I"),VL("E"))
"DATA",998.1,2,10,20,30,7,0)
identifier!SSN^9^C^50
"DATA",998.1,2,10,20,30,7,10)
D IDENT("http://hl7.org/fhir/sid/us-ssn",VL("E"),PN(0))
"DATA",998.1,2,10,20,30,8,0)
identifier!NPI^41.99^C^50
"DATA",998.1,2,10,20,30,8,10)
D IDENT("urn:oid:2.16.840.1.113883.4.6",VL("E"),PN(0))
"DATA",998.1,2,10,20,40,0)
^998.13I^3^3
"DATA",998.1,2,10,20,40,1,0)
family^.01^S^20
"DATA",998.1,2,10,20,40,1,10)
D OPRNAME(VL("E"),1) K PVAL
"DATA",998.1,2,10,20,40,1,20)
S X="$$NAMEITER^RGSERPER"
"DATA",998.1,2,10,20,40,2,0)
given^.01^S^30
"DATA",998.1,2,10,20,40,2,10)
D OPRNAME(VL("E"),2) K PVAL
"DATA",998.1,2,10,20,40,3,0)
_id^@ien^T^40
"DATA",998.1,2,10,21,0)
User^^200
"DATA",998.1,2,10,21,30,0)
^998.12I^6^6
"DATA",998.1,2,10,21,30,1,0)
name^.01^C^10
"DATA",998.1,2,10,21,30,1,10)
D NAME(VL("I"))
"DATA",998.1,2,10,21,30,2,0)
birthDate^5^D^20
"DATA",998.1,2,10,21,30,3,0)
extension!organization^^T^30
"DATA",998.1,2,10,21,30,3,10)
ORGANIZATION
"DATA",998.1,2,10,21,30,4,0)
telecom!phone:work^.132^C^40
"DATA",998.1,2,10,21,30,4,10)
D TELECOM
"DATA",998.1,2,10,21,30,5,0)
telecom!phone:home^.131^C^50
"DATA",998.1,2,10,21,30,5,10)
D TELECOM
"DATA",998.1,2,10,21,30,6,0)
telecom!fax:work^.136^C^60
"DATA",998.1,2,10,21,30,6,10)
D TELECOM
"DATA",998.1,2,10,21,40,0)
^998.13I^1^1
"DATA",998.1,2,10,21,40,1,0)
_id^@ien^T^10
"DATA",998.1,2,10,21,50,0)
^998.15^1^1
"DATA",998.1,2,10,21,50,1,0)
ORGANIZATION
"DATA",998.1,2,10,21,50,1,1,0)
^^6^6^3150311.205633
"DATA",998.1,2,10,21,50,1,1,1,0)
<extension url="http://www.carewebframework.org/fhir/extension/user/organization">
"DATA",998.1,2,10,21,50,1,1,2,0)
<valueResource>
"DATA",998.1,2,10,21,50,1,1,3,0)
<reference value="Organization/|@DUZ(2)|"/>
"DATA",998.1,2,10,21,50,1,1,4,0)
<display value="|@$P(^DIC(4,DUZ(2),0),U)|"/>
"DATA",998.1,2,10,21,50,1,1,5,0)
</valueResource>
"DATA",998.1,2,10,21,50,1,1,6,0)
</extension>
"DATA",998.1,2,10,22,0)
ValueSet^^998.11
"DATA",998.1,2,10,22,20)
S IENS=IENS_RGSER("SER")_","
"DATA",998.1,2,10,22,30,0)
^998.12I^5^5
"DATA",998.1,2,10,22,30,1,0)
define^.01^C^100
"DATA",998.1,2,10,22,30,1,10)
D NEWTAG(PN),PUT("system",$$SYSTEM^RGSER("@"_VL("E"))),GET^RGSERGET(.RGSER,"*/"_VL("E"),,"concept"),ENDTAG(PN)
"DATA",998.1,2,10,22,30,2,0)
identifier^.01^C^10
"DATA",998.1,2,10,22,30,2,10)
D PUT(PN,$$SYSTEM^RGSER("@vs/"_$P(VL("E"),"_",2,99)))
"DATA",998.1,2,10,22,30,3,0)
name^.01^C^20
"DATA",998.1,2,10,22,30,3,10)
D PUT(PN,$P(VL("E"),"_",2,99))
"DATA",998.1,2,10,22,30,4,0)
description^99^F^30
"DATA",998.1,2,10,22,30,5,0)
status^^S^40
"DATA",998.1,2,10,22,30,5,10)
active
"DATA",998.1,2,10,22,40,0)
^998.13I^3^3
"DATA",998.1,2,10,22,40,1,0)
_id^@ien^T^1
"DATA",998.1,2,10,22,40,2,0)
name^.01^S^10
"DATA",998.1,2,10,22,40,2,10)
S PVAL=$S(PVAL("OPR")="s":"VALUESET_",1:"ValueSet_")_PVAL
"DATA",998.1,2,10,22,40,3,0)
@selector^.01^T^1
"DATA",998.1,2,10,22,40,3,10)
S MATCH="ValueSet_"=$E(VL("E"),1,9)
"DATA",998.1,2,10,22,40,3,20)
S X="$$ITERVS^RGSEFHIR"
"DATA",998.1,2,10,23,0)
ValueSet_DocumentType^1^8925.1
"DATA",998.1,2,10,23,30,0)
^998.12I^2^2
"DATA",998.1,2,10,23,30,1,0)
code^@ien^R^20
"DATA",998.1,2,10,23,30,2,0)
display^.01^F^30
"DATA",998.1,2,10,23,99)
List of document categories by which documents may be classified.
"DATA",998.1,2,10,24,0)
ValueSet_EncounterType^1
"DATA",998.1,2,10,24,10)
K XSER D GETTYPES^RGSERENC
"DATA",998.1,2,10,24,20)
D RETRIEVE^RGSERENC(IEN)
"DATA",998.1,2,10,24,30,0)
^998.12I^3^3
"DATA",998.1,2,10,24,30,1,0)
display^2^R^20
"DATA",998.1,2,10,24,30,2,0)
code^1^R^30
"DATA",998.1,2,10,24,30,3,0)
definition^3^R^40
"DATA",998.1,2,10,24,99)
List of recognized encounter types (service codes).
"DATA",998.1,2,10,25,0)
Medication^^50
"DATA",998.1,2,10,25,30,0)
^998.12I^7^7
"DATA",998.1,2,10,25,30,1,0)
name^.01^F^10
"DATA",998.1,2,10,25,30,2,0)
code!start^^C^20
"DATA",998.1,2,10,25,30,2,10)
D NEWTAG(PN)
"DATA",998.1,2,10,25,30,3,0)
code!end^^C^20.9
"DATA",998.1,2,10,25,30,3,10)
D ENDTAG(PN)
"DATA",998.1,2,10,25,30,4,0)
coding!ndc^31^C^20.1
"DATA",998.1,2,10,25,30,4,10)
D:VL CODING(,"http://www.fda.gov/ndc",VL("E"))
"DATA",998.1,2,10,25,30,5,0)
product!start^^C^30
"DATA",998.1,2,10,25,30,5,10)
D NEWTAG(PN)
"DATA",998.1,2,10,25,30,6,0)
product!end^^C^30.9
"DATA",998.1,2,10,25,30,6,10)
D ENDTAG(PN)
"DATA",998.1,2,10,25,30,7,0)
form^14.5^C^30.1
"DATA",998.1,2,10,25,30,7,10)
D:VL CODING(PN,"dispense_unit",,VL("E"))
"DATA",998.1,2,10,25,40,0)
^998.13I^3^3
"DATA",998.1,2,10,25,40,1,0)
code^31^T^10
"DATA",998.1,2,10,25,40,2,0)
name^.01^S^20
"DATA",998.1,2,10,25,40,3,0)
_id^@ien^T^30
"DATA",998.1,2,10,26,0)
MedicationPrescription^^52
"DATA",998.1,2,10,26,30,0)
^998.12I^8^8
"DATA",998.1,2,10,26,30,1,0)
patient^2^C^40
"DATA",998.1,2,10,26,30,1,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,2,10,26,30,2,0)
prescriber^4^C^50
"DATA",998.1,2,10,26,30,2,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,2,10,26,30,3,0)
medication^6^C^80
"DATA",998.1,2,10,26,30,3,10)
D REF(PN,"Medication",.VL)
"DATA",998.1,2,10,26,30,4,0)
dateWritten^1^D^20
"DATA",998.1,2,10,26,30,5,0)
dosageInstruction!start^^C^90
"DATA",998.1,2,10,26,30,5,10)
D NEWTAG(PN)
"DATA",998.1,2,10,26,30,6,0)
dosageInstruction!end^^C^90.9
"DATA",998.1,2,10,26,30,6,10)
D ENDTAG(PN)
"DATA",998.1,2,10,26,30,7,0)
@text^10.2^M^90.001
"DATA",998.1,2,10,26,30,7,10)
*/MedicationPrescription_Sig
"DATA",998.1,2,10,26,30,8,0)
@dosing^113^M^90.002
"DATA",998.1,2,10,26,30,8,10)
*/MedicationPrescription_Dosing
"DATA",998.1,2,10,26,40,0)
^998.13I^3^3
"DATA",998.1,2,10,26,40,1,0)
patient^2^R^10
"DATA",998.1,2,10,26,40,1,20)
S X=$$COHORT(PN,$NA(^PS(55,"*","P","A")),1)
"DATA",998.1,2,10,26,40,2,0)
_id^@ien^T^20
"DATA",998.1,2,10,26,40,3,0)
patient:Patient^2^R^10
"DATA",998.1,2,10,26,40,3,20)
S X=$$COHORT(PN,$NA(^PS(55,"*","P","A")),1)
"DATA",998.1,2,10,27,0)
MedicationPrescription_Sig^1^52.04
"DATA",998.1,2,10,27,30,0)
^998.12I^1^1
"DATA",998.1,2,10,27,30,1,0)
text^.01^F^10
"DATA",998.1,2,10,28,0)
MedicationPrescription_Dosing^1^52.0113
"DATA",998.1,2,10,28,30,0)
^998.12I^1^1
"DATA",998.1,2,10,28,30,1,0)
route^6^C^10
"DATA",998.1,2,10,28,30,1,10)
D:VL CODING(PN,"@medication_route",VL("E"))
"DATA",998.1,2,10,29,0)
Patient/#/MedicationPrescription
"DATA",998.1,2,10,29,10)
D COMPRT($$COHORT2($P(PATH,"/",3),$NA(^PS(55,"*","P","A")),1),1)
"DATA",998.1,2,10,30,0)
AdverseReaction^^120.8
"DATA",998.1,2,10,30,30,0)
^998.12I^9^7
"DATA",998.1,2,10,30,30,1,0)
identifier^^N^10
"DATA",998.1,2,10,30,30,2,0)
date^4^D^20
"DATA",998.1,2,10,30,30,3,0)
subject^.01^C^30
"DATA",998.1,2,10,30,30,3,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,2,10,30,30,4,0)
didNotOccurFlag^^S^40
"DATA",998.1,2,10,30,30,4,10)
false
"DATA",998.1,2,10,30,30,5,0)
recorder^5^C^50
"DATA",998.1,2,10,30,30,5,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,2,10,30,30,6,0)
symptom^10^M^60
"DATA",998.1,2,10,30,30,6,10)
*/AdverseReaction_Symptom
"DATA",998.1,2,10,30,30,9,0)
exposure^1,.02^C^70.2
"DATA",998.1,2,10,30,30,9,10)
S:'VL VL("E")=VL(2,"E") S VL("I")=$$VP2ID(VL("I")) D NEWTAG(PN),REF("substance","Substance",.VL),ENDTAG(PN)
"DATA",998.1,2,10,30,40,0)
^998.13I^3^3
"DATA",998.1,2,10,30,40,1,0)
subject^.01^R^10
"DATA",998.1,2,10,30,40,1,20)
S X=$$COHORT(PN,$NA(^GMR(120.8,"B")))
"DATA",998.1,2,10,30,40,2,0)
subject:Patient^.01^R^10
"DATA",998.1,2,10,30,40,2,20)
S X=$$COHORT(PN,$NA(^GMR(120.8,"B")))
"DATA",998.1,2,10,30,40,3,0)
_id^@ien^T^20
"DATA",998.1,2,10,31,0)
AdverseReaction_Symptom^1^120.81
"DATA",998.1,2,10,31,30,0)
^998.12I^2^2
"DATA",998.1,2,10,31,30,1,0)
code^.01^C^10
"DATA",998.1,2,10,31,30,1,10)
D CODING(PN,"#120.83",VL("I"),VL("E"))
"DATA",998.1,2,10,31,30,2,0)
severity^^N^20
"DATA",998.1,2,10,32,0)
AdverseReaction_Ingredient^1^120.802
"DATA",998.1,2,10,32,30,0)
^998.12I^4^4
"DATA",998.1,2,10,32,30,1,0)
date^^D^10
"DATA",998.1,2,10,32,30,2,0)
type^^S^20
"DATA",998.1,2,10,32,30,2,10)
drugadmin
"DATA",998.1,2,10,32,30,3,0)
causalityExpectation^^N^30
"DATA",998.1,2,10,32,30,4,0)
substance^.01^C^40
"DATA",998.1,2,10,32,30,4,10)
D REF(PN,"Substance",.VL,"50.416:")
"DATA",998.1,2,10,33,0)
AdverseReaction_Class^1^120.803
"DATA",998.1,2,10,33,30,0)
^998.12I^4^4
"DATA",998.1,2,10,33,30,1,0)
date^^D^10
"DATA",998.1,2,10,33,30,2,0)
type^^S^20
"DATA",998.1,2,10,33,30,2,10)
drugadmin
"DATA",998.1,2,10,33,30,3,0)
causalityExpectation^^N^30
"DATA",998.1,2,10,33,30,4,0)
substance^.01^C^40
"DATA",998.1,2,10,33,30,4,10)
D REF(PN,"Substance",.VL,"50.605:")
"DATA",998.1,2,10,34,0)
Substance
"DATA",998.1,2,10,34,10)
D COMPID^RGSERGET
"DATA",998.1,2,10,35,0)
Patient/#/AdverseReaction
"DATA",998.1,2,10,35,10)
D COMPRT($NA(^GMR(120.8,"B")))
"DATA",998.1,2,10,36,0)
Substance_50^1^50
"DATA",998.1,2,10,36,30,0)
^998.12I^4^4
"DATA",998.1,2,10,36,30,1,0)
type^.01^C^10
"DATA",998.1,2,10,36,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,2,10,36,30,2,0)
description^^W^20
"DATA",998.1,2,10,36,30,3,0)
instance^^N^30
"DATA",998.1,2,10,36,30,4,0)
ingredient^^N^40
"DATA",998.1,2,10,37,0)
Substance_50.416^1^50.416
"DATA",998.1,2,10,37,30,0)
^998.12I^4^4
"DATA",998.1,2,10,37,30,1,0)
type^.01^C^10
"DATA",998.1,2,10,37,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,2,10,37,30,2,0)
description^^W^20
"DATA",998.1,2,10,37,30,3,0)
instance^^N^30
"DATA",998.1,2,10,37,30,4,0)
ingredient^^N^40
"DATA",998.1,2,10,38,0)
Substance_50.6^1^50.6
"DATA",998.1,2,10,38,30,0)
^998.12I^4^4
"DATA",998.1,2,10,38,30,1,0)
type^.01^C^10
"DATA",998.1,2,10,38,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,2,10,38,30,2,0)
description^^W^20
"DATA",998.1,2,10,38,30,3,0)
instance^^N^30
"DATA",998.1,2,10,38,30,4,0)
ingredient^^N^40
"DATA",998.1,2,10,39,0)
Substance_50.605^1^50.605
"DATA",998.1,2,10,39,30,0)
^998.12I^4^4
"DATA",998.1,2,10,39,30,1,0)
type^.01^C^10
"DATA",998.1,2,10,39,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,2,10,39,30,2,0)
description^^W^20
"DATA",998.1,2,10,39,30,3,0)
instance^^N^30
"DATA",998.1,2,10,39,30,4,0)
ingredient^^N^40
"DATA",998.1,2,10,40,0)
Substance_120.82^1^120.82
"DATA",998.1,2,10,40,30,0)
^998.12I^4^4
"DATA",998.1,2,10,40,30,1,0)
type^.01^C^10
"DATA",998.1,2,10,40,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,2,10,40,30,2,0)
description^^W^20
"DATA",998.1,2,10,40,30,3,0)
instance^^N^30
"DATA",998.1,2,10,40,30,4,0)
ingredient^^N^40
"DATA",998.1,2,10,41,0)
Immunization^^9000010.11
"DATA",998.1,2,10,41,30,0)
^998.12I^18^18
"DATA",998.1,2,10,41,30,1,0)
identifier^^N^10
"DATA",998.1,2,10,41,30,2,0)
date^1201,.03~.01^C^20
"DATA",998.1,2,10,41,30,2,10)
D PUTDT(PN,$S(VL:VL("I"),1:VL(2,"I")))
"DATA",998.1,2,10,41,30,3,0)
vaccineType^.01^C^30
"DATA",998.1,2,10,41,30,3,10)
D CODING(PN,"#9999999.14",VL("I"),VL("E"))
"DATA",998.1,2,10,41,30,4,0)
subject^.02^C^40
"DATA",998.1,2,10,41,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,2,10,41,30,5,0)
refusedIndicator^^B^50
"DATA",998.1,2,10,41,30,6,0)
reported^^B^60
"DATA",998.1,2,10,41,30,7,0)
performer^1204^C^70
"DATA",998.1,2,10,41,30,7,10)
D:VL REF(PN,"Practitioner",.VL)
"DATA",998.1,2,10,41,30,8,0)
requester^1202^C^80
"DATA",998.1,2,10,41,30,8,10)
D:VL REF(PN,"Practitioner",.VL)
"DATA",998.1,2,10,41,30,9,0)
manufacturer^^N^90
"DATA",998.1,2,10,41,30,10,0)
location^.03~.22^C^100
"DATA",998.1,2,10,41,30,10,10)
D REF(PN,"Location",.VL)
"DATA",998.1,2,10,41,30,11,0)
lotNumber^^N^110
"DATA",998.1,2,10,41,30,12,0)
expirationDate^^D^120
"DATA",998.1,2,10,41,30,13,0)
site^^N^130
"DATA",998.1,2,10,41,30,14,0)
route^^N^140
"DATA",998.1,2,10,41,30,15,0)
doseQuantity^^N^150
"DATA",998.1,2,10,41,30,16,0)
explanation^^N^160
"DATA",998.1,2,10,41,30,17,0)
reaction^^N^170
"DATA",998.1,2,10,41,30,18,0)
vaccinationProtocol^^N^180
"DATA",998.1,2,10,41,40,0)
^998.13I^3^3
"DATA",998.1,2,10,41,40,1,0)
subject^.02^R^10
"DATA",998.1,2,10,41,40,1,20)
S X=$$COHORT(PN,$NA(^AUPNVIMM("C")))
"DATA",998.1,2,10,41,40,2,0)
subject:Patient^.02^R^10
"DATA",998.1,2,10,41,40,2,20)
S X=$$COHORT(PN,$NA(^AUPNVIMM("C")))
"DATA",998.1,2,10,41,40,3,0)
_id^@ien^T^30
"DATA",998.1,2,10,42,0)
Patient/#/Immunization
"DATA",998.1,2,10,42,10)
D COMPRT($NA(^AUPNVIMM("C")))
"DATA",998.1,2,10,43,0)
Alert^^26.13
"DATA",998.1,2,10,43,30,0)
^998.12I^6^6
"DATA",998.1,2,10,43,30,1,0)
identifier^^N^10
"DATA",998.1,2,10,43,30,2,0)
category^.02^C^20
"DATA",998.1,2,10,43,30,2,10)
D CODING(PN,"#26.13",$$VP2ID(VL("I")),VL("E"))
"DATA",998.1,2,10,43,30,3,0)
status^.03^C^30
"DATA",998.1,2,10,43,30,3,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,2,10,43,30,4,0)
subject^.01^C^40
"DATA",998.1,2,10,43,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,2,10,43,30,5,0)
author^^N^50
"DATA",998.1,2,10,43,30,6,0)
note^1^W^60
"DATA",998.1,2,10,43,30,6,10)
  
"DATA",998.1,2,10,43,40,0)
^998.13I^3^3
"DATA",998.1,2,10,43,40,1,0)
_id^@ien^T^10
"DATA",998.1,2,10,43,40,2,0)
subject^.01^R^20
"DATA",998.1,2,10,43,40,2,20)
S X=$NA(^DGPF(26.13,"B",RGNETREQ("PARAMS",PN,1,1)))
"DATA",998.1,2,10,43,40,3,0)
subject:Patient^.01^R^20
"DATA",998.1,2,10,43,40,3,20)
S X=$NA(^DGPF(26.13,"B",RGNETREQ("PARAMS",PN,1,1)))
"DATA",998.1,2,10,44,0)
Patient/#/Alert
"DATA",998.1,2,10,44,10)
D COMPRT($NA(^DGPF(26.13,"B")))
"DATA",998.1,2,10,45,0)
metadata
"DATA",998.1,2,10,45,10)
D TEMPLATE^RGSERGET("CONFORMANCE")
"DATA",998.1,2,10,45,50,0)
^998.15^3^3
"DATA",998.1,2,10,45,50,1,0)
CONFORMANCE
"DATA",998.1,2,10,45,50,1,1,0)
^998.151^28^28^3150327^^
"DATA",998.1,2,10,45,50,1,1,1,0)
<Conformance>
"DATA",998.1,2,10,45,50,1,1,2,0)
  <text>
"DATA",998.1,2,10,45,50,1,1,3,0)
    <status value="generated"/>
"DATA",998.1,2,10,45,50,1,1,4,0)
  </text>
"DATA",998.1,2,10,45,50,1,1,5,0)
  <publisher value="|@$P($$SITE^VASITE,U,2)|"/>
"DATA",998.1,2,10,45,50,1,1,6,0)
  <date value="|@$$FMTDATE^RGSER|"/>
"DATA",998.1,2,10,45,50,1,1,7,0)
  <software>
"DATA",998.1,2,10,45,50,1,1,8,0)
    <name value="VistA Serialization Framework"/>
"DATA",998.1,2,10,45,50,1,1,9,0)
    <version value="|@$$VERSION^XPDUTL("RGSE")|"/>
"DATA",998.1,2,10,45,50,1,1,10,0)
  </software>
"DATA",998.1,2,10,45,50,1,1,11,0)
  <implementation>
"DATA",998.1,2,10,45,50,1,1,12,0)
    <description value="VistA (|@RGSER("SERNM")|)"/>
"DATA",998.1,2,10,45,50,1,1,13,0)
  </implementation>
"DATA",998.1,2,10,45,50,1,1,14,0)
  <fhirVersion value="|@RGSER("VER")|"/>
"DATA",998.1,2,10,45,50,1,1,15,0)
  <acceptUnknown value="false"/>
"DATA",998.1,2,10,45,50,1,1,16,0)
  <format value="application/xml+fhir"/> 
"DATA",998.1,2,10,45,50,1,1,17,0)
  <rest>
"DATA",998.1,2,10,45,50,1,1,18,0)
    <mode value="server"/>
"DATA",998.1,2,10,45,50,1,1,19,0)
    <security>
"DATA",998.1,2,10,45,50,1,1,20,0)
      <extension url="http://fhir-registry.smarthealthit.org/Profile/oauth-uris#authorize">
"DATA",998.1,2,10,45,50,1,1,21,0)
        <valueUri value="|@$$HOSTURL^RGNETWWW("oauth2/authorize")|" />
"DATA",998.1,2,10,45,50,1,1,22,0)
      </extension>
"DATA",998.1,2,10,45,50,1,1,23,0)
      <extension url="http://fhir-registry.smarthealthit.org/Profile/oauth-uris#token">
"DATA",998.1,2,10,45,50,1,1,24,0)
        <valueUri value="|@$$HOSTURL^RGNETWWW("oauth2/token")|" />
"DATA",998.1,2,10,45,50,1,1,25,0)
      </extension>
"DATA",998.1,2,10,45,50,1,1,26,0)
    </security>
"DATA",998.1,2,10,45,50,1,1,27,0)
|#$$RESCONF^RGSEFHIR|  </rest>
"DATA",998.1,2,10,45,50,1,1,28,0)
</Conformance> 
"DATA",998.1,2,10,45,50,2,0)
CONFORMANCE_RESOURCE
"DATA",998.1,2,10,45,50,2,1,0)
^998.151^6^6^3150327^
"DATA",998.1,2,10,45,50,2,1,1,0)
    <resource>
"DATA",998.1,2,10,45,50,2,1,2,0)
      <type value="|@RESNAME|"/>
"DATA",998.1,2,10,45,50,2,1,3,0)
      <operation>
"DATA",998.1,2,10,45,50,2,1,4,0)
       <code value="read"/>
"DATA",998.1,2,10,45,50,2,1,5,0)
      </operation>
"DATA",998.1,2,10,45,50,2,1,6,0)
|#$$SRPCONF^RGSEFHIR|    </resource>
"DATA",998.1,2,10,45,50,3,0)
CONFORMANCE_PARAMETER
"DATA",998.1,2,10,45,50,3,1,0)
^998.151^4^4^3150327^
"DATA",998.1,2,10,45,50,3,1,1,0)
        <searchParam>
"DATA",998.1,2,10,45,50,3,1,2,0)
          <name value="|@SRPNAME|"/>
"DATA",998.1,2,10,45,50,3,1,3,0)
          <type value="|@SRPTYPE|"/>
"DATA",998.1,2,10,45,50,3,1,4,0)
        </searchParam>
"DATA",998.1,2,10,46,0)
Order^^100
"DATA",998.1,2,10,46,30,0)
^998.12I^9^9
"DATA",998.1,2,10,46,30,1,0)
identifier^^N^10
"DATA",998.1,2,10,46,30,2,0)
date^4^D^20
"DATA",998.1,2,10,46,30,3,0)
subject^.02^C^30
"DATA",998.1,2,10,46,30,3,10)
D:VL("I")["DPT" REF2(PN,"Patient",+VL("I"),VL("E"))
"DATA",998.1,2,10,46,30,4,0)
source^1^C^40
"DATA",998.1,2,10,46,30,4,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,2,10,46,30,5,0)
target^^N^50
"DATA",998.1,2,10,46,30,6,0)
reason^^N^60
"DATA",998.1,2,10,46,30,7,0)
authority^^N^70
"DATA",998.1,2,10,46,30,8,0)
when^^N^80
"DATA",998.1,2,10,46,30,9,0)
detail:reference^@ien^C^90
"DATA",998.1,2,10,46,30,9,10)
D PUT(PN,"DiagnosticOrder/"_VL("I"))
"DATA",998.1,2,10,47,0)
OperationOutcome^^.84
"DATA",998.1,2,10,47,20)

"DATA",998.1,2,10,47,21)
K:$G(VALS(FILE,IENS,"1.2~1","E"))'="RGSE" VALS
"DATA",998.1,2,10,47,30,0)
^998.12I^8^8
"DATA",998.1,2,10,47,30,1,0)
issue!start^^C^10
"DATA",998.1,2,10,47,30,1,10)
D NEWTAG(PN)
"DATA",998.1,2,10,47,30,2,0)
issue!end^^C^10.9
"DATA",998.1,2,10,47,30,2,10)
D ENDTAG(PN)
"DATA",998.1,2,10,47,30,3,0)
severity^1^C^10.1
"DATA",998.1,2,10,47,30,3,10)
D PUT(PN,$S($G(VL("I"))=1:"error",1:"information"))
"DATA",998.1,2,10,47,30,4,0)
type^1.3^C^10.2
"DATA",998.1,2,10,47,30,4,10)
D CODING(PN,"http://hl7.org/fhir/issue-type",$P(VL("E"),":",2),$P(VL("E"),":",3))
"DATA",998.1,2,10,47,30,5,0)
details^2^W^10.3
"DATA",998.1,2,10,47,30,5,10)
%20
"DATA",998.1,2,10,47,30,6,0)
location^^N^10.4
"DATA",998.1,2,10,47,30,7,0)
text^4^T^5
"DATA",998.1,2,10,47,30,7,10)
TEXT
"DATA",998.1,2,10,47,30,8,0)
@package^1.2~1^N^1
"DATA",998.1,2,10,47,30,8,10)

"DATA",998.1,2,10,47,40,0)
^998.13I^2^2
"DATA",998.1,2,10,47,40,1,0)
_id^@ien^T^10
"DATA",998.1,2,10,47,40,2,0)
@selector^^T^1
"DATA",998.1,2,10,47,40,2,20)
S X=$NA(^DI(.84,"C",$$LKPKG^XPDUTL("RGSE")))
"DATA",998.1,2,10,47,50,0)
^998.15^1^1
"DATA",998.1,2,10,47,50,1,0)
TEXT
"DATA",998.1,2,10,47,50,1,1,0)
^998.151^10^10^3150420^^
"DATA",998.1,2,10,47,50,1,1,1,0)
<text>
"DATA",998.1,2,10,47,50,1,1,2,0)
<status value="generated"/>
"DATA",998.1,2,10,47,50,1,1,3,0)
<div xmlns="http://www.w3.org/1999/xhtml">
"DATA",998.1,2,10,47,50,1,1,4,0)
<table style='margin:5px;border:1px solid black'>
"DATA",998.1,2,10,47,50,1,1,5,0)
<tr style='background:lightgray'><td><h1>Operation Outcome (|\@ien|)</h1></td></tr>
"DATA",998.1,2,10,47,50,1,1,6,0)
<tr><td style='border-bottom:1px solid black'><pre>|4,W|</pre></td></tr>
"DATA",998.1,2,10,47,50,1,1,7,0)
<tr><td><pre>|2,W|</pre></td></tr>
"DATA",998.1,2,10,47,50,1,1,8,0)
</table>
"DATA",998.1,2,10,47,50,1,1,9,0)
</div>
"DATA",998.1,2,10,47,50,1,1,10,0)
</text> 
"DATA",998.1,2,10,48,0)
DiagnosticOrder
"DATA",998.1,2,20,0)
^998.14^5^5^3150625^^^^
"DATA",998.1,2,20,1,0)
Access-Control-Allow-Credentials: true
"DATA",998.1,2,20,2,0)
Access-Control-Allow-Headers: origin, authorization, accept, content-type, x-requested-with
"DATA",998.1,2,20,3,0)
Access-Control-Allow-Methods: GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS
"DATA",998.1,2,20,4,0)
Access-Control-Allow-Origin: *
"DATA",998.1,2,20,5,0)
Cache-Control: max-age=0
"DATA",998.1,2,99,0)
^998.199^25^25^3170322^
"DATA",998.1,2,99,1,0)
This is the base URL for the DSTU1 XML FHIR endpoint. 
"DATA",998.1,2,99,2,0)

"DATA",998.1,2,99,3,0)
<hr> 
"DATA",998.1,2,99,4,0)

"DATA",998.1,2,99,5,0)
This service is supported by the <b>VistA Serialization Framework</b>, 
"DATA",998.1,2,99,6,0)
developed by Doug Martin of the <a href="http://www.regenstrief.org"
"DATA",998.1,2,99,7,0)
target="_blank">Regenstrief Institute.<a>
"DATA",998.1,2,99,8,0)

"DATA",998.1,2,99,9,0)
<p>
"DATA",998.1,2,99,10,0)

"DATA",998.1,2,99,11,0)
It is freely available as open source under the 
"DATA",998.1,2,99,12,0)
<a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License, Version 2.0</a>:
"DATA",998.1,2,99,13,0)

"DATA",998.1,2,99,14,0)
<ul> 
"DATA",998.1,2,99,15,0)
<li> The FHIR conformance document is available
"DATA",998.1,2,99,16,0)
  <a href="/DSTU1/metadata" target="_blank">here</a>
"DATA",998.1,2,99,17,0)
</li>
"DATA",998.1,2,99,18,0)
<li> The complete source may be downloaded 
"DATA",998.1,2,99,19,0)
  <a href="https://github.com/mdgeek/VistA-Serialization-Framework" 
"DATA",998.1,2,99,20,0)
     target="_blank">here.</a>
"DATA",998.1,2,99,21,0)
</li>
"DATA",998.1,2,99,22,0)
<li> A working virtual machine may be built from this
"DATA",998.1,2,99,23,0)
  <a href="https://github.com/mdgeek/VistA-FHIR-CWF"
"DATA",998.1,2,99,24,0)
     target="_blank">source.</a>
"DATA",998.1,2,99,25,0)
</ul>
"DATA",998.1,3,0)
DSTU2^application/xml+fhir,application/xml,text/xml,xml^RGSEFHIX^0.5.0
"DATA",998.1,3,10,0)
^998.11^56^55
"DATA",998.1,3,10,1,0)
Binary
"DATA",998.1,3,10,1,10)
D COMPID^RGSERGET
"DATA",998.1,3,10,2,0)
Binary_8925^1^8925
"DATA",998.1,3,10,2,30,0)
^998.12I^3^3
"DATA",998.1,3,10,2,30,1,0)
content^^C^10
"DATA",998.1,3,10,2,30,1,10)
D TOBINARY^RGSERDOC(IEN,"<content value=""",""" />")
"DATA",998.1,3,10,2,30,2,0)
id^@ienx^R^1
"DATA",998.1,3,10,2,30,3,0)
contentType^^S^1
"DATA",998.1,3,10,2,30,3,10)
text/plain
"DATA",998.1,3,10,3,0)
Condition^^9000011
"DATA",998.1,3,10,3,30,0)
^998.12I^9^9
"DATA",998.1,3,10,3,30,1,0)
patient^.02^C^10
"DATA",998.1,3,10,3,30,1,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,3,10,3,30,2,0)
code!start^^C^20
"DATA",998.1,3,10,3,30,2,10)
D NEWTAG(PN)
"DATA",998.1,3,10,3,30,3,0)
coding^.01^O^20.1
"DATA",998.1,3,10,3,30,3,10)
*/ICD9
"DATA",998.1,3,10,3,30,4,0)
code!end^.05^C^20.2
"DATA",998.1,3,10,3,30,4,10)
D PUT("text",VL("E")),ENDTAG(PN)
"DATA",998.1,3,10,3,30,5,0)
category^^N^30
"DATA",998.1,3,10,3,30,6,0)
clinicalStatus^^S^40
"DATA",998.1,3,10,3,30,6,10)
confirmed
"DATA",998.1,3,10,3,30,7,0)
onsetDate^.13^D^50
"DATA",998.1,3,10,3,30,8,0)
abatementDate^1.07^D^60
"DATA",998.1,3,10,3,30,9,0)
id^@id^R^1
"DATA",998.1,3,10,3,40,0)
^998.13I^4^4
"DATA",998.1,3,10,3,40,1,0)
patient^.02^R^10
"DATA",998.1,3,10,3,40,1,20)
S X=$$COHORT(PN,$NA(^AUPNPROB("AC")))
"DATA",998.1,3,10,3,40,2,0)
onset^.13^D^20
"DATA",998.1,3,10,3,40,3,0)
patient:Patient^.02^R^10
"DATA",998.1,3,10,3,40,3,20)
S X=$$COHORT(PN,$NA(^AUPNPROB("AC")))
"DATA",998.1,3,10,3,40,4,0)
_id^@ien^T^30
"DATA",998.1,3,10,4,0)
DocumentReference^^8925
"DATA",998.1,3,10,4,30,0)
^998.12I^26^25
"DATA",998.1,3,10,4,30,1,0)
description^1701^F^140
"DATA",998.1,3,10,4,30,2,0)
type^.01^C^40
"DATA",998.1,3,10,4,30,2,10)
D CODING(PN,"#8925.1",VL("I"),VL("E"))
"DATA",998.1,3,10,4,30,3,0)
subject^.02^C^30
"DATA",998.1,3,10,4,30,3,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,3,10,4,30,4,0)
author^1202^C^60
"DATA",998.1,3,10,4,30,4,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,3,10,4,30,5,0)
contentType!content^^S^200.1
"DATA",998.1,3,10,4,30,5,10)
text/plain
"DATA",998.1,3,10,4,30,6,0)
created^1201^D^100
"DATA",998.1,3,10,4,30,7,0)
context^.07,.08^C^110
"DATA",998.1,3,10,4,30,7,10)
D NEWTAG(PN),PERIOD(VL("I"),VL(2,"I")),ENDTAG(PN)
"DATA",998.1,3,10,4,30,9,0)
url!content^@ien^C^200.4
"DATA",998.1,3,10,4,30,9,10)
D PUT(PN,$$HOSTURL^RGNETWWW("*/Binary/8925-"_VL("I")))
"DATA",998.1,3,10,4,30,10,0)
masterIdentifier^@ien^C^10
"DATA",998.1,3,10,4,30,10,10)
D NEWTAG(PN),PUT("value",$$SYSUUID^RGNETWWW_"/Document/"_VL("I")),ENDTAG(PN)
"DATA",998.1,3,10,4,30,11,0)
status^.05~.02^C^120
"DATA",998.1,3,10,4,30,11,10)
N X S X=VL("I") D PUT(PN,$S("rd"[X:"entered-in-error",1:"current"))
"DATA",998.1,3,10,4,30,12,0)
id^@id^R^1
"DATA",998.1,3,10,4,30,13,0)
identifier^^N^20
"DATA",998.1,3,10,4,30,14,0)
class^^N^50
"DATA",998.1,3,10,4,30,15,0)
custodian^^N^70
"DATA",998.1,3,10,4,30,16,0)
title!content^^N^200.7
"DATA",998.1,3,10,4,30,17,0)
authenticator^^N^90
"DATA",998.1,3,10,4,30,18,0)
indexed^1201^D^110
"DATA",998.1,3,10,4,30,19,0)
docStatus^^N^130
"DATA",998.1,3,10,4,30,20,0)
confidentiality^^N^150
"DATA",998.1,3,10,4,30,21,0)
language!content^^N^200.2
"DATA",998.1,3,10,4,30,22,0)
format^^N^180
"DATA",998.1,3,10,4,30,23,0)
size!content^^N^200.5
"DATA",998.1,3,10,4,30,24,0)
hash!content^^N^200.6
"DATA",998.1,3,10,4,30,25,0)
content!start^^C^200
"DATA",998.1,3,10,4,30,25,10)
D NEWTAG(PN)
"DATA",998.1,3,10,4,30,26,0)
content!end^^C^200.9
"DATA",998.1,3,10,4,30,26,10)
D ENDTAG(PN)
"DATA",998.1,3,10,4,40,0)
^998.13I^6^6
"DATA",998.1,3,10,4,40,1,0)
subject:Patient^.02^R^10
"DATA",998.1,3,10,4,40,1,20)
S X=$$COHORT(PN,$NA(^TIU(8925,"C")))
"DATA",998.1,3,10,4,40,2,0)
period^1301^D^20
"DATA",998.1,3,10,4,40,3,0)
type^.01^T^30
"DATA",998.1,3,10,4,40,4,0)
author^1202^R^40
"DATA",998.1,3,10,4,40,5,0)
_id^@ien^T^50
"DATA",998.1,3,10,4,40,6,0)
indexed^1301^D^60
"DATA",998.1,3,10,5,0)
Encounter^^9000010
"DATA",998.1,3,10,5,30,0)
^998.12I^10^9
"DATA",998.1,3,10,5,30,1,0)
status^^C^10
"DATA",998.1,3,10,5,30,1,10)
D PUT(PN,$$GETSTAT^RGSERENC(IEN))
"DATA",998.1,3,10,5,30,2,0)
class^.07^C^20
"DATA",998.1,3,10,5,30,2,10)
N X S X=VL("I") D PUT(PN,$S(X="H":"inpatient",X="A":"ambulatory",1:"virtual"))
"DATA",998.1,3,10,5,30,3,0)
subject^.05^C^30
"DATA",998.1,3,10,5,30,3,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,3,10,5,30,4,0)
period^.01,.18^C^40
"DATA",998.1,3,10,5,30,4,10)
D PERIOD(VL("I"),VL(2,"I"))
"DATA",998.1,3,10,5,30,6,0)
location^.01,.18,.22^C^60
"DATA",998.1,3,10,5,30,6,10)
D:VL(3) NEWTAG(PN),REF2(PN,"Location",VL(3,"I"),VL(3,"E")),PERIOD(VL("I"),VL(2,"I")),ENDTAG(PN)
"DATA",998.1,3,10,5,30,7,0)
identifier!visitid^15001^C^70
"DATA",998.1,3,10,5,30,7,10)
D IDENT("@identifiers/visits",VL("I"),PN(0),"official")
"DATA",998.1,3,10,5,30,8,0)
type^.07^C^80
"DATA",998.1,3,10,5,30,8,10)
D CODING(PN,"@types/visits",VL("I"),VL("E"))
"DATA",998.1,3,10,5,30,9,0)
participant^^C^90
"DATA",998.1,3,10,5,30,9,10)
D GET^RGSERGET(.RGSER,"*/Encounter_Participant",$NA(^AUPNVPRV("AD",IEN)),PN)
"DATA",998.1,3,10,5,30,10,0)
id^@id^R^1
"DATA",998.1,3,10,5,40,0)
^998.13I^5^4
"DATA",998.1,3,10,5,40,1,0)
patient^.05^R^10
"DATA",998.1,3,10,5,40,1,20)
S X=$$COHORT(PN,$NA(^AUPNVSIT("C")))
"DATA",998.1,3,10,5,40,2,0)
type^.07^T^20
"DATA",998.1,3,10,5,40,3,0)
date^.01,.18^D^20
"DATA",998.1,3,10,5,40,5,0)
_id^@ien^T^30
"DATA",998.1,3,10,6,0)
Encounter_Participant^1^9000010.06
"DATA",998.1,3,10,6,30,0)
^998.12I^3^3
"DATA",998.1,3,10,6,30,1,0)
type^.04^C^10
"DATA",998.1,3,10,6,30,1,10)
D:VL CODING(PN,"http://hl7.org/fhir/v3/ParticipationType",VL("I")_"PRF",VL("E"))
"DATA",998.1,3,10,6,30,2,0)
individual^.01^C^20
"DATA",998.1,3,10,6,30,2,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,3,10,6,30,3,0)
type^.05^C^10.1
"DATA",998.1,3,10,6,30,3,10)
D:VL CODING(PN,"http://hl7.org/fhir/v3/ParticipationType",$S(VL("I")="A":"ATND",1:"PRF"),VL("E"))
"DATA",998.1,3,10,7,0)
ICD9^1^80
"DATA",998.1,3,10,7,30,0)
^998.12I^3^3
"DATA",998.1,3,10,7,30,1,0)
system^^C^20
"DATA",998.1,3,10,7,30,1,10)
D PUT("system","http://hl7.org/fhir/sid/icd-9")
"DATA",998.1,3,10,7,30,2,0)
code^.01^F^30
"DATA",998.1,3,10,7,30,3,0)
display^@ien^C^40
"DATA",998.1,3,10,7,30,3,10)
D PUT(PN,$$VSTD^ICDCODE(IEN))
"DATA",998.1,3,10,8,0)
Location^^44
"DATA",998.1,3,10,8,30,0)
^998.12I^8^8
"DATA",998.1,3,10,8,30,1,0)
name^.01^F^10
"DATA",998.1,3,10,8,30,2,0)
description^10^F^20
"DATA",998.1,3,10,8,30,3,0)
managingOrganization^3^C^30
"DATA",998.1,3,10,8,30,3,10)
D REF(PN,"Organization",.VL)
"DATA",998.1,3,10,8,30,4,0)
telecom!phone:work^99^C^40
"DATA",998.1,3,10,8,30,4,10)
D TELECOM
"DATA",998.1,3,10,8,30,5,0)
id^@id^R^1
"DATA",998.1,3,10,8,30,6,0)
mode^^S^50
"DATA",998.1,3,10,8,30,6,10)
instance
"DATA",998.1,3,10,8,30,7,0)
type^2,9^C^60
"DATA",998.1,3,10,8,30,7,10)
D CODING(PN,"http://hl7.org/fhir/v3/RoleCode",$$GETTYPE^RGSERLOC($G(VL("I")),$G(VL(2,"I"))))
"DATA",998.1,3,10,8,30,8,0)
status^2505,2506^C^70
"DATA",998.1,3,10,8,30,8,10)
D PUT(PN,$$GETSTAT^RGSERLOC($G(VL("I")),$G(VL(2,"I"))))
"DATA",998.1,3,10,8,40,0)
^998.13I^4^4
"DATA",998.1,3,10,8,40,1,0)
_id^@ien^T^10
"DATA",998.1,3,10,8,40,2,0)
type^2,9^T^10
"DATA",998.1,3,10,8,40,2,10)
S TP="",MATCH=PVAL=$$GETTYPE^RGSERLOC($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,3,10,8,40,3,0)
status^2505,2506^T^20
"DATA",998.1,3,10,8,40,3,10)
S TP="",MATCH=PVAL=$$GETSTAT^RGSERLOC($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,3,10,8,40,4,0)
name^.01^S^30
"DATA",998.1,3,10,9,0)
Observation
"DATA",998.1,3,10,9,20)
D RETRIEVE^RGSEROBS
"DATA",998.1,3,10,9,30,0)
^998.12I^20^17
"DATA",998.1,3,10,9,30,1,0)
issued^issued^D^60
"DATA",998.1,3,10,9,30,2,0)
status^status^F^70
"DATA",998.1,3,10,9,30,3,0)
reliability^reliability^F^80
"DATA",998.1,3,10,9,30,4,0)
subject^patient^C^120
"DATA",998.1,3,10,9,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,3,10,9,30,5,0)
referenceRange^low,high^C^150
"DATA",998.1,3,10,9,30,5,10)
D RANGEXML^RGSEROBS($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,3,10,9,30,7,0)
comments^comments^F^40
"DATA",998.1,3,10,9,30,8,0)
appliesDateTime^collected^D^50
"DATA",998.1,3,10,9,30,9,0)
identifier^id^C^110
"DATA",998.1,3,10,9,30,9,10)
D IDENT("@observation",VL("I"))
"DATA",998.1,3,10,9,30,10,0)
code^code,code_system^C^10
"DATA",998.1,3,10,9,30,10,10)
D:VL CODING(PN,VL(2,"E"),VL("I"),VL("E"))
"DATA",998.1,3,10,9,30,11,0)
value^value,units^C^20
"DATA",998.1,3,10,9,30,11,10)
D VALUEXML^RGSEROBS($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,3,10,9,30,12,0)
interpretation^interpretation^C^30
"DATA",998.1,3,10,9,30,12,10)
D:VL NEWTAG(PN),PUT("text",VL("E")),ENDTAG(PN)
"DATA",998.1,3,10,9,30,13,0)
bodySite^^N^90
"DATA",998.1,3,10,9,30,14,0)
method^^N^100
"DATA",998.1,3,10,9,30,15,0)
specimen^^N^130
"DATA",998.1,3,10,9,30,16,0)
performer^^N^140
"DATA",998.1,3,10,9,30,19,0)
id^id^R^1
"DATA",998.1,3,10,9,30,20,0)
related^related^C^160
"DATA",998.1,3,10,9,30,20,10)
D:VL RELXML^RGSEROBS(VL("I"))
"DATA",998.1,3,10,9,40,0)
^998.13I^3^3
"DATA",998.1,3,10,9,40,1,0)
subject:Patient^patient^R^10
"DATA",998.1,3,10,9,40,1,20)
S X=$$OBS^RGSEROBS(RGNETREQ("PARAMS","subject:Patient",1,1))
"DATA",998.1,3,10,9,40,2,0)
code^code^T^10
"DATA",998.1,3,10,9,40,3,0)
_id^@id^T^10
"DATA",998.1,3,10,10,0)
Organization^^4
"DATA",998.1,3,10,10,30,0)
^998.12I^4^4
"DATA",998.1,3,10,10,30,1,0)
name^.01^F^20
"DATA",998.1,3,10,10,30,2,0)
active^^S^10
"DATA",998.1,3,10,10,30,2,10)
true
"DATA",998.1,3,10,10,30,3,0)
address^@ien^O^40
"DATA",998.1,3,10,10,30,3,10)
*/Organization_Address
"DATA",998.1,3,10,10,30,4,0)
id^@id^R^1
"DATA",998.1,3,10,11,0)
Organization_Address^1^4
"DATA",998.1,3,10,11,30,0)
^998.12I^6^6
"DATA",998.1,3,10,11,30,1,0)
use^^S^10
"DATA",998.1,3,10,11,30,1,10)
work
"DATA",998.1,3,10,11,30,2,0)
line^1.01^F^20
"DATA",998.1,3,10,11,30,3,0)
line^1.02^F^20.1
"DATA",998.1,3,10,11,30,4,0)
city^1.03^F^50
"DATA",998.1,3,10,11,30,5,0)
state^.02^F^60
"DATA",998.1,3,10,11,30,6,0)
postalCode^1.04^F^80
"DATA",998.1,3,10,12,0)
Organization_Reference^1^4
"DATA",998.1,3,10,12,30,0)
^998.12I^2^2
"DATA",998.1,3,10,12,30,1,0)
reference^^C^10
"DATA",998.1,3,10,12,30,1,10)
D PUT(PN,"Organization/"_IEN)
"DATA",998.1,3,10,12,30,2,0)
display^.01^F^20
"DATA",998.1,3,10,13,0)
Patient^^2
"DATA",998.1,3,10,13,30,0)
^998.12I^19^18
"DATA",998.1,3,10,13,30,1,0)
name^.01^C^10
"DATA",998.1,3,10,13,30,1,10)
D NAME(VL("I"))
"DATA",998.1,3,10,13,30,2,0)
gender^.02^C^20
"DATA",998.1,3,10,13,30,2,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,3,10,13,30,3,0)
birthDate^.03^D^30
"DATA",998.1,3,10,13,30,4,0)
deceasedDateTime^.351^D^50
"DATA",998.1,3,10,13,30,5,0)
identifier!MR,Medical Record #,http://hl7.org/fhir/v2/0203^^C^60
"DATA",998.1,3,10,13,30,5,10)
D IDENT("@identifiers/patients",$$HRN^RGSERPAT(IEN),PN(0))
"DATA",998.1,3,10,13,30,6,0)
managingOrganization^^C^80
"DATA",998.1,3,10,13,30,6,10)
D:$G(DUZ(2)) GET^RGSERGET(.RGSER,"*/Organization_Reference",DUZ(2),PN)
"DATA",998.1,3,10,13,30,7,0)
photo^^C^80
"DATA",998.1,3,10,13,30,7,10)
Q:'$L($T(^MAGGTIG))  N X,Y D PHOTOS^MAGGTIG(.X,IEN) F Y=0:0 S Y=$O(X(Y)) Q:'Y  S X=$P(X(Y),U,3) I $E(X,1,4)="http" D NEWTAG(PN),PUT("contentType","image/"_$P(X,".",$L(X,"."))),PUT("url",X),ENDTAG(PN)
"DATA",998.1,3,10,13,30,8,0)
telecom!phone:home^.131^C^100
"DATA",998.1,3,10,13,30,8,10)
D TELECOM
"DATA",998.1,3,10,13,30,9,0)
telecom!phone:mobile^.134^C^110
"DATA",998.1,3,10,13,30,9,10)
D TELECOM
"DATA",998.1,3,10,13,30,10,0)
telecom!phone:work^.132^C^120
"DATA",998.1,3,10,13,30,10,10)
D TELECOM
"DATA",998.1,3,10,13,30,11,0)
address^@ien^O^130
"DATA",998.1,3,10,13,30,11,10)
*/Patient_Address_Home
"DATA",998.1,3,10,13,30,13,0)
extension^2^M^21
"DATA",998.1,3,10,13,30,13,10)
*/Patient_Race
"DATA",998.1,3,10,13,30,14,0)
identifier!SS,Social Security #,http://hl7.org/fhir/v2/0203^.09^C^60
"DATA",998.1,3,10,13,30,14,10)
D IDENT("http://hl7.org/fhir/sid/us-ssn",VL("E"),PN(0))
"DATA",998.1,3,10,13,30,15,0)
id^@id^R^1
"DATA",998.1,3,10,13,30,16,0)
text^^T^1.1
"DATA",998.1,3,10,13,30,16,10)
TEXT
"DATA",998.1,3,10,13,30,17,0)
maritalStatus^.05^C^140
"DATA",998.1,3,10,13,30,17,10)
I VL N X S X=$$MARITAL^RGSERPAT(VL("E")) D CODING(PN,"http://hl7.org/fhir/v3/MaritalStatus",$P(X,U),$P(X,U,2))
"DATA",998.1,3,10,13,30,18,0)
identifier!ICN,Integration Control #^991.01^C^60
"DATA",998.1,3,10,13,30,18,10)
D IDENT("http://va.gov/sid/icn",$$ICN^RGSERPAT(IEN),PN(0))
"DATA",998.1,3,10,13,30,19,0)
extension^.08^O^22
"DATA",998.1,3,10,13,30,19,10)
*/Patient_Congregation
"DATA",998.1,3,10,13,40,0)
^998.13I^6^6
"DATA",998.1,3,10,13,40,1,0)
_id^@ien^T^10
"DATA",998.1,3,10,13,40,2,0)
family^.01^S^20
"DATA",998.1,3,10,13,40,2,10)
D OPRNAME(VL("E"),1) K PVAL
"DATA",998.1,3,10,13,40,2,20)
S X="$$NAMEITER^RGSERPAT"
"DATA",998.1,3,10,13,40,3,0)
given^.01^S^30
"DATA",998.1,3,10,13,40,3,10)
D OPRNAME(VL("E"),2) K PVAL
"DATA",998.1,3,10,13,40,4,0)
gender^.02^T^40
"DATA",998.1,3,10,13,40,5,0)
birthdate^.03^D^15
"DATA",998.1,3,10,13,40,6,0)
identifier^.09^T^5
"DATA",998.1,3,10,13,40,6,10)
S MATCH=PVAL=$$HRN^RGSERPAT(IEN),PVAL=$TR(PVAL,"-") S:MATCH TP=""
"DATA",998.1,3,10,13,50,0)
^998.15^1^1
"DATA",998.1,3,10,13,50,1,0)
TEXT
"DATA",998.1,3,10,13,50,1,1,0)
^998.151^6^6^3150701^^
"DATA",998.1,3,10,13,50,1,1,1,0)
<text>
"DATA",998.1,3,10,13,50,1,1,2,0)
<status value="generated"/>
"DATA",998.1,3,10,13,50,1,1,3,0)
<div xmlns="http://www.w3.org/1999/xhtml">
"DATA",998.1,3,10,13,50,1,1,4,0)
NAME: |.01|
"DATA",998.1,3,10,13,50,1,1,5,0)
</div>
"DATA",998.1,3,10,13,50,1,1,6,0)
</text>
"DATA",998.1,3,10,14,0)
Patient/#/Condition
"DATA",998.1,3,10,14,10)
D COMPRT($NA(^AUPNPROB("AC")))
"DATA",998.1,3,10,15,0)
Patient/#/DocumentReference
"DATA",998.1,3,10,15,10)
D COMPRT($NA(^TIU(8925,"C")))
"DATA",998.1,3,10,16,0)
Patient/#/Encounter
"DATA",998.1,3,10,16,10)
D COMPRT($NA(^AUPNVSIT("C")))
"DATA",998.1,3,10,17,0)
Patient/#/Observation
"DATA",998.1,3,10,17,10)
D COMPRT($$OBS^RGSEROBS($P(PATH,"/",3)),1)
"DATA",998.1,3,10,18,0)
Patient_Address_Home^1^2
"DATA",998.1,3,10,18,30,0)
^998.12I^10^10
"DATA",998.1,3,10,18,30,1,0)
use^^S^10
"DATA",998.1,3,10,18,30,1,10)
home
"DATA",998.1,3,10,18,30,2,0)
line!1^.111^F^20
"DATA",998.1,3,10,18,30,3,0)
line!2^.112^F^20.1
"DATA",998.1,3,10,18,30,4,0)
line!3^.113^F^20.2
"DATA",998.1,3,10,18,30,5,0)
city^.114^F^50
"DATA",998.1,3,10,18,30,6,0)
state^.115^F^60
"DATA",998.1,3,10,18,30,7,0)
state!province^.1171^F^60.1
"DATA",998.1,3,10,18,30,8,0)
postalCode^.116^F^80
"DATA",998.1,3,10,18,30,9,0)
country^.1173^F^90
"DATA",998.1,3,10,18,30,10,0)
district^.117,.115^C^55
"DATA",998.1,3,10,18,30,10,10)
D:VL PUT(PN,$$COUNTY^RGSERPAT(VL(2,"I"),VL("I")))
"DATA",998.1,3,10,19,0)
Patient_Race^1^2.02
"DATA",998.1,3,10,19,30,0)
^998.12I^2^2
"DATA",998.1,3,10,19,30,1,0)
valueCodeableConcept^.01^C^10
"DATA",998.1,3,10,19,30,1,10)
D:VL NEWTAG(PN),PUT("text",VL("E")),ENDTAG(PN)
"DATA",998.1,3,10,19,30,2,0)
attr:url^^N^1
"DATA",998.1,3,10,19,30,2,10)
http://hl7.org/fhir/StructureDefinition/us-core-race
"DATA",998.1,3,10,20,0)
Practitioner^^200
"DATA",998.1,3,10,20,30,0)
^998.12I^9^9
"DATA",998.1,3,10,20,30,1,0)
name^.01^C^10
"DATA",998.1,3,10,20,30,1,10)
D NAME(VL("I"))
"DATA",998.1,3,10,20,30,2,0)
telecom!phone:home^.131^C^20
"DATA",998.1,3,10,20,30,2,10)
D TELECOM
"DATA",998.1,3,10,20,30,3,0)
telecom!phone:work^.132^C^30
"DATA",998.1,3,10,20,30,3,10)
D TELECOM
"DATA",998.1,3,10,20,30,4,0)
telecom!fax:work^.136^C^40
"DATA",998.1,3,10,20,30,4,10)
D TELECOM
"DATA",998.1,3,10,20,30,5,0)
identifier!DEA,Drug Enforcement Administration #,http://hl7.org/fhir/v2/0203^53.2^C^50
"DATA",998.1,3,10,20,30,5,10)
D IDENT("http://hl7.org/fhir/sid/us-dea",VL("E"),PN(0),"official")
"DATA",998.1,3,10,20,30,6,0)
gender^4^C^40
"DATA",998.1,3,10,20,30,6,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,3,10,20,30,7,0)
identifier!SS,Social Security #,http://hl7.org/fhir/v2/0203^9^C^50
"DATA",998.1,3,10,20,30,7,10)
D IDENT("http://hl7.org/fhir/sid/us-ssn",VL("E"),PN(0))
"DATA",998.1,3,10,20,30,8,0)
identifier!NPI,National Provider Identifier,http://hl7.org/fhir/v2/0203^41.99^C^50
"DATA",998.1,3,10,20,30,8,10)
D IDENT("http://hl7.org/fhir/sid/us-npi",VL("E"),PN(0))
"DATA",998.1,3,10,20,30,9,0)
id^@id^R^1
"DATA",998.1,3,10,20,40,0)
^998.13I^3^3
"DATA",998.1,3,10,20,40,1,0)
family^.01^S^20
"DATA",998.1,3,10,20,40,1,10)
D OPRNAME(VL("E"),1) K PVAL
"DATA",998.1,3,10,20,40,1,20)
S X="$$NAMEITER^RGSERPER"
"DATA",998.1,3,10,20,40,2,0)
given^.01^S^30
"DATA",998.1,3,10,20,40,2,10)
D OPRNAME(VL("E"),2) K PVAL
"DATA",998.1,3,10,20,40,3,0)
_id^@ien^T^40
"DATA",998.1,3,10,21,0)
Person^^200
"DATA",998.1,3,10,21,30,0)
^998.12I^14^14
"DATA",998.1,3,10,21,30,1,0)
name^.01^C^20
"DATA",998.1,3,10,21,30,1,10)
D NAME(VL("I"))
"DATA",998.1,3,10,21,30,2,0)
birthDate^5^D^50
"DATA",998.1,3,10,21,30,3,0)
managingOrganization^^C^80
"DATA",998.1,3,10,21,30,3,10)
D REF2(PN,"Organization",DUZ(2),$P(^DIC(4,DUZ(2),0),U))
"DATA",998.1,3,10,21,30,4,0)
telecom!phone:work^.132^C^30
"DATA",998.1,3,10,21,30,4,10)
D TELECOM
"DATA",998.1,3,10,21,30,5,0)
telecom!phone:home^.131^C^30.1
"DATA",998.1,3,10,21,30,5,10)
D TELECOM
"DATA",998.1,3,10,21,30,6,0)
telecom!fax:work^.136^C^30.2
"DATA",998.1,3,10,21,30,6,10)
D TELECOM
"DATA",998.1,3,10,21,30,7,0)
id^@id^R^1
"DATA",998.1,3,10,21,30,8,0)
nickname^13^C^10.1
"DATA",998.1,3,10,21,30,8,10)
D:VL NAME(","_VL("I"),PN)
"DATA",998.1,3,10,21,30,9,0)
address^@ien^O^60
"DATA",998.1,3,10,21,30,9,10)
*/Person_Address
"DATA",998.1,3,10,21,30,10,0)
active^7^C^90
"DATA",998.1,3,10,21,30,10,10)
D PUTBL^RGSEXML(PN,'VL("I"))
"DATA",998.1,3,10,21,30,11,0)
identifier^^N^10
"DATA",998.1,3,10,21,30,12,0)
gender^4^C^40
"DATA",998.1,3,10,21,30,12,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,3,10,21,30,13,0)
photo^^N^70
"DATA",998.1,3,10,21,30,14,0)
link^^N^90
"DATA",998.1,3,10,21,40,0)
^998.13I^1^1
"DATA",998.1,3,10,21,40,1,0)
_id^@ien^T^10
"DATA",998.1,3,10,22,0)
ValueSet^^998.11
"DATA",998.1,3,10,22,20)
S IENS=IENS_RGSER("SER")_","
"DATA",998.1,3,10,22,30,0)
^998.12I^6^6
"DATA",998.1,3,10,22,30,1,0)
codeSystem^.01^C^100
"DATA",998.1,3,10,22,30,1,10)
D NEWTAG(PN),PUT("system",$$SYSTEM^RGSER("@"_VL("E"))),GET^RGSERGET(.RGSER,"*/"_VL("E"),,"concept"),ENDTAG(PN)
"DATA",998.1,3,10,22,30,2,0)
identifier^.01^C^10
"DATA",998.1,3,10,22,30,2,10)
D IDENT($$SYSTEM^RGSER("@vs/"_$P(VL("E"),"_",2,99)),"encounter-type")
"DATA",998.1,3,10,22,30,3,0)
name^.01^C^20
"DATA",998.1,3,10,22,30,3,10)
D PUT(PN,$P(VL("E"),"_",2,99))
"DATA",998.1,3,10,22,30,4,0)
description^99^F^30
"DATA",998.1,3,10,22,30,5,0)
status^^S^40
"DATA",998.1,3,10,22,30,5,10)
active
"DATA",998.1,3,10,22,30,6,0)
id^@ienx^R^1
"DATA",998.1,3,10,22,40,0)
^998.13I^3^3
"DATA",998.1,3,10,22,40,1,0)
_id^@ien^T^1
"DATA",998.1,3,10,22,40,2,0)
name^.01^S^10
"DATA",998.1,3,10,22,40,2,10)
S PVAL=$S(PVAL("OPR")="s":"VALUESET_",1:"ValueSet_")_PVAL
"DATA",998.1,3,10,22,40,3,0)
@selector^.01^T^1
"DATA",998.1,3,10,22,40,3,10)
S MATCH="ValueSet_"=$E(VL("E"),1,9)
"DATA",998.1,3,10,22,40,3,20)
S X="$$ITERVS^RGSEFHIR"
"DATA",998.1,3,10,23,0)
ValueSet_DocumentType^1^8925.1
"DATA",998.1,3,10,23,30,0)
^998.12I^2^2
"DATA",998.1,3,10,23,30,1,0)
code^@ien^R^20
"DATA",998.1,3,10,23,30,2,0)
display^.01^F^30
"DATA",998.1,3,10,23,99)
List of document categories by which documents may be classified.
"DATA",998.1,3,10,24,0)
ValueSet_EncounterType^1
"DATA",998.1,3,10,24,10)
K XSER D GETTYPES^RGSERENC
"DATA",998.1,3,10,24,20)
D RETRIEVE^RGSERENC(IEN)
"DATA",998.1,3,10,24,30,0)
^998.12I^3^3
"DATA",998.1,3,10,24,30,1,0)
display^2^R^20
"DATA",998.1,3,10,24,30,2,0)
code^1^R^30
"DATA",998.1,3,10,24,30,3,0)
definition^3^R^40
"DATA",998.1,3,10,24,99)
List of recognized encounter types (service codes).
"DATA",998.1,3,10,25,0)
Medication^^50
"DATA",998.1,3,10,25,30,0)
^998.12I^8^8
"DATA",998.1,3,10,25,30,1,0)
name^.01^F^10
"DATA",998.1,3,10,25,30,2,0)
code!start^^C^20
"DATA",998.1,3,10,25,30,2,10)
D NEWTAG(PN)
"DATA",998.1,3,10,25,30,3,0)
code!end^^C^20.9
"DATA",998.1,3,10,25,30,3,10)
D ENDTAG(PN)
"DATA",998.1,3,10,25,30,4,0)
coding!ndc^31^C^20.1
"DATA",998.1,3,10,25,30,4,10)
D:VL CODING(,"http://www.fda.gov/ndc",VL("E"))
"DATA",998.1,3,10,25,30,5,0)
product!start^^C^30
"DATA",998.1,3,10,25,30,5,10)
D NEWTAG(PN)
"DATA",998.1,3,10,25,30,6,0)
product!end^^C^30.9
"DATA",998.1,3,10,25,30,6,10)
D ENDTAG(PN)
"DATA",998.1,3,10,25,30,7,0)
form^14.5^C^30.1
"DATA",998.1,3,10,25,30,7,10)
D:VL CODING(PN,"dispense_unit",,VL("E"))
"DATA",998.1,3,10,25,30,8,0)
id^@id^R^1
"DATA",998.1,3,10,25,40,0)
^998.13I^3^3
"DATA",998.1,3,10,25,40,1,0)
code^31^T^10
"DATA",998.1,3,10,25,40,2,0)
name^.01^S^20
"DATA",998.1,3,10,25,40,3,0)
_id^@ien^T^30
"DATA",998.1,3,10,26,0)
MedicationPrescription^^52
"DATA",998.1,3,10,26,30,0)
^998.12I^9^9
"DATA",998.1,3,10,26,30,1,0)
patient^2^C^40
"DATA",998.1,3,10,26,30,1,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,3,10,26,30,2,0)
prescriber^4^C^50
"DATA",998.1,3,10,26,30,2,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,3,10,26,30,3,0)
medication^6^C^80
"DATA",998.1,3,10,26,30,3,10)
D REF(PN,"Medication",.VL)
"DATA",998.1,3,10,26,30,4,0)
dateWritten^1^D^20
"DATA",998.1,3,10,26,30,5,0)
dosageInstruction!start^^C^90
"DATA",998.1,3,10,26,30,5,10)
D NEWTAG(PN)
"DATA",998.1,3,10,26,30,6,0)
dosageInstruction!end^^C^90.9
"DATA",998.1,3,10,26,30,6,10)
D ENDTAG(PN)
"DATA",998.1,3,10,26,30,7,0)
@text^10.2^M^90.001
"DATA",998.1,3,10,26,30,7,10)
*/MedicationPrescription_Sig
"DATA",998.1,3,10,26,30,8,0)
@dosing^113^M^90.002
"DATA",998.1,3,10,26,30,8,10)
*/MedicationPrescription_Dosing
"DATA",998.1,3,10,26,30,9,0)
id^@id^R^1
"DATA",998.1,3,10,26,40,0)
^998.13I^3^3
"DATA",998.1,3,10,26,40,1,0)
patient^2^R^10
"DATA",998.1,3,10,26,40,1,20)
S X=$$COHORT(PN,$NA(^PS(55,"*","P","A")),1)
"DATA",998.1,3,10,26,40,2,0)
_id^@ien^T^20
"DATA",998.1,3,10,26,40,3,0)
patient:Patient^2^R^10
"DATA",998.1,3,10,26,40,3,20)
S X=$$COHORT(PN,$NA(^PS(55,"*","P","A")),1)
"DATA",998.1,3,10,27,0)
MedicationPrescription_Sig^1^52.04
"DATA",998.1,3,10,27,30,0)
^998.12I^1^1
"DATA",998.1,3,10,27,30,1,0)
text^.01^F^10
"DATA",998.1,3,10,28,0)
MedicationPrescription_Dosing^1^52.0113
"DATA",998.1,3,10,28,30,0)
^998.12I^1^1
"DATA",998.1,3,10,28,30,1,0)
route^6^C^10
"DATA",998.1,3,10,28,30,1,10)
D:VL CODING(PN,"@medication_route",VL("E"))
"DATA",998.1,3,10,29,0)
Patient/#/MedicationPrescription
"DATA",998.1,3,10,29,10)
D COMPRT($$COHORT2($P(PATH,"/",3),$NA(^PS(55,"*","P","A")),1),1)
"DATA",998.1,3,10,30,0)
AdverseReaction^^120.8
"DATA",998.1,3,10,30,30,0)
^998.12I^10^8
"DATA",998.1,3,10,30,30,1,0)
identifier^^N^10
"DATA",998.1,3,10,30,30,2,0)
date^4^D^20
"DATA",998.1,3,10,30,30,3,0)
subject^.01^C^30
"DATA",998.1,3,10,30,30,3,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,3,10,30,30,4,0)
didNotOccurFlag^^S^40
"DATA",998.1,3,10,30,30,4,10)
false
"DATA",998.1,3,10,30,30,5,0)
recorder^5^C^50
"DATA",998.1,3,10,30,30,5,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,3,10,30,30,6,0)
symptom^10^M^60
"DATA",998.1,3,10,30,30,6,10)
*/AdverseReaction_Symptom
"DATA",998.1,3,10,30,30,9,0)
exposure^1,.02^C^70.2
"DATA",998.1,3,10,30,30,9,10)
S:'VL VL("E")=VL(2,"E") S VL("I")=$$VP2ID(VL("I")) D NEWTAG(PN),REF("substance","Substance",.VL),ENDTAG(PN)
"DATA",998.1,3,10,30,30,10,0)
id^@id^R^1
"DATA",998.1,3,10,30,40,0)
^998.13I^3^3
"DATA",998.1,3,10,30,40,1,0)
subject^.01^R^10
"DATA",998.1,3,10,30,40,1,20)
S X=$$COHORT(PN,$NA(^GMR(120.8,"B")))
"DATA",998.1,3,10,30,40,2,0)
subject:Patient^.01^R^10
"DATA",998.1,3,10,30,40,2,20)
S X=$$COHORT(PN,$NA(^GMR(120.8,"B")))
"DATA",998.1,3,10,30,40,3,0)
_id^@ien^T^20
"DATA",998.1,3,10,31,0)
AdverseReaction_Symptom^1^120.81
"DATA",998.1,3,10,31,30,0)
^998.12I^2^2
"DATA",998.1,3,10,31,30,1,0)
code^.01^C^10
"DATA",998.1,3,10,31,30,1,10)
D CODING(PN,"#120.83",VL("I"),VL("E"))
"DATA",998.1,3,10,31,30,2,0)
severity^^N^20
"DATA",998.1,3,10,32,0)
AdverseReaction_Ingredient^1^120.802
"DATA",998.1,3,10,32,30,0)
^998.12I^4^4
"DATA",998.1,3,10,32,30,1,0)
date^^D^10
"DATA",998.1,3,10,32,30,2,0)
type^^S^20
"DATA",998.1,3,10,32,30,2,10)
drugadmin
"DATA",998.1,3,10,32,30,3,0)
causalityExpectation^^N^30
"DATA",998.1,3,10,32,30,4,0)
substance^.01^C^40
"DATA",998.1,3,10,32,30,4,10)
D REF(PN,"Substance",.VL,"50.416:")
"DATA",998.1,3,10,33,0)
AdverseReaction_Class^1^120.803
"DATA",998.1,3,10,33,30,0)
^998.12I^4^4
"DATA",998.1,3,10,33,30,1,0)
date^^D^10
"DATA",998.1,3,10,33,30,2,0)
type^^S^20
"DATA",998.1,3,10,33,30,2,10)
drugadmin
"DATA",998.1,3,10,33,30,3,0)
causalityExpectation^^N^30
"DATA",998.1,3,10,33,30,4,0)
substance^.01^C^40
"DATA",998.1,3,10,33,30,4,10)
D REF(PN,"Substance",.VL,"50.605:")
"DATA",998.1,3,10,34,0)
Substance
"DATA",998.1,3,10,34,10)
D COMPID^RGSERGET
"DATA",998.1,3,10,34,30,0)
^998.12I^1^1
"DATA",998.1,3,10,34,30,1,0)
id^@id^R^1
"DATA",998.1,3,10,35,0)
Patient/#/AdverseReaction
"DATA",998.1,3,10,35,10)
D COMPRT($NA(^GMR(120.8,"B")))
"DATA",998.1,3,10,36,0)
Substance_50^1^50
"DATA",998.1,3,10,36,30,0)
^998.12I^4^4
"DATA",998.1,3,10,36,30,1,0)
type^.01^C^10
"DATA",998.1,3,10,36,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,3,10,36,30,2,0)
description^^W^20
"DATA",998.1,3,10,36,30,3,0)
instance^^N^30
"DATA",998.1,3,10,36,30,4,0)
ingredient^^N^40
"DATA",998.1,3,10,37,0)
Substance_50.416^1^50.416
"DATA",998.1,3,10,37,30,0)
^998.12I^4^4
"DATA",998.1,3,10,37,30,1,0)
type^.01^C^10
"DATA",998.1,3,10,37,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,3,10,37,30,2,0)
description^^W^20
"DATA",998.1,3,10,37,30,3,0)
instance^^N^30
"DATA",998.1,3,10,37,30,4,0)
ingredient^^N^40
"DATA",998.1,3,10,38,0)
Substance_50.6^1^50.6
"DATA",998.1,3,10,38,30,0)
^998.12I^4^4
"DATA",998.1,3,10,38,30,1,0)
type^.01^C^10
"DATA",998.1,3,10,38,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,3,10,38,30,2,0)
description^^W^20
"DATA",998.1,3,10,38,30,3,0)
instance^^N^30
"DATA",998.1,3,10,38,30,4,0)
ingredient^^N^40
"DATA",998.1,3,10,39,0)
Substance_50.605^1^50.605
"DATA",998.1,3,10,39,30,0)
^998.12I^4^4
"DATA",998.1,3,10,39,30,1,0)
type^.01^C^10
"DATA",998.1,3,10,39,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,3,10,39,30,2,0)
description^^W^20
"DATA",998.1,3,10,39,30,3,0)
instance^^N^30
"DATA",998.1,3,10,39,30,4,0)
ingredient^^N^40
"DATA",998.1,3,10,40,0)
Substance_120.82^1^120.82
"DATA",998.1,3,10,40,30,0)
^998.12I^4^4
"DATA",998.1,3,10,40,30,1,0)
type^.01^C^10
"DATA",998.1,3,10,40,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,3,10,40,30,2,0)
description^^W^20
"DATA",998.1,3,10,40,30,3,0)
instance^^N^30
"DATA",998.1,3,10,40,30,4,0)
ingredient^^N^40
"DATA",998.1,3,10,41,0)
Immunization^^9000010.11
"DATA",998.1,3,10,41,30,0)
^998.12I^19^19
"DATA",998.1,3,10,41,30,1,0)
identifier^^N^10
"DATA",998.1,3,10,41,30,2,0)
date^1201,.03~.01^C^20
"DATA",998.1,3,10,41,30,2,10)
D PUTDT(PN,$S(VL:VL("I"),1:VL(2,"I")))
"DATA",998.1,3,10,41,30,3,0)
vaccineType^.01^C^30
"DATA",998.1,3,10,41,30,3,10)
D CODING(PN,"#9999999.14",VL("I"),VL("E"))
"DATA",998.1,3,10,41,30,4,0)
patient^.02^C^40
"DATA",998.1,3,10,41,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,3,10,41,30,5,0)
wasNotGiven^^S^50
"DATA",998.1,3,10,41,30,5,10)
false
"DATA",998.1,3,10,41,30,6,0)
reported^^S^60
"DATA",998.1,3,10,41,30,6,10)
false
"DATA",998.1,3,10,41,30,7,0)
performer^1204^C^70
"DATA",998.1,3,10,41,30,7,10)
D:VL REF(PN,"Practitioner",.VL)
"DATA",998.1,3,10,41,30,8,0)
requester^1202^C^80
"DATA",998.1,3,10,41,30,8,10)
D:VL REF(PN,"Practitioner",.VL)
"DATA",998.1,3,10,41,30,9,0)
manufacturer^^N^90
"DATA",998.1,3,10,41,30,10,0)
location^.03~.22^C^100
"DATA",998.1,3,10,41,30,10,10)
D REF(PN,"Location",.VL)
"DATA",998.1,3,10,41,30,11,0)
lotNumber^^N^110
"DATA",998.1,3,10,41,30,12,0)
expirationDate^^D^120
"DATA",998.1,3,10,41,30,13,0)
site^^N^130
"DATA",998.1,3,10,41,30,14,0)
route^^N^140
"DATA",998.1,3,10,41,30,15,0)
doseQuantity^^N^150
"DATA",998.1,3,10,41,30,16,0)
explanation^^N^160
"DATA",998.1,3,10,41,30,17,0)
reaction^^N^170
"DATA",998.1,3,10,41,30,18,0)
vaccinationProtocol^^N^180
"DATA",998.1,3,10,41,30,19,0)
id^@id^R^1
"DATA",998.1,3,10,41,40,0)
^998.13I^3^3
"DATA",998.1,3,10,41,40,1,0)
patient^.02^R^10
"DATA",998.1,3,10,41,40,1,20)
S X=$$COHORT(PN,$NA(^AUPNVIMM("C")))
"DATA",998.1,3,10,41,40,2,0)
patient:Patient^.02^R^10
"DATA",998.1,3,10,41,40,2,20)
S X=$$COHORT(PN,$NA(^AUPNVIMM("C")))
"DATA",998.1,3,10,41,40,3,0)
_id^@ien^T^30
"DATA",998.1,3,10,42,0)
Patient/#/Immunization
"DATA",998.1,3,10,42,10)
D COMPRT($NA(^AUPNVIMM("C")))
"DATA",998.1,3,10,43,0)
Flag^^26.13
"DATA",998.1,3,10,43,30,0)
^998.12I^7^7
"DATA",998.1,3,10,43,30,1,0)
identifier^^N^10
"DATA",998.1,3,10,43,30,2,0)
category^.02^C^20
"DATA",998.1,3,10,43,30,2,10)
D CODING(PN,"#26.13",$$VP2ID(VL("I")),VL("E"))
"DATA",998.1,3,10,43,30,3,0)
status^.03^C^30
"DATA",998.1,3,10,43,30,3,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,3,10,43,30,4,0)
patient^.01^C^40
"DATA",998.1,3,10,43,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,3,10,43,30,5,0)
author^^N^50
"DATA",998.1,3,10,43,30,6,0)
code:text^1^W^60
"DATA",998.1,3,10,43,30,6,10)
  
"DATA",998.1,3,10,43,30,7,0)
id^@id^R^1
"DATA",998.1,3,10,43,40,0)
^998.13I^3^3
"DATA",998.1,3,10,43,40,1,0)
_id^@ien^T^10
"DATA",998.1,3,10,43,40,2,0)
patient^.01^R^20
"DATA",998.1,3,10,43,40,2,20)
S X=$NA(^DGPF(26.13,"B",RGNETREQ("PARAMS",PN,1,1)))
"DATA",998.1,3,10,43,40,3,0)
patient:Patient^.01^R^20
"DATA",998.1,3,10,43,40,3,20)
S X=$NA(^DGPF(26.13,"B",RGNETREQ("PARAMS",PN,1,1)))
"DATA",998.1,3,10,44,0)
Patient/#/Flag
"DATA",998.1,3,10,44,10)
D COMPRT($NA(^DGPF(26.13,"B")))
"DATA",998.1,3,10,45,0)
Communication^^8992.1
"DATA",998.1,3,10,45,20)
S:ID'=+ID IENS=$O(^XTV(8992.1,"B",ID,0))_","
"DATA",998.1,3,10,45,30,0)
^998.12I^15^15
"DATA",998.1,3,10,45,30,1,0)
identifier^^N^10
"DATA",998.1,3,10,45,30,2,0)
category^^N^20
"DATA",998.1,3,10,45,30,3,0)
status^^N^70
"DATA",998.1,3,10,45,30,4,0)
subject^.04^C^120
"DATA",998.1,3,10,45,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,3,10,45,30,5,0)
sender^.05^C^30
"DATA",998.1,3,10,45,30,5,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,3,10,45,30,6,0)
payload:contentString^1.01^F^50
"DATA",998.1,3,10,45,30,7,0)
@id^.01^N^1
"DATA",998.1,3,10,45,30,8,0)
recipient^20^M^40
"DATA",998.1,3,10,45,30,8,10)
*/Communication_Recipient
"DATA",998.1,3,10,45,30,9,0)
medium^^N^60
"DATA",998.1,3,10,45,30,10,0)
encounter^^N^80
"DATA",998.1,3,10,45,30,11,0)
sent^^D^90
"DATA",998.1,3,10,45,30,12,0)
received^^D^100
"DATA",998.1,3,10,45,30,13,0)
reason^^N^110
"DATA",998.1,3,10,45,30,14,0)
payload:contentString^4^W^50.1
"DATA",998.1,3,10,45,30,14,10)
%0D%0A
"DATA",998.1,3,10,45,30,15,0)
id^@id^R^1
"DATA",998.1,3,10,45,40,0)
^998.13I^4^4
"DATA",998.1,3,10,45,40,1,0)
_id^.01^T^10
"DATA",998.1,3,10,45,40,1,20)
S X=$NA(^XTV(8992.1,"B",RGNETREQ("PARAMS",PN,1,1)))
"DATA",998.1,3,10,45,40,2,0)
subject^.04^R^20
"DATA",998.1,3,10,45,40,2,20)
S X=$NA(^XTV(8992.1,"C",RGNETREQ("PARAMS",PN,1,1)))
"DATA",998.1,3,10,45,40,3,0)
subject:Patient^.04^R^20
"DATA",998.1,3,10,45,40,3,20)
S X=$NA(^XTV(8992.1,"C",RGNETREQ("PARAMS",PN,1,1)))
"DATA",998.1,3,10,45,40,4,0)
@selector^^S^100
"DATA",998.1,3,10,45,40,4,20)
S X=$NA(^XTV(8992.1,"R",DUZ))
"DATA",998.1,3,10,46,0)
Patient/#/Communication
"DATA",998.1,3,10,46,10)
D COMPRT($NA(^XTV(8992.1,"C")))
"DATA",998.1,3,10,47,0)
Communication_Recipient^1^8992.11
"DATA",998.1,3,10,47,30,0)
^998.12I^1^1
"DATA",998.1,3,10,47,30,1,0)
contentReference^.01^C^10
"DATA",998.1,3,10,47,30,1,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,3,10,48,0)
metadata
"DATA",998.1,3,10,48,10)
D TEMPLATE^RGSERGET("CONFORMANCE")
"DATA",998.1,3,10,48,50,0)
^998.15^3^3
"DATA",998.1,3,10,48,50,1,0)
CONFORMANCE
"DATA",998.1,3,10,48,50,1,1,0)
^998.151^28^28^3150521^
"DATA",998.1,3,10,48,50,1,1,1,0)
<Conformance>
"DATA",998.1,3,10,48,50,1,1,2,0)
  <text>
"DATA",998.1,3,10,48,50,1,1,3,0)
    <status value="generated"/>
"DATA",998.1,3,10,48,50,1,1,4,0)
  </text>
"DATA",998.1,3,10,48,50,1,1,5,0)
  <publisher value="|@$P($$SITE^VASITE,U,2)|"/>
"DATA",998.1,3,10,48,50,1,1,6,0)
  <date value="|@$$FMTDATE^RGSER|"/>
"DATA",998.1,3,10,48,50,1,1,7,0)
  <software>
"DATA",998.1,3,10,48,50,1,1,8,0)
    <name value="VistA Serialization Framework"/>
"DATA",998.1,3,10,48,50,1,1,9,0)
    <version value="|@$$VERSION^XPDUTL("RGSE")|"/>
"DATA",998.1,3,10,48,50,1,1,10,0)
  </software>
"DATA",998.1,3,10,48,50,1,1,11,0)
  <implementation>
"DATA",998.1,3,10,48,50,1,1,12,0)
    <description value="VistA (|@RGSER("SERNM")|)"/>
"DATA",998.1,3,10,48,50,1,1,13,0)
  </implementation>
"DATA",998.1,3,10,48,50,1,1,14,0)
  <fhirVersion value="|@RGSER("VER")|"/>
"DATA",998.1,3,10,48,50,1,1,15,0)
  <acceptUnknown value="false"/>
"DATA",998.1,3,10,48,50,1,1,16,0)
  <format value="application/xml+fhir"/> 
"DATA",998.1,3,10,48,50,1,1,17,0)
  <rest>
"DATA",998.1,3,10,48,50,1,1,18,0)
    <mode value="server"/>
"DATA",998.1,3,10,48,50,1,1,19,0)
    <security>
"DATA",998.1,3,10,48,50,1,1,20,0)
      <extension url="http://fhir-registry.smarthealthit.org/Profile/oauth-uris#authorize">
"DATA",998.1,3,10,48,50,1,1,21,0)
        <valueUri value="|@$$HOSTURL^RGNETWWW("oauth2/authorize")|" />
"DATA",998.1,3,10,48,50,1,1,22,0)
      </extension>
"DATA",998.1,3,10,48,50,1,1,23,0)
      <extension url="http://fhir-registry.smarthealthit.org/Profile/oauth-uris#token">
"DATA",998.1,3,10,48,50,1,1,24,0)
        <valueUri value="|@$$HOSTURL^RGNETWWW("oauth2/token")|" />
"DATA",998.1,3,10,48,50,1,1,25,0)
      </extension>
"DATA",998.1,3,10,48,50,1,1,26,0)
    </security>
"DATA",998.1,3,10,48,50,1,1,27,0)
|#$$RESCONF^RGSEFHIR|  </rest>
"DATA",998.1,3,10,48,50,1,1,28,0)
</Conformance> 
"DATA",998.1,3,10,48,50,2,0)
CONFORMANCE_RESOURCE
"DATA",998.1,3,10,48,50,2,1,0)
^^6^6^3150521.164137
"DATA",998.1,3,10,48,50,2,1,1,0)
    <resource>
"DATA",998.1,3,10,48,50,2,1,2,0)
      <type value="|@RESNAME|"/>
"DATA",998.1,3,10,48,50,2,1,3,0)
      <interaction>
"DATA",998.1,3,10,48,50,2,1,4,0)
       <code value="read"/>
"DATA",998.1,3,10,48,50,2,1,5,0)
      </interaction>
"DATA",998.1,3,10,48,50,2,1,6,0)
|#$$SRPCONF^RGSEFHIR|    </resource> 
"DATA",998.1,3,10,48,50,3,0)
CONFORMANCE_PARAMETER
"DATA",998.1,3,10,48,50,3,1,0)
^998.151^4^4^3150521^^
"DATA",998.1,3,10,48,50,3,1,1,0)
        <searchParam>
"DATA",998.1,3,10,48,50,3,1,2,0)
          <name value="|@SRPNAME|"/>
"DATA",998.1,3,10,48,50,3,1,3,0)
          <type value="|@SRPTYPE|"/>
"DATA",998.1,3,10,48,50,3,1,4,0)
        </searchParam>
"DATA",998.1,3,10,49,0)
Person_Address^1^200
"DATA",998.1,3,10,49,30,0)
^998.12I^8^7
"DATA",998.1,3,10,49,30,1,0)
use^^S^10
"DATA",998.1,3,10,49,30,1,10)
home
"DATA",998.1,3,10,49,30,2,0)
line!1^.111^F^20
"DATA",998.1,3,10,49,30,3,0)
line!2^.112^F^20.1
"DATA",998.1,3,10,49,30,4,0)
line!3^.113^F^20.2
"DATA",998.1,3,10,49,30,5,0)
city^.114^F^50
"DATA",998.1,3,10,49,30,6,0)
state^.115^F^60
"DATA",998.1,3,10,49,30,8,0)
postalCode^.116^F^80
"DATA",998.1,3,10,50,0)
OperationOutcome^^.84
"DATA",998.1,3,10,50,20)

"DATA",998.1,3,10,50,21)
K:$G(VALS(FILE,IENS,"1.2~1","E"))'="RGSE" VALS
"DATA",998.1,3,10,50,30,0)
^998.12I^8^8
"DATA",998.1,3,10,50,30,1,0)
issue!start^^C^10
"DATA",998.1,3,10,50,30,1,10)
D NEWTAG(PN)
"DATA",998.1,3,10,50,30,2,0)
issue!end^^C^10.9
"DATA",998.1,3,10,50,30,2,10)
D ENDTAG(PN)
"DATA",998.1,3,10,50,30,3,0)
severity^1^C^10.1
"DATA",998.1,3,10,50,30,3,10)
D PUT(PN,$S($G(VL("I"))=1:"error",1:"information"))
"DATA",998.1,3,10,50,30,4,0)
code^1.3^C^10.2
"DATA",998.1,3,10,50,30,4,10)
D CODING(PN,"http://hl7.org/fhir/issue-type",$P(VL("E"),":",2),$P(VL("E"),":",3))
"DATA",998.1,3,10,50,30,5,0)
details^2^W^10.3
"DATA",998.1,3,10,50,30,5,10)
%20
"DATA",998.1,3,10,50,30,6,0)
location^^N^10.4
"DATA",998.1,3,10,50,30,7,0)
text^4^T^5
"DATA",998.1,3,10,50,30,7,10)
TEXT
"DATA",998.1,3,10,50,30,8,0)
@package^1.2~1^N^1
"DATA",998.1,3,10,50,40,0)
^998.13I^2^2
"DATA",998.1,3,10,50,40,1,0)
_id^@ien^T^10
"DATA",998.1,3,10,50,40,2,0)
@selector^^T^1
"DATA",998.1,3,10,50,40,2,20)
S X=$NA(^DI(.84,"C",$$LKPKG^XPDUTL("RGSE")))
"DATA",998.1,3,10,50,50,0)
^998.15^1^1
"DATA",998.1,3,10,50,50,1,0)
TEXT
"DATA",998.1,3,10,50,50,1,1,0)
^^10^10^3150420.111019
"DATA",998.1,3,10,50,50,1,1,1,0)
<text>
"DATA",998.1,3,10,50,50,1,1,2,0)
<status value="generated"/>
"DATA",998.1,3,10,50,50,1,1,3,0)
<div xmlns="http://www.w3.org/1999/xhtml">
"DATA",998.1,3,10,50,50,1,1,4,0)
<table style='margin:5px;border:1px solid black'>
"DATA",998.1,3,10,50,50,1,1,5,0)
<tr style='background:lightgray'><td><h1>Operation Outcome (|\@ien|)</h1></td></tr>
"DATA",998.1,3,10,50,50,1,1,6,0)
<tr><td style='border-bottom:1px solid black'><pre>|2,W|</pre></td></tr>
"DATA",998.1,3,10,50,50,1,1,7,0)
<tr><td><pre>|4,W|</pre></td></tr>
"DATA",998.1,3,10,50,50,1,1,8,0)
</table>
"DATA",998.1,3,10,50,50,1,1,9,0)
</div>
"DATA",998.1,3,10,50,50,1,1,10,0)
</text> 
"DATA",998.1,3,10,51,0)
Order^^100
"DATA",998.1,3,10,51,30,0)
^998.12I^9^9
"DATA",998.1,3,10,51,30,1,0)
identifier^^N^10
"DATA",998.1,3,10,51,30,2,0)
date^4^D^20
"DATA",998.1,3,10,51,30,3,0)
subject^.02^C^30
"DATA",998.1,3,10,51,30,3,10)
D:VL("I")["DPT" REF2(PN,"Patient",+VL("I"),VL("E"))
"DATA",998.1,3,10,51,30,4,0)
source^1^C^40
"DATA",998.1,3,10,51,30,4,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,3,10,51,30,5,0)
target^^N^50
"DATA",998.1,3,10,51,30,6,0)
reason^^N^60
"DATA",998.1,3,10,51,30,7,0)
authority^^N^70
"DATA",998.1,3,10,51,30,8,0)
when^^N^80
"DATA",998.1,3,10,51,30,9,0)
detail:reference^@ien^C^90
"DATA",998.1,3,10,51,30,9,10)
D PUT(PN,"DiagnosticOrder/"_VL("I"))
"DATA",998.1,3,10,52,0)
DiagnosticOrder
"DATA",998.1,3,10,53,0)
FamilyMemberHistory^^9000014.1
"DATA",998.1,3,10,53,30,0)
^998.12I^13^11
"DATA",998.1,3,10,53,30,1,0)
identifier^^N^10
"DATA",998.1,3,10,53,30,2,0)
patient^.02^C^20
"DATA",998.1,3,10,53,30,2,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,3,10,53,30,3,0)
date!captured^.09^D^30
"DATA",998.1,3,10,53,30,4,0)
name^.03^F^25
"DATA",998.1,3,10,53,30,7,0)
born^^N^60
"DATA",998.1,3,10,53,30,8,0)
ageRange^.05^N^70
"DATA",998.1,3,10,53,30,9,0)
deceasedBoolean^.04^C^80
"DATA",998.1,3,10,53,30,9,10)
D:VL("I")="D" PUTBL^RGSEXML(PN,1)
"DATA",998.1,3,10,53,30,10,0)
note^^N^90
"DATA",998.1,3,10,53,30,11,0)
condition^@ien^C^100
"DATA",998.1,3,10,53,30,11,10)
D GET^RGSERGET(.RGSER,"*/FamilyMemberHistory_Condition",$NA(^AUPNFH("AE",VL("I"))),PN)
"DATA",998.1,3,10,53,30,12,0)
relationship^.01~2104,.01~.01^C^40
"DATA",998.1,3,10,53,30,12,10)
D:VL CODING(PN,"http://hl7.org/fhir/familial-relationship",VL("I"),VL(2,"I"))
"DATA",998.1,3,10,53,30,13,0)
date!updated^.11^D^30.1
"DATA",998.1,3,10,53,40,0)
^998.13I^2^2
"DATA",998.1,3,10,53,40,1,0)
_id^@ien^T^30
"DATA",998.1,3,10,53,40,2,0)
patient^.02^R^10
"DATA",998.1,3,10,53,40,2,20)
S X=$$COHORT(PN,$NA(^AUPNFHR("AA")),1)
"DATA",998.1,3,10,54,0)
FamilyMemberHistory_Condition^1^9000014
"DATA",998.1,3,10,54,30,0)
^998.12I^7^7
"DATA",998.1,3,10,54,30,1,0)
type!start^^C^10
"DATA",998.1,3,10,54,30,1,10)
D NEWTAG(PN)
"DATA",998.1,3,10,54,30,2,0)
outcome^^N^20
"DATA",998.1,3,10,54,30,3,0)
onsetAge^.05^C^30
"DATA",998.1,3,10,54,30,3,10)
D:VL NEWTAG(PN),PUT("value",VL("I")),PUT("units","a"),PUT("system","http://unitsofmeasure.org"),ENDTAG(PN)
"DATA",998.1,3,10,54,30,4,0)
note^.04^C^40
"DATA",998.1,3,10,54,30,4,10)
D:VL PUT(PN,$TR(VL("E"),"|"))
"DATA",998.1,3,10,54,30,5,0)
type!icd9^.01,.01~3^C^10.2
"DATA",998.1,3,10,54,30,5,10)
D CODING(,"http://hl7.org/fhir/sid/icd-9",VL("E"),VL(2,"E"))
"DATA",998.1,3,10,54,30,6,0)
type!sct^.13,.14^C^10.1
"DATA",998.1,3,10,54,30,6,10)
I VL N DX S DX=$S($L($T(^BSTSAPIA)):$P($$DESC^BSTSAPIA($G(VL(2,"I"))),U,2),1:"") D CODING(,"http://snomed.info/sct",VL("I"),DX)
"DATA",998.1,3,10,54,30,7,0)
type!end^^C^10.9
"DATA",998.1,3,10,54,30,7,10)
D ENDTAG(PN)
"DATA",998.1,3,10,55,0)
Patient/#/FamilyMemberHistory
"DATA",998.1,3,10,55,10)
D COMPRT($NA(^AUPNFHR("AA")),,1)
"DATA",998.1,3,10,55,30,0)
^998.12I
"DATA",998.1,3,10,56,0)
Patient_Congregation^1^13
"DATA",998.1,3,10,56,30,0)
^998.12I^2^2
"DATA",998.1,3,10,56,30,1,0)
valueString^.01^F^10
"DATA",998.1,3,10,56,30,2,0)
attr:url^^N^1
"DATA",998.1,3,10,56,30,2,10)
http://hl7.org/fhir/StructureDefinition/patient-congregation
"DATA",998.1,3,20,0)
^998.14^5^5^3170321^^^^
"DATA",998.1,3,20,1,0)
Access-Control-Allow-Credentials: true
"DATA",998.1,3,20,2,0)
Access-Control-Allow-Headers: origin, authorization, accept, content-type, x-requested-with
"DATA",998.1,3,20,3,0)
Access-Control-Allow-Methods: GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS
"DATA",998.1,3,20,4,0)
Access-Control-Allow-Origin: *
"DATA",998.1,3,20,5,0)
Cache-Control: max-age=0
"DATA",998.1,3,99,0)
^^25^25^3170322.085018
"DATA",998.1,3,99,1,0)
This is the base URL for the DSTU2 XML FHIR endpoint. 
"DATA",998.1,3,99,2,0)

"DATA",998.1,3,99,3,0)
<hr> 
"DATA",998.1,3,99,4,0)

"DATA",998.1,3,99,5,0)
This service is supported by the <b>VistA Serialization Framework</b>, 
"DATA",998.1,3,99,6,0)
developed by Doug Martin of the <a href="http://www.regenstrief.org"
"DATA",998.1,3,99,7,0)
target="_blank">Regenstrief Institute.<a>
"DATA",998.1,3,99,8,0)

"DATA",998.1,3,99,9,0)
<p>
"DATA",998.1,3,99,10,0)

"DATA",998.1,3,99,11,0)
It is freely available as open source under the 
"DATA",998.1,3,99,12,0)
<a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License, Version 2.0</a>:
"DATA",998.1,3,99,13,0)

"DATA",998.1,3,99,14,0)
<ul> 
"DATA",998.1,3,99,15,0)
<li> The FHIR conformance document is available
"DATA",998.1,3,99,16,0)
  <a href="/DSTU2/metadata" target="_blank">here</a>
"DATA",998.1,3,99,17,0)
</li>
"DATA",998.1,3,99,18,0)
<li> The complete source may be downloaded 
"DATA",998.1,3,99,19,0)
  <a href="https://github.com/mdgeek/VistA-Serialization-Framework" 
"DATA",998.1,3,99,20,0)
     target="_blank">here.</a>
"DATA",998.1,3,99,21,0)
</li>
"DATA",998.1,3,99,22,0)
<li> A working virtual machine may be built from this
"DATA",998.1,3,99,23,0)
  <a href="https://github.com/mdgeek/VistA-FHIR-CWF"
"DATA",998.1,3,99,24,0)
     target="_blank">source.</a>
"DATA",998.1,3,99,25,0)
</ul>
"DATA",998.1,4,0)
DSTU1^application/json+fhir,application/json,text/json,json^RGSEFHIJ^0.0.82-3059
"DATA",998.1,4,10,0)
^998.11^48^47
"DATA",998.1,4,10,1,0)
Binary
"DATA",998.1,4,10,1,10)
D COMPID^RGSERGET
"DATA",998.1,4,10,2,0)
Binary_8925^1^8925
"DATA",998.1,4,10,2,30,0)
^998.12I^2^2
"DATA",998.1,4,10,2,30,1,0)
@content^^C^10
"DATA",998.1,4,10,2,30,1,10)
D TOBINARY^RGSERDOC(IEN,",""content"":""","""")
"DATA",998.1,4,10,2,30,2,0)
attr:contentType^^N^1
"DATA",998.1,4,10,2,30,2,10)
text/plain
"DATA",998.1,4,10,3,0)
Condition^^9000011
"DATA",998.1,4,10,3,30,0)
^998.12I^8^8
"DATA",998.1,4,10,3,30,1,0)
subject^.02^C^10
"DATA",998.1,4,10,3,30,1,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,4,10,3,30,2,0)
code!start^^C^20
"DATA",998.1,4,10,3,30,2,10)
D NEWOBJ(PN),NEWARY("coding")
"DATA",998.1,4,10,3,30,3,0)
coding^.01^O^20.1
"DATA",998.1,4,10,3,30,3,10)
*/ICD9
"DATA",998.1,4,10,3,30,4,0)
code!end^.05^C^20.2
"DATA",998.1,4,10,3,30,4,10)
D ENDARY("coding"),PUT("text",VL("E")),ENDOBJ(PN)
"DATA",998.1,4,10,3,30,5,0)
category^^N^30
"DATA",998.1,4,10,3,30,6,0)
status^^S^40
"DATA",998.1,4,10,3,30,6,10)
confirmed
"DATA",998.1,4,10,3,30,7,0)
onsetDate^.13^D^50
"DATA",998.1,4,10,3,30,8,0)
abatementDate^1.07^D^60
"DATA",998.1,4,10,3,40,0)
^998.13I^4^4
"DATA",998.1,4,10,3,40,1,0)
subject^.02^R^10
"DATA",998.1,4,10,3,40,1,20)
S X=$$COHORT(PN,$NA(^AUPNPROB("AC")))
"DATA",998.1,4,10,3,40,2,0)
onset^.13^D^20
"DATA",998.1,4,10,3,40,3,0)
subject:Patient^.02^R^10
"DATA",998.1,4,10,3,40,3,20)
S X=$$COHORT(PN,$NA(^AUPNPROB("AC")))
"DATA",998.1,4,10,3,40,4,0)
_id^@ien^T^30
"DATA",998.1,4,10,4,0)
DocumentReference^^8925
"DATA",998.1,4,10,4,30,0)
^998.12I^24^22
"DATA",998.1,4,10,4,30,1,0)
description^1701^F^140
"DATA",998.1,4,10,4,30,2,0)
type^.01^C^40
"DATA",998.1,4,10,4,30,2,10)
D CODING(PN,"#8925.1",VL("I"),VL("E"))
"DATA",998.1,4,10,4,30,3,0)
subject^.02^C^30
"DATA",998.1,4,10,4,30,3,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,4,10,4,30,4,0)
author^1202^C^60
"DATA",998.1,4,10,4,30,4,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,4,10,4,30,5,0)
mimeType^^S^170
"DATA",998.1,4,10,4,30,5,10)
text/plain
"DATA",998.1,4,10,4,30,6,0)
created^1201^D^100
"DATA",998.1,4,10,4,30,7,0)
context^.07,.08^C^110
"DATA",998.1,4,10,4,30,7,10)
D NEWOBJ(PN),PERIOD(VL("I"),VL(2,"I")),ENDOBJ(PN)
"DATA",998.1,4,10,4,30,9,0)
location^@ien^C^210
"DATA",998.1,4,10,4,30,9,10)
D PUT(PN,$$HOSTURL^RGNETWWW("*/Binary/8925-"_VL("I")))
"DATA",998.1,4,10,4,30,10,0)
masterIdentifier^@ien^C^10
"DATA",998.1,4,10,4,30,10,10)
D NEWOBJ(PN),PUT("value",$$SYSUUID^RGNETWWW_"/Document/"_VL("I")),ENDOBJ(PN)
"DATA",998.1,4,10,4,30,11,0)
status^.05~.02^C^120
"DATA",998.1,4,10,4,30,11,10)
N X S X=VL("I") D PUT(PN,$S("rd"[X:"entered in error",1:"current"))
"DATA",998.1,4,10,4,30,13,0)
identifier^^N^20
"DATA",998.1,4,10,4,30,14,0)
class^^N^50
"DATA",998.1,4,10,4,30,14,10)

"DATA",998.1,4,10,4,30,15,0)
custodian^^N^70
"DATA",998.1,4,10,4,30,16,0)
policyManager^^N^80
"DATA",998.1,4,10,4,30,17,0)
authenticator^^N^90
"DATA",998.1,4,10,4,30,18,0)
indexed^1201^D^110
"DATA",998.1,4,10,4,30,19,0)
docStatus^^N^130
"DATA",998.1,4,10,4,30,20,0)
confidentiality^^N^150
"DATA",998.1,4,10,4,30,21,0)
primaryLanguage^^N^160
"DATA",998.1,4,10,4,30,22,0)
format^^N^180
"DATA",998.1,4,10,4,30,23,0)
size^^N^190
"DATA",998.1,4,10,4,30,24,0)
hash^^N^200
"DATA",998.1,4,10,4,40,0)
^998.13I^6^6
"DATA",998.1,4,10,4,40,1,0)
subject:Patient^.02^R^10
"DATA",998.1,4,10,4,40,1,20)
S X=$$COHORT(PN,$NA(^TIU(8925,"C")))
"DATA",998.1,4,10,4,40,2,0)
period^1301^D^20
"DATA",998.1,4,10,4,40,3,0)
type^.01^T^30
"DATA",998.1,4,10,4,40,4,0)
author^1202^R^40
"DATA",998.1,4,10,4,40,5,0)
_id^@ien^T^50
"DATA",998.1,4,10,4,40,6,0)
indexed^1301^D^60
"DATA",998.1,4,10,5,0)
Encounter^^9000010
"DATA",998.1,4,10,5,30,0)
^998.12I^9^8
"DATA",998.1,4,10,5,30,1,0)
status^^C^10
"DATA",998.1,4,10,5,30,1,10)
D PUT(PN,$$GETSTAT^RGSERENC(IEN))
"DATA",998.1,4,10,5,30,2,0)
class^.07^C^20
"DATA",998.1,4,10,5,30,2,10)
N X S X=VL("I") D PUT(PN,$S(X="H":"inpatient",X="A":"ambulatory",1:"virtual"))
"DATA",998.1,4,10,5,30,3,0)
subject^.05^C^30
"DATA",998.1,4,10,5,30,3,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,4,10,5,30,4,0)
period^.01,.18^C^70
"DATA",998.1,4,10,5,30,4,10)
D PERIOD(VL("I"),VL(2,"I"))
"DATA",998.1,4,10,5,30,6,0)
location^.01,.18,.22^C^60
"DATA",998.1,4,10,5,30,6,10)
D:VL(3) NEWARY(PN),NEWOBJ,REF2(,"Location",VL(3,"I"),VL(3,"E")),ENDARY(PN)
"DATA",998.1,4,10,5,30,7,0)
identifier!visitid^15001^C^40
"DATA",998.1,4,10,5,30,7,10)
D NEWARY(PN),IDENT("@identifiers/visits",VL("I"),PN(0),"official"),ENDARY(PN)
"DATA",998.1,4,10,5,30,8,0)
type^.07^C^80
"DATA",998.1,4,10,5,30,8,10)
D NEWARY(PN),CODING(PN,"@types/visits",VL("I"),VL("E")),ENDARY(PN)
"DATA",998.1,4,10,5,30,9,0)
participant^^C^90
"DATA",998.1,4,10,5,30,9,10)
D GET^RGSERGET(.RGSER,"*/Encounter_Participant",$NA(^AUPNVPRV("AD",IEN)),PN)
"DATA",998.1,4,10,5,40,0)
^998.13I^5^5
"DATA",998.1,4,10,5,40,1,0)
subject^.05^R^10
"DATA",998.1,4,10,5,40,1,20)
S X=$$COHORT(PN,$NA(^AUPNVSIT("C")))
"DATA",998.1,4,10,5,40,2,0)
type^.07^T^20
"DATA",998.1,4,10,5,40,3,0)
date^.01,.18^D^20
"DATA",998.1,4,10,5,40,4,0)
subject:Patient^.05^R^10
"DATA",998.1,4,10,5,40,4,20)
S X=$$COHORT(PN,$NA(^AUPNVSIT("C")))
"DATA",998.1,4,10,5,40,5,0)
_id^@ien^T^30
"DATA",998.1,4,10,6,0)
Encounter_Participant^1^9000010.06
"DATA",998.1,4,10,6,30,0)
^998.12I^3^3
"DATA",998.1,4,10,6,30,1,0)
type^.04^C^10
"DATA",998.1,4,10,6,30,1,10)
D:VL CODING(PN,"http://hl7.org/fhir/v3/ParticipationType",VL("I")_"PRF",VL("E"))
"DATA",998.1,4,10,6,30,2,0)
individual^.01^C^20
"DATA",998.1,4,10,6,30,2,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,4,10,6,30,3,0)
type^.05^C^10.1
"DATA",998.1,4,10,6,30,3,10)
D:VL CODING(PN,"http://hl7.org/fhir/v3/ParticipationType",$S(VL("I")="A":"ATND",1:"PRF"),VL("E"))
"DATA",998.1,4,10,7,0)
ICD9^1^80
"DATA",998.1,4,10,7,30,0)
^998.12I^3^3
"DATA",998.1,4,10,7,30,1,0)
system^^C^20
"DATA",998.1,4,10,7,30,1,10)
D PUT("system","http://hl7.org/fhir/sid/icd-9")
"DATA",998.1,4,10,7,30,2,0)
code^.01^F^30
"DATA",998.1,4,10,7,30,3,0)
display^@ien^C^40
"DATA",998.1,4,10,7,30,3,10)
D PUT(PN,$$VSTD^ICDCODE(IEN))
"DATA",998.1,4,10,8,0)
Location^^44
"DATA",998.1,4,10,8,30,0)
^998.12I^6^6
"DATA",998.1,4,10,8,30,1,0)
name^.01^F^10
"DATA",998.1,4,10,8,30,2,0)
description^10^F^20
"DATA",998.1,4,10,8,30,3,0)
managingOrganization^3^C^30
"DATA",998.1,4,10,8,30,3,10)
D REF(PN,"Organization",.VL)
"DATA",998.1,4,10,8,30,4,0)
telecom!phone:work^99^C^40.1
"DATA",998.1,4,10,8,30,4,10)
D TELECOM
"DATA",998.1,4,10,8,30,5,0)
telecom!start^^C^40
"DATA",998.1,4,10,8,30,5,10)
D NEWARY(PN)
"DATA",998.1,4,10,8,30,6,0)
telecom!end^^C^40.9
"DATA",998.1,4,10,8,30,6,10)
D ENDARY(PN)
"DATA",998.1,4,10,8,40,0)
^998.13I^1^1
"DATA",998.1,4,10,8,40,1,0)
_id^@ien^T^10
"DATA",998.1,4,10,9,0)
Observation
"DATA",998.1,4,10,9,20)
D RETRIEVE^RGSEROBS
"DATA",998.1,4,10,9,30,0)
^998.12I^20^17
"DATA",998.1,4,10,9,30,1,0)
issued^issued^D^60
"DATA",998.1,4,10,9,30,2,0)
status^status^F^70
"DATA",998.1,4,10,9,30,3,0)
reliability^reliability^F^80
"DATA",998.1,4,10,9,30,4,0)
subject^patient^C^120
"DATA",998.1,4,10,9,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,4,10,9,30,5,0)
referenceRange^low,high^C^150
"DATA",998.1,4,10,9,30,5,10)
D RANGEJSN^RGSEROBS($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,4,10,9,30,7,0)
comments^comments^F^40
"DATA",998.1,4,10,9,30,8,0)
appliesDateTime^collected^D^50
"DATA",998.1,4,10,9,30,9,0)
identifier^id^C^110
"DATA",998.1,4,10,9,30,9,10)
D IDENT("@observation",VL("I"))
"DATA",998.1,4,10,9,30,10,0)
name^code,code_system^C^10
"DATA",998.1,4,10,9,30,10,10)
D CODING(PN,VL(2,"E"),VL("I"),VL("E"))
"DATA",998.1,4,10,9,30,11,0)
value^value,units^C^20
"DATA",998.1,4,10,9,30,11,10)
D VALUEJSN^RGSEROBS($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,4,10,9,30,12,0)
interpretation^interpretation^C^30
"DATA",998.1,4,10,9,30,12,10)
D:VL NEWOBJ(PN),PUT("text",VL("E")),ENDOBJ(PN)
"DATA",998.1,4,10,9,30,13,0)
bodySite^^N^90
"DATA",998.1,4,10,9,30,14,0)
method^^N^100
"DATA",998.1,4,10,9,30,15,0)
specimen^^N^130
"DATA",998.1,4,10,9,30,16,0)
performer^^N^140
"DATA",998.1,4,10,9,30,19,0)
@id^id^N^1
"DATA",998.1,4,10,9,30,20,0)
related^related^C^160
"DATA",998.1,4,10,9,30,20,10)
D:VL RELJSN^RGSEROBS(VL("I"))
"DATA",998.1,4,10,9,40,0)
^998.13I^3^3
"DATA",998.1,4,10,9,40,1,0)
subject:Patient^patient^R^10
"DATA",998.1,4,10,9,40,1,20)
S X=$$OBS^RGSEROBS(RGNETREQ("PARAMS","subject:Patient",1,1))
"DATA",998.1,4,10,9,40,2,0)
name^code^T^10
"DATA",998.1,4,10,9,40,3,0)
_id^@id^T^10
"DATA",998.1,4,10,10,0)
Organization^^4
"DATA",998.1,4,10,10,30,0)
^998.12I^5^5
"DATA",998.1,4,10,10,30,1,0)
name^.01^F^20
"DATA",998.1,4,10,10,30,2,0)
active^^S^10
"DATA",998.1,4,10,10,30,2,10)
true
"DATA",998.1,4,10,10,30,3,0)
address^@ien^O^40.1
"DATA",998.1,4,10,10,30,3,10)
*/Organization_Address
"DATA",998.1,4,10,10,30,4,0)
address!start^^C^40
"DATA",998.1,4,10,10,30,4,10)
D NEWARY(PN)
"DATA",998.1,4,10,10,30,5,0)
address!end^^C^40.9
"DATA",998.1,4,10,10,30,5,10)
D ENDARY(PN)
"DATA",998.1,4,10,11,0)
Organization_Address^1^4
"DATA",998.1,4,10,11,30,0)
^998.12I^6^6
"DATA",998.1,4,10,11,30,1,0)
use^^S^10
"DATA",998.1,4,10,11,30,1,10)
work
"DATA",998.1,4,10,11,30,2,0)
line^1.01^F^20
"DATA",998.1,4,10,11,30,3,0)
line^1.02^F^20.1
"DATA",998.1,4,10,11,30,4,0)
city^1.03^F^50
"DATA",998.1,4,10,11,30,5,0)
state^.02^F^60
"DATA",998.1,4,10,11,30,6,0)
zip^1.04^F^80
"DATA",998.1,4,10,12,0)
Organization_Reference^1^4
"DATA",998.1,4,10,12,30,0)
^998.12I^2^2
"DATA",998.1,4,10,12,30,1,0)
reference^^C^10
"DATA",998.1,4,10,12,30,1,10)
D PUT(PN,"Organization/"_IEN)
"DATA",998.1,4,10,12,30,2,0)
display^.01^F^20
"DATA",998.1,4,10,13,0)
Patient^^2
"DATA",998.1,4,10,13,30,0)
^998.12I^23^23
"DATA",998.1,4,10,13,30,1,0)
name^.01^C^10.1
"DATA",998.1,4,10,13,30,1,10)
D NAME(VL("I"))
"DATA",998.1,4,10,13,30,2,0)
gender^.02^C^20
"DATA",998.1,4,10,13,30,2,10)
D:VL CODING(PN,"http://hl7.org/fhir/v3/AdministrativeGender",VL("I"),VL("E"))
"DATA",998.1,4,10,13,30,3,0)
birthDate^.03^D^30
"DATA",998.1,4,10,13,30,4,0)
deceasedDateTime^.351^D^50
"DATA",998.1,4,10,13,30,5,0)
identifier!MRN^^C^60.1
"DATA",998.1,4,10,13,30,5,10)
D IDENT("@identifiers/patients",$$HRN^RGSERPAT(IEN),PN(0))
"DATA",998.1,4,10,13,30,6,0)
managingOrganization^^C^80
"DATA",998.1,4,10,13,30,6,10)
D:$G(DUZ(2)) GET^RGSERGET(.RGSER,"*/Organization_Reference",DUZ(2),PN)
"DATA",998.1,4,10,13,30,7,0)
photo^^C^80
"DATA",998.1,4,10,13,30,7,10)
Q:'$L($T(^MAGGTIG))  N X,Y D PHOTOS^MAGGTIG(.X,IEN) F Y=0:0 S Y=$O(X(Y)) Q:'Y  S X=$P(X(Y),U,3) I $E(X,1,4)="http" D NEWOBJ(PN),PUT("contentType","image/"_$P(X,".",$L(X,"."))),PUT("url",X),ENDOBJ(PN)
"DATA",998.1,4,10,13,30,8,0)
telecom!phone:home^.131^C^100.2
"DATA",998.1,4,10,13,30,8,10)
D TELECOM
"DATA",998.1,4,10,13,30,9,0)
telecom!phone:mobile^.134^C^100.3
"DATA",998.1,4,10,13,30,9,10)
D TELECOM
"DATA",998.1,4,10,13,30,10,0)
telecom!phone:work^.132^C^100.4
"DATA",998.1,4,10,13,30,10,10)
D TELECOM
"DATA",998.1,4,10,13,30,11,0)
address^@ien^O^130.1
"DATA",998.1,4,10,13,30,11,10)
*/Patient_Address_Home
"DATA",998.1,4,10,13,30,12,0)
telecom!fax:home^.136^C^100.1
"DATA",998.1,4,10,13,30,12,10)
D TELECOM
"DATA",998.1,4,10,13,30,13,0)
extension!race^2^M^21
"DATA",998.1,4,10,13,30,13,10)
*/Patient_Race
"DATA",998.1,4,10,13,30,14,0)
identifier!SSN^.09^C^60.2
"DATA",998.1,4,10,13,30,14,10)
D IDENT("http://hl7.org/fhir/sid/us-ssn",VL("E"),PN(0))
"DATA",998.1,4,10,13,30,15,0)
text^^T^1
"DATA",998.1,4,10,13,30,15,10)
TEXT
"DATA",998.1,4,10,13,30,16,0)
identifier!start^^C^60
"DATA",998.1,4,10,13,30,16,10)
D NEWARY(PN)
"DATA",998.1,4,10,13,30,17,0)
identifier!end^^C^60.9
"DATA",998.1,4,10,13,30,17,10)
D ENDARY(PN)
"DATA",998.1,4,10,13,30,18,0)
telecom!start^^C^100
"DATA",998.1,4,10,13,30,18,10)
D NEWARY(PN)
"DATA",998.1,4,10,13,30,19,0)
telecom!end^^C^100.9
"DATA",998.1,4,10,13,30,19,10)
D ENDARY(PN)
"DATA",998.1,4,10,13,30,20,0)
address!start^^C^130
"DATA",998.1,4,10,13,30,20,10)
D NEWARY(PN)
"DATA",998.1,4,10,13,30,21,0)
address!end^^C^130.9
"DATA",998.1,4,10,13,30,21,10)
D ENDARY(PN)
"DATA",998.1,4,10,13,30,22,0)
name!start^^C^10
"DATA",998.1,4,10,13,30,22,10)
D NEWARY(PN)
"DATA",998.1,4,10,13,30,23,0)
name!end^^C^10.9
"DATA",998.1,4,10,13,30,23,10)
D ENDARY(PN)
"DATA",998.1,4,10,13,40,0)
^998.13I^6^6
"DATA",998.1,4,10,13,40,1,0)
_id^@ien^T^10
"DATA",998.1,4,10,13,40,2,0)
family^.01^S^20
"DATA",998.1,4,10,13,40,2,10)
D OPRNAME(VL("E"),1) K PVAL
"DATA",998.1,4,10,13,40,2,20)
S X="$$NAMEITER^RGSERPAT"
"DATA",998.1,4,10,13,40,3,0)
given^.01^S^30
"DATA",998.1,4,10,13,40,3,10)
D OPRNAME(VL("E"),2) K PVAL
"DATA",998.1,4,10,13,40,4,0)
gender^.02^T^40
"DATA",998.1,4,10,13,40,5,0)
birthdate^.03^D^15
"DATA",998.1,4,10,13,40,6,0)
identifier^.09^T^5
"DATA",998.1,4,10,13,40,6,10)
S MATCH=PVAL=$$HRN^RGSERPAT(IEN),PVAL=$TR(PVAL,"-") S:MATCH TP=""
"DATA",998.1,4,10,13,50,0)
^998.15^1^1
"DATA",998.1,4,10,13,50,1,0)
TEXT
"DATA",998.1,4,10,13,50,1,1,0)
^998.151^4^4^3150408^
"DATA",998.1,4,10,13,50,1,1,1,0)
,"text": {
"DATA",998.1,4,10,13,50,1,1,2,0)
"status": "generated",
"DATA",998.1,4,10,13,50,1,1,3,0)
"div": "NAME: |.01|"
"DATA",998.1,4,10,13,50,1,1,4,0)
}
"DATA",998.1,4,10,14,0)
Patient/#/Condition
"DATA",998.1,4,10,14,10)
D COMPRT($NA(^AUPNPROB("AC")))
"DATA",998.1,4,10,15,0)
Patient/#/DocumentReference
"DATA",998.1,4,10,15,10)
D COMPRT($NA(^TIU(8925,"C")))
"DATA",998.1,4,10,16,0)
Patient/#/Encounter
"DATA",998.1,4,10,16,10)
D COMPRT($NA(^AUPNVSIT("C")))
"DATA",998.1,4,10,17,0)
Patient/#/Observation
"DATA",998.1,4,10,17,10)
D COMPRT($$OBS^RGSEROBS($P(PATH,"/",3)),1)
"DATA",998.1,4,10,18,0)
Patient_Address_Home^1^2
"DATA",998.1,4,10,18,30,0)
^998.12I^11^11
"DATA",998.1,4,10,18,30,1,0)
use^^S^10
"DATA",998.1,4,10,18,30,1,10)
home
"DATA",998.1,4,10,18,30,2,0)
line!1^.111^F^20.1
"DATA",998.1,4,10,18,30,3,0)
line!2^.112^F^20.2
"DATA",998.1,4,10,18,30,4,0)
line!3^.113^F^20.3
"DATA",998.1,4,10,18,30,5,0)
city^.114^F^50
"DATA",998.1,4,10,18,30,6,0)
state^.115^F^60
"DATA",998.1,4,10,18,30,7,0)
state!province^.1171^F^60.1
"DATA",998.1,4,10,18,30,8,0)
zip^.116^F^80
"DATA",998.1,4,10,18,30,9,0)
country^.1173^F^90
"DATA",998.1,4,10,18,30,10,0)
line!start^c^C^20
"DATA",998.1,4,10,18,30,10,10)
D NEWARY(PN)
"DATA",998.1,4,10,18,30,11,0)
line!end^^C^20.9
"DATA",998.1,4,10,18,30,11,10)
D ENDARY(PN)
"DATA",998.1,4,10,19,0)
Patient_Race^1^2.02
"DATA",998.1,4,10,19,30,0)
^998.12I^2^2
"DATA",998.1,4,10,19,30,1,0)
valueCodeableConcept^.01^C^10
"DATA",998.1,4,10,19,30,1,10)
D:VL NEWOBJ(PN),PUT("text",VL("E")),ENDOBJ(PN)
"DATA",998.1,4,10,19,30,2,0)
attr:url^^N^1
"DATA",998.1,4,10,19,30,2,10)
http://hl7.org/fhir/Profile/us-core#race
"DATA",998.1,4,10,20,0)
Practitioner^^200
"DATA",998.1,4,10,20,30,0)
^998.12I^14^14
"DATA",998.1,4,10,20,30,1,0)
name^.01^C^10.1
"DATA",998.1,4,10,20,30,1,10)
D NAME(VL("I"))
"DATA",998.1,4,10,20,30,2,0)
telecom!phone:home^.132^C^20.1
"DATA",998.1,4,10,20,30,2,10)
D TELECOM
"DATA",998.1,4,10,20,30,3,0)
telecom!phone:work^.131^C^20.2
"DATA",998.1,4,10,20,30,3,10)
D TELECOM
"DATA",998.1,4,10,20,30,4,0)
telecom!fax:work^.136^C^20.3
"DATA",998.1,4,10,20,30,4,10)
D TELECOM
"DATA",998.1,4,10,20,30,5,0)
identifier!DEA^53.2^C^50.1
"DATA",998.1,4,10,20,30,5,10)
D IDENT("",VL("E"),PN(0),"official")
"DATA",998.1,4,10,20,30,6,0)
gender^4^C^40
"DATA",998.1,4,10,20,30,6,10)
D:VL CODING(PN,"http://hl7.org/fhir/v3/AdministrativeGender",VL("I"),VL("E"))
"DATA",998.1,4,10,20,30,7,0)
identifier!SSN^9^C^50.3
"DATA",998.1,4,10,20,30,7,10)
D IDENT("http://hl7.org/fhir/sid/us-ssn",VL("E"),PN(0))
"DATA",998.1,4,10,20,30,8,0)
identifier!NPI^41.99^C^50.2
"DATA",998.1,4,10,20,30,8,10)
D IDENT("urn:oid:2.16.840.1.113883.4.6",VL("E"),PN(0))
"DATA",998.1,4,10,20,30,9,0)
identifier!start^^C^50
"DATA",998.1,4,10,20,30,9,10)
D NEWARY(PN)
"DATA",998.1,4,10,20,30,10,0)
identifier!end^^C^50.9
"DATA",998.1,4,10,20,30,10,10)
D ENDARY(PN)
"DATA",998.1,4,10,20,30,11,0)
telecom!start^^C^20
"DATA",998.1,4,10,20,30,11,10)
D NEWARY(PN)
"DATA",998.1,4,10,20,30,12,0)
telecom!end^^C^20.9
"DATA",998.1,4,10,20,30,12,10)
D ENDARY(PN)
"DATA",998.1,4,10,20,30,13,0)
name!start^^C^10
"DATA",998.1,4,10,20,30,13,10)
D NEWARY(PN)
"DATA",998.1,4,10,20,30,14,0)
name!end^^C^10.9
"DATA",998.1,4,10,20,30,14,10)
D ENDARY(PN)
"DATA",998.1,4,10,20,40,0)
^998.13I^3^3
"DATA",998.1,4,10,20,40,1,0)
family^.01^S^20
"DATA",998.1,4,10,20,40,1,10)
D OPRNAME(VL("E"),1) K PVAL
"DATA",998.1,4,10,20,40,1,20)
S X="$$NAMEITER^RGSERPER"
"DATA",998.1,4,10,20,40,2,0)
given^.01^S^30
"DATA",998.1,4,10,20,40,2,10)
D OPRNAME(VL("E"),2) K PVAL
"DATA",998.1,4,10,20,40,3,0)
_id^@ien^T^40
"DATA",998.1,4,10,21,0)
User^^200
"DATA",998.1,4,10,21,30,0)
^998.12I^8^8
"DATA",998.1,4,10,21,30,1,0)
name^.01^C^10.1
"DATA",998.1,4,10,21,30,1,10)
D NAME(VL("I"))
"DATA",998.1,4,10,21,30,2,0)
birthDate^5^D^20
"DATA",998.1,4,10,21,30,3,0)
extension!organization^^T^30
"DATA",998.1,4,10,21,30,3,10)
ORGANIZATION
"DATA",998.1,4,10,21,30,4,0)
telecom!phone:work^.132^C^40
"DATA",998.1,4,10,21,30,4,10)
D TELECOM
"DATA",998.1,4,10,21,30,5,0)
telecom!phone:home^.131^C^50
"DATA",998.1,4,10,21,30,5,10)
D TELECOM
"DATA",998.1,4,10,21,30,6,0)
telecom!fax:work^.136^C^60
"DATA",998.1,4,10,21,30,6,10)
D TELECOM
"DATA",998.1,4,10,21,30,7,0)
name!start^^C^10
"DATA",998.1,4,10,21,30,7,10)
D NEWARY(PN)
"DATA",998.1,4,10,21,30,8,0)
name!end^^C^10.9
"DATA",998.1,4,10,21,30,8,10)
D ENDARY(PN)
"DATA",998.1,4,10,21,40,0)
^998.13I^1^1
"DATA",998.1,4,10,21,40,1,0)
_id^@ien^T^10
"DATA",998.1,4,10,21,50,0)
^998.15^1^1
"DATA",998.1,4,10,21,50,1,0)
ORGANIZATION
"DATA",998.1,4,10,21,50,1,1,0)
^^8^8^3150321.115125
"DATA",998.1,4,10,21,50,1,1,1,0)
,"extension": [
"DATA",998.1,4,10,21,50,1,1,2,0)
  { "url": "http://www.carewebframework.org/fhir/extension/user/organization",
"DATA",998.1,4,10,21,50,1,1,3,0)
    "valueResource": {
"DATA",998.1,4,10,21,50,1,1,4,0)
      "reference": "Organization/|@DUZ(2)|",
"DATA",998.1,4,10,21,50,1,1,5,0)
      "display": "|@$P(^DIC(4,DUZ(2),0),U)|"
"DATA",998.1,4,10,21,50,1,1,6,0)
    }
"DATA",998.1,4,10,21,50,1,1,7,0)
  }
"DATA",998.1,4,10,21,50,1,1,8,0)
]
"DATA",998.1,4,10,22,0)
ValueSet^^998.11
"DATA",998.1,4,10,22,20)
S IENS=IENS_RGSER("SER")_","
"DATA",998.1,4,10,22,30,0)
^998.12I^5^5
"DATA",998.1,4,10,22,30,1,0)
define^.01^C^100
"DATA",998.1,4,10,22,30,1,10)
D NEWOBJ(PN),PUT("system",$$SYSTEM^RGSER("@"_VL("E"))),GET^RGSERGET(.RGSER,"*/"_VL("E"),,"concept"),ENDOBJ(PN)
"DATA",998.1,4,10,22,30,2,0)
identifier^.01^C^10
"DATA",998.1,4,10,22,30,2,10)
D PUT(PN,$$SYSTEM^RGSER("@vs/"_$P(VL("E"),"_",2,99)))
"DATA",998.1,4,10,22,30,3,0)
name^.01^C^20
"DATA",998.1,4,10,22,30,3,10)
D PUT(PN,$P(VL("E"),"_",2,99))
"DATA",998.1,4,10,22,30,4,0)
description^99^F^30
"DATA",998.1,4,10,22,30,5,0)
status^^S^40
"DATA",998.1,4,10,22,30,5,10)
active
"DATA",998.1,4,10,22,40,0)
^998.13I^3^3
"DATA",998.1,4,10,22,40,1,0)
_id^@ien^T^1
"DATA",998.1,4,10,22,40,2,0)
name^.01^S^10
"DATA",998.1,4,10,22,40,2,10)
S PVAL=$S(PVAL("OPR")="s":"VALUESET_",1:"ValueSet_")_PVAL
"DATA",998.1,4,10,22,40,3,0)
@selector^.01^T^1
"DATA",998.1,4,10,22,40,3,10)
S MATCH="ValueSet_"=$E(VL("E"),1,9)
"DATA",998.1,4,10,22,40,3,20)
S X="$$ITERVS^RGSEFHIR"
"DATA",998.1,4,10,23,0)
ValueSet_DocumentType^1^8925.1
"DATA",998.1,4,10,23,30,0)
^998.12I^2^2
"DATA",998.1,4,10,23,30,1,0)
code^@ien^R^20
"DATA",998.1,4,10,23,30,2,0)
display^.01^F^30
"DATA",998.1,4,10,23,99)
List of document categories by which documents may be classified.
"DATA",998.1,4,10,24,0)
ValueSet_EncounterType^1
"DATA",998.1,4,10,24,10)
K XSER D GETTYPES^RGSERENC
"DATA",998.1,4,10,24,20)
D RETRIEVE^RGSERENC(IEN)
"DATA",998.1,4,10,24,30,0)
^998.12I^3^3
"DATA",998.1,4,10,24,30,1,0)
display^2^R^20
"DATA",998.1,4,10,24,30,2,0)
code^1^R^30
"DATA",998.1,4,10,24,30,3,0)
definition^3^R^40
"DATA",998.1,4,10,24,99)
List of recognized encounter types (service codes).
"DATA",998.1,4,10,25,0)
Medication^^50
"DATA",998.1,4,10,25,30,0)
^998.12I^7^7
"DATA",998.1,4,10,25,30,1,0)
name^.01^F^10
"DATA",998.1,4,10,25,30,2,0)
code!start^^C^20
"DATA",998.1,4,10,25,30,2,10)
D NEWARY(PN)
"DATA",998.1,4,10,25,30,3,0)
code!end^^C^20.9
"DATA",998.1,4,10,25,30,3,10)
D ENDARY(PN)
"DATA",998.1,4,10,25,30,4,0)
coding!ndc^31^C^20.1
"DATA",998.1,4,10,25,30,4,10)
D:VL CODING(,"http://www.fda.gov/ndc",VL("E"))
"DATA",998.1,4,10,25,30,5,0)
product!start^^C^30
"DATA",998.1,4,10,25,30,5,10)
D NEWOBJ(PN)
"DATA",998.1,4,10,25,30,6,0)
product!end^^C^30.9
"DATA",998.1,4,10,25,30,6,10)
D ENDOBJ(PN)
"DATA",998.1,4,10,25,30,7,0)
form^14.5^C^30.1
"DATA",998.1,4,10,25,30,7,10)
D:VL CODING(PN,"dispense_unit",,VL("E"))
"DATA",998.1,4,10,25,40,0)
^998.13I^3^3
"DATA",998.1,4,10,25,40,1,0)
code^31^T^10
"DATA",998.1,4,10,25,40,2,0)
name^.01^S^20
"DATA",998.1,4,10,25,40,3,0)
_id^@ien^T^30
"DATA",998.1,4,10,26,0)
MedicationPrescription^^52
"DATA",998.1,4,10,26,30,0)
^998.12I^8^8
"DATA",998.1,4,10,26,30,1,0)
patient^2^C^40
"DATA",998.1,4,10,26,30,1,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,4,10,26,30,2,0)
prescriber^4^C^50
"DATA",998.1,4,10,26,30,2,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,4,10,26,30,3,0)
medication^6^C^80
"DATA",998.1,4,10,26,30,3,10)
D REF(PN,"Medication",.VL)
"DATA",998.1,4,10,26,30,4,0)
dateWritten^1^D^20
"DATA",998.1,4,10,26,30,5,0)
dosageInstruction!start^^C^90
"DATA",998.1,4,10,26,30,5,10)
D NEWARY(PN)
"DATA",998.1,4,10,26,30,6,0)
dosageInstruction!end^^C^90.9
"DATA",998.1,4,10,26,30,6,10)
D ENDARY(PN)
"DATA",998.1,4,10,26,30,7,0)
@text^10.2^M^90.001
"DATA",998.1,4,10,26,30,7,10)
*/MedicationPrescription_Sig
"DATA",998.1,4,10,26,30,8,0)
@dosing^113^M^90.002
"DATA",998.1,4,10,26,30,8,10)
*/MedicationPrescription_Dosing
"DATA",998.1,4,10,26,40,0)
^998.13I^3^3
"DATA",998.1,4,10,26,40,1,0)
patient^2^R^10
"DATA",998.1,4,10,26,40,1,20)
S X=$$COHORT(PN,$NA(^PS(55,"*","P","A")),1)
"DATA",998.1,4,10,26,40,2,0)
_id^@ien^T^20
"DATA",998.1,4,10,26,40,3,0)
patient:Patient^2^R^10
"DATA",998.1,4,10,26,40,3,20)
S X=$$COHORT(PN,$NA(^PS(55,"*","P","A")),1)
"DATA",998.1,4,10,27,0)
MedicationPrescription_Sig^1^52.04
"DATA",998.1,4,10,27,30,0)
^998.12I^1^1
"DATA",998.1,4,10,27,30,1,0)
text^.01^F^10
"DATA",998.1,4,10,28,0)
MedicationPrescription_Dosing^1^52.0113
"DATA",998.1,4,10,28,30,0)
^998.12I^1^1
"DATA",998.1,4,10,28,30,1,0)
route^6^C^10
"DATA",998.1,4,10,28,30,1,10)
D:VL CODING(PN,"@medication_route",VL("E"))
"DATA",998.1,4,10,29,0)
Patient/#/MedicationPrescription
"DATA",998.1,4,10,29,10)
D COMPRT($$COHORT2($P(PATH,"/",3),$NA(^PS(55,"*","P","A")),1),1)
"DATA",998.1,4,10,30,0)
AdverseReaction^^120.8
"DATA",998.1,4,10,30,30,0)
^998.12I^9^7
"DATA",998.1,4,10,30,30,1,0)
identifier^^N^10
"DATA",998.1,4,10,30,30,2,0)
date^4^D^20
"DATA",998.1,4,10,30,30,3,0)
subject^.01^C^30
"DATA",998.1,4,10,30,30,3,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,4,10,30,30,4,0)
didNotOccurFlag^^S^40
"DATA",998.1,4,10,30,30,4,10)
false
"DATA",998.1,4,10,30,30,5,0)
recorder^5^C^50
"DATA",998.1,4,10,30,30,5,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,4,10,30,30,6,0)
symptom^10^M^60
"DATA",998.1,4,10,30,30,6,10)
*/AdverseReaction_Symptom
"DATA",998.1,4,10,30,30,9,0)
exposure^1,.02^C^70.2
"DATA",998.1,4,10,30,30,9,10)
S:'VL VL("E")=VL(2,"E") S VL("I")=$$VP2ID(VL("I")) D NEWARY(PN),REF("substance","Substance",.VL),ENDARY(PN)
"DATA",998.1,4,10,30,40,0)
^998.13I^3^3
"DATA",998.1,4,10,30,40,1,0)
subject^.01^R^10
"DATA",998.1,4,10,30,40,1,20)
S X=$$COHORT(PN,$NA(^GMR(120.8,"B")))
"DATA",998.1,4,10,30,40,2,0)
subject:Patient^.01^R^10
"DATA",998.1,4,10,30,40,2,20)
S X=$$COHORT(PN,$NA(^GMR(120.8,"B")))
"DATA",998.1,4,10,30,40,3,0)
_id^@ien^T^20
"DATA",998.1,4,10,31,0)
AdverseReaction_Symptom^1^120.81
"DATA",998.1,4,10,31,30,0)
^998.12I^2^2
"DATA",998.1,4,10,31,30,1,0)
code^.01^C^10
"DATA",998.1,4,10,31,30,1,10)
D CODING(PN,"#120.83",VL("I"),VL("E"))
"DATA",998.1,4,10,31,30,2,0)
severity^^N^20
"DATA",998.1,4,10,32,0)
AdverseReaction_Ingredient^1^120.802
"DATA",998.1,4,10,32,30,0)
^998.12I^4^4
"DATA",998.1,4,10,32,30,1,0)
date^^D^10
"DATA",998.1,4,10,32,30,2,0)
type^^S^20
"DATA",998.1,4,10,32,30,2,10)
drugadmin
"DATA",998.1,4,10,32,30,3,0)
causalityExpectation^^N^30
"DATA",998.1,4,10,32,30,4,0)
substance^.01^C^40
"DATA",998.1,4,10,32,30,4,10)
D REF(PN,"Substance",.VL,"50.416:")
"DATA",998.1,4,10,33,0)
AdverseReaction_Class^1^120.803
"DATA",998.1,4,10,33,30,0)
^998.12I^4^4
"DATA",998.1,4,10,33,30,1,0)
date^^D^10
"DATA",998.1,4,10,33,30,2,0)
type^^S^20
"DATA",998.1,4,10,33,30,2,10)
drugadmin
"DATA",998.1,4,10,33,30,3,0)
causalityExpectation^^N^30
"DATA",998.1,4,10,33,30,4,0)
substance^.01^C^40
"DATA",998.1,4,10,33,30,4,10)
D REF(PN,"Substance",.VL,"50.605:")
"DATA",998.1,4,10,34,0)
Substance
"DATA",998.1,4,10,34,10)
D COMPID^RGSERGET
"DATA",998.1,4,10,35,0)
Patient/#/AdverseReaction
"DATA",998.1,4,10,35,10)
D COMPRT($NA(^GMR(120.8,"B")))
"DATA",998.1,4,10,36,0)
Substance_50^1^50
"DATA",998.1,4,10,36,30,0)
^998.12I^4^4
"DATA",998.1,4,10,36,30,1,0)
type^.01^C^10
"DATA",998.1,4,10,36,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,4,10,36,30,2,0)
description^^W^20
"DATA",998.1,4,10,36,30,3,0)
instance^^N^30
"DATA",998.1,4,10,36,30,4,0)
ingredient^^N^40
"DATA",998.1,4,10,37,0)
Substance_50.416^1^50.416
"DATA",998.1,4,10,37,30,0)
^998.12I^4^4
"DATA",998.1,4,10,37,30,1,0)
type^.01^C^10
"DATA",998.1,4,10,37,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,4,10,37,30,2,0)
description^^W^20
"DATA",998.1,4,10,37,30,3,0)
instance^^N^30
"DATA",998.1,4,10,37,30,4,0)
ingredient^^N^40
"DATA",998.1,4,10,38,0)
Substance_50.6^1^50.6
"DATA",998.1,4,10,38,30,0)
^998.12I^4^4
"DATA",998.1,4,10,38,30,1,0)
type^.01^C^10
"DATA",998.1,4,10,38,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,4,10,38,30,2,0)
description^^W^20
"DATA",998.1,4,10,38,30,3,0)
instance^^N^30
"DATA",998.1,4,10,38,30,4,0)
ingredient^^N^40
"DATA",998.1,4,10,39,0)
Substance_50.605^1^50.605
"DATA",998.1,4,10,39,30,0)
^998.12I^4^4
"DATA",998.1,4,10,39,30,1,0)
type^.01^C^10
"DATA",998.1,4,10,39,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,4,10,39,30,2,0)
description^^W^20
"DATA",998.1,4,10,39,30,3,0)
instance^^N^30
"DATA",998.1,4,10,39,30,4,0)
ingredient^^N^40
"DATA",998.1,4,10,40,0)
Substance_120.82^1^120.82
"DATA",998.1,4,10,40,30,0)
^998.12I^4^4
"DATA",998.1,4,10,40,30,1,0)
type^.01^C^10
"DATA",998.1,4,10,40,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,4,10,40,30,2,0)
description^^W^20
"DATA",998.1,4,10,40,30,3,0)
instance^^N^30
"DATA",998.1,4,10,40,30,4,0)
ingredient^^N^40
"DATA",998.1,4,10,41,0)
Immunization^^9000010.11
"DATA",998.1,4,10,41,30,0)
^998.12I^18^18
"DATA",998.1,4,10,41,30,1,0)
identifier^^N^10
"DATA",998.1,4,10,41,30,2,0)
date^1201,.03~.01^C^20
"DATA",998.1,4,10,41,30,2,10)
D PUTDT(PN,$S(VL:VL("I"),1:VL(2,"I")))
"DATA",998.1,4,10,41,30,3,0)
vaccineType^.01^C^30
"DATA",998.1,4,10,41,30,3,10)
D CODING(PN,"#9999999.14",VL("I"),VL("E"))
"DATA",998.1,4,10,41,30,4,0)
subject^.02^C^40
"DATA",998.1,4,10,41,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,4,10,41,30,5,0)
refusedIndicator^^B^50
"DATA",998.1,4,10,41,30,6,0)
reported^^B^60
"DATA",998.1,4,10,41,30,7,0)
performer^1204^C^70
"DATA",998.1,4,10,41,30,7,10)
D:VL REF(PN,"Practitioner",.VL)
"DATA",998.1,4,10,41,30,8,0)
requester^1202^C^80
"DATA",998.1,4,10,41,30,8,10)
D:VL REF(PN,"Practitioner",.VL)
"DATA",998.1,4,10,41,30,9,0)
manufacturer^^N^90
"DATA",998.1,4,10,41,30,10,0)
location^.03~.22^C^100
"DATA",998.1,4,10,41,30,10,10)
D REF(PN,"Location",.VL)
"DATA",998.1,4,10,41,30,11,0)
lotNumber^^N^110
"DATA",998.1,4,10,41,30,12,0)
expirationDate^^D^120
"DATA",998.1,4,10,41,30,13,0)
site^^N^130
"DATA",998.1,4,10,41,30,14,0)
route^^N^140
"DATA",998.1,4,10,41,30,15,0)
doseQuantity^^N^150
"DATA",998.1,4,10,41,30,16,0)
explanation^^N^160
"DATA",998.1,4,10,41,30,17,0)
reaction^^N^170
"DATA",998.1,4,10,41,30,18,0)
vaccinationProtocol^^N^180
"DATA",998.1,4,10,41,40,0)
^998.13I^3^3
"DATA",998.1,4,10,41,40,1,0)
subject^.02^R^10
"DATA",998.1,4,10,41,40,1,20)
S X=$$COHORT(PN,$NA(^AUPNVIMM("C")))
"DATA",998.1,4,10,41,40,2,0)
subject:Patient^.02^R^10
"DATA",998.1,4,10,41,40,2,20)
S X=$$COHORT(PN,$NA(^AUPNVIMM("C")))
"DATA",998.1,4,10,41,40,3,0)
_id^@ien^T^30
"DATA",998.1,4,10,42,0)
Patient/#/Immunization
"DATA",998.1,4,10,42,10)
D COMPRT($NA(^AUPNVIMM("C")))
"DATA",998.1,4,10,43,0)
Alert^^26.13
"DATA",998.1,4,10,43,30,0)
^998.12I^6^6
"DATA",998.1,4,10,43,30,1,0)
identifier^^N^10
"DATA",998.1,4,10,43,30,2,0)
category^.02^C^20
"DATA",998.1,4,10,43,30,2,10)
D CODING(PN,"#26.13",$$VP2ID(VL("I")),VL("E"))
"DATA",998.1,4,10,43,30,3,0)
status^.03^C^30
"DATA",998.1,4,10,43,30,3,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,4,10,43,30,4,0)
subject^.01^C^40
"DATA",998.1,4,10,43,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,4,10,43,30,5,0)
author^^N^50
"DATA",998.1,4,10,43,30,6,0)
note^1^W^60
"DATA",998.1,4,10,43,30,6,10)
  
"DATA",998.1,4,10,43,40,0)
^998.13I^3^3
"DATA",998.1,4,10,43,40,1,0)
_id^@ien^T^10
"DATA",998.1,4,10,43,40,2,0)
subject^.01^R^20
"DATA",998.1,4,10,43,40,2,20)
S X=$NA(^DGPF(26.13,"B",RGNETREQ("PARAMS",PN,1,1)))
"DATA",998.1,4,10,43,40,3,0)
subject:Patient^.01^R^20
"DATA",998.1,4,10,43,40,3,20)
S X=$NA(^DGPF(26.13,"B",RGNETREQ("PARAMS",PN,1,1)))
"DATA",998.1,4,10,44,0)
Patient/#/Alert
"DATA",998.1,4,10,44,10)
D COMPRT($NA(^DGPF(26.13,"B")))
"DATA",998.1,4,10,45,0)
metadata
"DATA",998.1,4,10,45,10)
D TEMPLATE^RGSERGET("CONFORMANCE")
"DATA",998.1,4,10,45,50,0)
^998.15^3^3
"DATA",998.1,4,10,45,50,1,0)
CONFORMANCE
"DATA",998.1,4,10,45,50,1,1,0)
^^35^35^3150327.004518
"DATA",998.1,4,10,45,50,1,1,1,0)
{
"DATA",998.1,4,10,45,50,1,1,2,0)
  "resourceType": "Conformance",
"DATA",998.1,4,10,45,50,1,1,3,0)
  "text": {
"DATA",998.1,4,10,45,50,1,1,4,0)
    "status": "generated"
"DATA",998.1,4,10,45,50,1,1,5,0)
  },
"DATA",998.1,4,10,45,50,1,1,6,0)
  "publisher": "|@$P($$SITE^VASITE,U,2)|",
"DATA",998.1,4,10,45,50,1,1,7,0)
  "date": "|@$$FMTDATE^RGSER|",
"DATA",998.1,4,10,45,50,1,1,8,0)
  "software": {
"DATA",998.1,4,10,45,50,1,1,9,0)
    "name": "VistA Serialization Framework",
"DATA",998.1,4,10,45,50,1,1,10,0)
    "version": "|@$$VERSION^XPDUTL("RGSE")|"
"DATA",998.1,4,10,45,50,1,1,11,0)
  },
"DATA",998.1,4,10,45,50,1,1,12,0)
  "implementation": {
"DATA",998.1,4,10,45,50,1,1,13,0)
    "description": "VistA (|@RGSER("SERNM")|)"
"DATA",998.1,4,10,45,50,1,1,14,0)
  },
"DATA",998.1,4,10,45,50,1,1,15,0)
  "fhirVersion": "|@RGSER("VER")|",
"DATA",998.1,4,10,45,50,1,1,16,0)
  "acceptUnknown": "false",
"DATA",998.1,4,10,45,50,1,1,17,0)
  "format": "application/json+fhir",
"DATA",998.1,4,10,45,50,1,1,18,0)
  "rest": {
"DATA",998.1,4,10,45,50,1,1,19,0)
    "mode": "server",
"DATA",998.1,4,10,45,50,1,1,20,0)
    "security": {
"DATA",998.1,4,10,45,50,1,1,21,0)
      "extension": [
"DATA",998.1,4,10,45,50,1,1,22,0)
        {
"DATA",998.1,4,10,45,50,1,1,23,0)
          "url": "http://fhir-registry.smarthealthit.org/Profile/oauth-uris#authorize",
"DATA",998.1,4,10,45,50,1,1,24,0)
          "valueUri": "|@$$HOSTURL^RGNETWWW("oauth2/authorize")|"
"DATA",998.1,4,10,45,50,1,1,25,0)
        },
"DATA",998.1,4,10,45,50,1,1,26,0)
        {
"DATA",998.1,4,10,45,50,1,1,27,0)
          "url": "http://fhir-registry.smarthealthit.org/Profile/oauth-uris#token",
"DATA",998.1,4,10,45,50,1,1,28,0)
          "valueUri": "|@$$HOSTURL^RGNETWWW("oauth2/token")|"
"DATA",998.1,4,10,45,50,1,1,29,0)
        }
"DATA",998.1,4,10,45,50,1,1,30,0)
      ]
"DATA",998.1,4,10,45,50,1,1,31,0)
    },
"DATA",998.1,4,10,45,50,1,1,32,0)
    "resource": [
"DATA",998.1,4,10,45,50,1,1,33,0)
|#$$RESCONF^RGSEFHIR|]
"DATA",998.1,4,10,45,50,1,1,34,0)
  }
"DATA",998.1,4,10,45,50,1,1,35,0)
}
"DATA",998.1,4,10,45,50,2,0)
CONFORMANCE_RESOURCE
"DATA",998.1,4,10,45,50,2,1,0)
^^8^8^3150320.095215
"DATA",998.1,4,10,45,50,2,1,1,0)
    |#$S(RESNUM:",",1:"")| {
"DATA",998.1,4,10,45,50,2,1,2,0)
      "type": "|@RESNAME|",
"DATA",998.1,4,10,45,50,2,1,3,0)
      "operation": {
"DATA",998.1,4,10,45,50,2,1,4,0)
        "code": "read"
"DATA",998.1,4,10,45,50,2,1,5,0)
      },
"DATA",998.1,4,10,45,50,2,1,6,0)
      "searchParam": [
"DATA",998.1,4,10,45,50,2,1,7,0)
|#$$SRPCONF^RGSEFHIR|]
"DATA",998.1,4,10,45,50,2,1,8,0)
    }
"DATA",998.1,4,10,45,50,3,0)
CONFORMANCE_PARAMETER
"DATA",998.1,4,10,45,50,3,1,0)
^^4^4^3150320.095235
"DATA",998.1,4,10,45,50,3,1,1,0)
        |#$S(SRPNUM:",",1:"")| {
"DATA",998.1,4,10,45,50,3,1,2,0)
          "name": "|@SRPNAME|",
"DATA",998.1,4,10,45,50,3,1,3,0)
          "type": "|@SRPTYPE|"
"DATA",998.1,4,10,45,50,3,1,4,0)
        }
"DATA",998.1,4,10,46,0)
Order^^100
"DATA",998.1,4,10,46,30,0)
^998.12I^9^9
"DATA",998.1,4,10,46,30,1,0)
identifier^^N^10
"DATA",998.1,4,10,46,30,2,0)
date^4^D^20
"DATA",998.1,4,10,46,30,3,0)
subject^.02^C^30
"DATA",998.1,4,10,46,30,3,10)
D:VL("I")["DPT" REF2(PN,"Patient",+VL("I"),VL("E"))
"DATA",998.1,4,10,46,30,4,0)
source^1^C^40
"DATA",998.1,4,10,46,30,4,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,4,10,46,30,5,0)
target^^N^50
"DATA",998.1,4,10,46,30,6,0)
reason^^N^60
"DATA",998.1,4,10,46,30,7,0)
authority^^N^70
"DATA",998.1,4,10,46,30,8,0)
when^^N^80
"DATA",998.1,4,10,46,30,9,0)
detail:.reference^@ien^C^90
"DATA",998.1,4,10,46,30,9,10)
D PUT(PN,"DiagnosticOrder/"_VL("I"))
"DATA",998.1,4,10,47,0)
OperationOutcome^^.84
"DATA",998.1,4,10,47,20)

"DATA",998.1,4,10,47,21)
K:$G(VALS(FILE,IENS,"1.2~1","E"))'="RGSE" VALS
"DATA",998.1,4,10,47,30,0)
^998.12I^8^8
"DATA",998.1,4,10,47,30,1,0)
issue!start^^C^10
"DATA",998.1,4,10,47,30,1,10)
D NEWARY(PN),NEWOBJ(PN)
"DATA",998.1,4,10,47,30,2,0)
issue!end^^C^10.9
"DATA",998.1,4,10,47,30,2,10)
D ENDARY(PN)
"DATA",998.1,4,10,47,30,3,0)
severity^1^C^10.1
"DATA",998.1,4,10,47,30,3,10)
D PUT(PN,$S($G(VL("I"))=1:"error",1:"information"))
"DATA",998.1,4,10,47,30,4,0)
type^1.3^C^10.2
"DATA",998.1,4,10,47,30,4,10)
D CODING(PN,"http://hl7.org/fhir/issue-type",$P(VL("E"),":",2),$P(VL("E"),":",3))
"DATA",998.1,4,10,47,30,5,0)
details^2^W^10.3
"DATA",998.1,4,10,47,30,5,10)
%20
"DATA",998.1,4,10,47,30,6,0)
location^^N^10.4
"DATA",998.1,4,10,47,30,6,10)

"DATA",998.1,4,10,47,30,7,0)
text^4^T^5
"DATA",998.1,4,10,47,30,7,10)
TEXT
"DATA",998.1,4,10,47,30,8,0)
@package^1.2~1^N^1
"DATA",998.1,4,10,47,40,0)
^998.13I^2^2
"DATA",998.1,4,10,47,40,1,0)
_id^@ien^T^10
"DATA",998.1,4,10,47,40,2,0)
@selector^^T^1
"DATA",998.1,4,10,47,40,2,20)
S X=$NA(^DI(.84,"C",$$LKPKG^XPDUTL("RGSE")))
"DATA",998.1,4,10,47,50,0)
^998.15^1^1
"DATA",998.1,4,10,47,50,1,0)
TEXT
"DATA",998.1,4,10,47,50,1,1,0)
^998.151^10^10^3150420^
"DATA",998.1,4,10,47,50,1,1,1,0)
,"text": {
"DATA",998.1,4,10,47,50,1,1,2,0)
"status": "generated",
"DATA",998.1,4,10,47,50,1,1,3,0)
"div": "<div>
"DATA",998.1,4,10,47,50,1,1,4,0)
<table style='margin:5px;border:1px solid black'>
"DATA",998.1,4,10,47,50,1,1,5,0)
<tr style='background:lightgray'><td><h1>Operation Outcome (|\@ien|)</h1></td></tr>
"DATA",998.1,4,10,47,50,1,1,6,0)
<tr><td style='border-bottom:1px solid black'><pre>|4,W|</pre></td></tr>
"DATA",998.1,4,10,47,50,1,1,7,0)
<tr><td><pre>|2,W|</pre></td></tr>
"DATA",998.1,4,10,47,50,1,1,8,0)
</table>
"DATA",998.1,4,10,47,50,1,1,9,0)
</div>"
"DATA",998.1,4,10,47,50,1,1,10,0)
} 
"DATA",998.1,4,10,48,0)
DiagnosticOrder
"DATA",998.1,4,20,0)
^998.14^5^5^3150420^^^^
"DATA",998.1,4,20,1,0)
Access-Control-Allow-Credentials: true
"DATA",998.1,4,20,2,0)
Access-Control-Allow-Headers: origin, authorization, accept, content-type, x-requested-with
"DATA",998.1,4,20,3,0)
Access-Control-Allow-Methods: GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS
"DATA",998.1,4,20,4,0)
Access-Control-Allow-Origin: *
"DATA",998.1,4,20,5,0)
Cache-Control: max-age=0
"DATA",998.1,4,99,0)
^998.199^25^25^3170322^
"DATA",998.1,4,99,1,0)
This is the base URL for the DSTU1 JSON FHIR endpoint. 
"DATA",998.1,4,99,2,0)

"DATA",998.1,4,99,3,0)
<hr> 
"DATA",998.1,4,99,4,0)

"DATA",998.1,4,99,5,0)
This service is supported by the <b>VistA Serialization Framework</b>, 
"DATA",998.1,4,99,6,0)
developed by Doug Martin of the <a href="http://www.regenstrief.org"
"DATA",998.1,4,99,7,0)
target="_blank">Regenstrief Institute.<a>
"DATA",998.1,4,99,8,0)

"DATA",998.1,4,99,9,0)
<p>
"DATA",998.1,4,99,10,0)

"DATA",998.1,4,99,11,0)
It is freely available as open source under the 
"DATA",998.1,4,99,12,0)
<a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License, Version 2.0</a>:
"DATA",998.1,4,99,13,0)

"DATA",998.1,4,99,14,0)
<ul> 
"DATA",998.1,4,99,15,0)
<li> The FHIR conformance document is available
"DATA",998.1,4,99,16,0)
  <a href="/DSTU1/metadata?_format=json" target="_blank">here</a>
"DATA",998.1,4,99,17,0)
</li>
"DATA",998.1,4,99,18,0)
<li> The complete source may be downloaded 
"DATA",998.1,4,99,19,0)
  <a href="https://github.com/mdgeek/VistA-Serialization-Framework" 
"DATA",998.1,4,99,20,0)
     target="_blank">here.</a>
"DATA",998.1,4,99,21,0)
</li>
"DATA",998.1,4,99,22,0)
<li> A working virtual machine may be built from this
"DATA",998.1,4,99,23,0)
  <a href="https://github.com/mdgeek/VistA-FHIR-CWF"
"DATA",998.1,4,99,24,0)
     target="_blank">source.</a>
"DATA",998.1,4,99,25,0)
</ul>
"DATA",998.1,5,0)
DSTU2^application/json+fhir,application/json,text/json,json^RGSEFHIJ^0.5.0
"DATA",998.1,5,10,0)
^998.11^51^50
"DATA",998.1,5,10,1,0)
Binary
"DATA",998.1,5,10,1,10)
D COMPID^RGSERGET
"DATA",998.1,5,10,2,0)
Binary_8925^1^8925
"DATA",998.1,5,10,2,30,0)
^998.12I^3^3
"DATA",998.1,5,10,2,30,1,0)
@content^^C^10
"DATA",998.1,5,10,2,30,1,10)
D TOBINARY^RGSERDOC(IEN,",""content"":""","""")
"DATA",998.1,5,10,2,30,2,0)
attr:contentType^^N^1
"DATA",998.1,5,10,2,30,2,10)
text/plain
"DATA",998.1,5,10,2,30,3,0)
id^@ienx^R^1
"DATA",998.1,5,10,3,0)
Condition^^9000011
"DATA",998.1,5,10,3,30,0)
^998.12I^9^9
"DATA",998.1,5,10,3,30,1,0)
patient^.02^C^10
"DATA",998.1,5,10,3,30,1,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,5,10,3,30,2,0)
code!start^^C^20
"DATA",998.1,5,10,3,30,2,10)
D NEWOBJ(PN),NEWARY("coding")
"DATA",998.1,5,10,3,30,3,0)
coding^.01^O^20.1
"DATA",998.1,5,10,3,30,3,10)
*/ICD9
"DATA",998.1,5,10,3,30,4,0)
code!end^.05^C^20.2
"DATA",998.1,5,10,3,30,4,10)
D ENDARY("coding"),PUT("text",VL("E")),ENDOBJ(PN)
"DATA",998.1,5,10,3,30,5,0)
category^^N^30
"DATA",998.1,5,10,3,30,6,0)
clinicalStatus^^S^40
"DATA",998.1,5,10,3,30,6,10)
confirmed
"DATA",998.1,5,10,3,30,7,0)
onsetDate^.13^D^50
"DATA",998.1,5,10,3,30,8,0)
abatementDate^1.07^D^60
"DATA",998.1,5,10,3,30,9,0)
id^@id^R^1
"DATA",998.1,5,10,3,40,0)
^998.13I^4^4
"DATA",998.1,5,10,3,40,1,0)
patient^.02^R^10
"DATA",998.1,5,10,3,40,1,20)
S X=$$COHORT(PN,$NA(^AUPNPROB("AC")))
"DATA",998.1,5,10,3,40,2,0)
onset^.13^D^20
"DATA",998.1,5,10,3,40,3,0)
patient:Patient^.02^R^10
"DATA",998.1,5,10,3,40,3,20)
S X=$$COHORT(PN,$NA(^AUPNPROB("AC")))
"DATA",998.1,5,10,3,40,4,0)
_id^@ien^T^30
"DATA",998.1,5,10,4,0)
DocumentReference^^8925
"DATA",998.1,5,10,4,30,0)
^998.12I^26^25
"DATA",998.1,5,10,4,30,1,0)
description^1701^F^140
"DATA",998.1,5,10,4,30,2,0)
type^.01^C^40
"DATA",998.1,5,10,4,30,2,10)
D CODING(PN,"#8925.1",VL("I"),VL("E"))
"DATA",998.1,5,10,4,30,3,0)
subject^.02^C^30
"DATA",998.1,5,10,4,30,3,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,5,10,4,30,4,0)
author^1202^C^60
"DATA",998.1,5,10,4,30,4,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,5,10,4,30,5,0)
contentType!content^^S^200.1
"DATA",998.1,5,10,4,30,5,10)
text/plain
"DATA",998.1,5,10,4,30,6,0)
created^1201^D^100
"DATA",998.1,5,10,4,30,7,0)
context^.07,.08^C^110
"DATA",998.1,5,10,4,30,7,10)
D NEWOBJ(PN),PERIOD(VL("I"),VL(2,"I")),ENDOBJ(PN)
"DATA",998.1,5,10,4,30,9,0)
url!content^@ien^C^200.4
"DATA",998.1,5,10,4,30,9,10)
D PUT(PN,$$HOSTURL^RGNETWWW("*/Binary/8925-"_VL("I")))
"DATA",998.1,5,10,4,30,10,0)
masterIdentifier^@ien^C^10
"DATA",998.1,5,10,4,30,10,10)
D NEWOBJ(PN),PUT("value",$$SYSUUID^RGNETWWW_"/Document/"_VL("I")),ENDOBJ(PN)
"DATA",998.1,5,10,4,30,11,0)
status^.05~.02^C^120
"DATA",998.1,5,10,4,30,11,10)
N X S X=VL("I") D PUT(PN,$S("rd"[X:"entered-in-error",1:"current"))
"DATA",998.1,5,10,4,30,12,0)
id^@id^R^1
"DATA",998.1,5,10,4,30,13,0)
identifier^^N^20
"DATA",998.1,5,10,4,30,14,0)
class^^N^50
"DATA",998.1,5,10,4,30,15,0)
custodian^^N^70
"DATA",998.1,5,10,4,30,16,0)
title!content^^N^200.7
"DATA",998.1,5,10,4,30,17,0)
authenticator^^N^90
"DATA",998.1,5,10,4,30,18,0)
indexed^1201^D^110
"DATA",998.1,5,10,4,30,19,0)
docStatus^^N^130
"DATA",998.1,5,10,4,30,20,0)
confidentiality^^N^150
"DATA",998.1,5,10,4,30,21,0)
language!content^^N^200.2
"DATA",998.1,5,10,4,30,22,0)
format^^N^180
"DATA",998.1,5,10,4,30,23,0)
size!content^^N^200.5
"DATA",998.1,5,10,4,30,24,0)
hash!content^^N^200.6
"DATA",998.1,5,10,4,30,25,0)
content!start^^C^200
"DATA",998.1,5,10,4,30,25,10)
D NEWARY(PN),NEWOBJ(PN)
"DATA",998.1,5,10,4,30,26,0)
content!end^^C^200.9
"DATA",998.1,5,10,4,30,26,10)
D ENDARY(PN)
"DATA",998.1,5,10,4,40,0)
^998.13I^6^6
"DATA",998.1,5,10,4,40,1,0)
subject:Patient^.02^R^10
"DATA",998.1,5,10,4,40,1,20)
S X=$$COHORT(PN,$NA(^TIU(8925,"C")))
"DATA",998.1,5,10,4,40,2,0)
period^1301^D^20
"DATA",998.1,5,10,4,40,3,0)
type^.01^T^30
"DATA",998.1,5,10,4,40,4,0)
author^1202^R^40
"DATA",998.1,5,10,4,40,5,0)
_id^@ien^T^50
"DATA",998.1,5,10,4,40,6,0)
indexed^1301^D^60
"DATA",998.1,5,10,5,0)
Encounter^^9000010
"DATA",998.1,5,10,5,30,0)
^998.12I^10^9
"DATA",998.1,5,10,5,30,1,0)
status^^C^10
"DATA",998.1,5,10,5,30,1,10)
D PUT(PN,$$GETSTAT^RGSERENC(IEN))
"DATA",998.1,5,10,5,30,2,0)
class^.07^C^20
"DATA",998.1,5,10,5,30,2,10)
N X S X=VL("I") D PUT(PN,$S(X="H":"inpatient",X="A":"ambulatory",1:"virtual"))
"DATA",998.1,5,10,5,30,3,0)
subject^.05^C^30
"DATA",998.1,5,10,5,30,3,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,5,10,5,30,4,0)
period^.01,.18^C^70
"DATA",998.1,5,10,5,30,4,10)
D PERIOD(VL("I"),VL(2,"I"))
"DATA",998.1,5,10,5,30,6,0)
location^.01,.18,.22^C^60
"DATA",998.1,5,10,5,30,6,10)
D:VL(3) NEWARY(PN),NEWOBJ,REF2(,"Location",VL(3,"I"),VL(3,"E")),ENDARY(PN)
"DATA",998.1,5,10,5,30,7,0)
identifier!visitid^15001^C^40
"DATA",998.1,5,10,5,30,7,10)
D NEWARY(PN),IDENT("@identifiers/visits",VL("I"),PN(0),"official"),ENDARY(PN)
"DATA",998.1,5,10,5,30,8,0)
type^.07^C^80
"DATA",998.1,5,10,5,30,8,10)
D NEWARY(PN),CODING(PN,"@types/visits",VL("I"),VL("E")),ENDARY(PN)
"DATA",998.1,5,10,5,30,9,0)
participant^^C^90
"DATA",998.1,5,10,5,30,9,10)
D GET^RGSERGET(.RGSER,"*/Encounter_Participant",$NA(^AUPNVPRV("AD",IEN)),PN)
"DATA",998.1,5,10,5,30,10,0)
id^@id^R^1
"DATA",998.1,5,10,5,40,0)
^998.13I^5^4
"DATA",998.1,5,10,5,40,1,0)
patient^.05^R^10
"DATA",998.1,5,10,5,40,1,20)
S X=$$COHORT(PN,$NA(^AUPNVSIT("C")))
"DATA",998.1,5,10,5,40,2,0)
type^.07^T^20
"DATA",998.1,5,10,5,40,3,0)
date^.01,.18^D^20
"DATA",998.1,5,10,5,40,5,0)
_id^@ien^T^30
"DATA",998.1,5,10,6,0)
Encounter_Participant^1^9000010.06
"DATA",998.1,5,10,6,30,0)
^998.12I^3^3
"DATA",998.1,5,10,6,30,1,0)
type^.04^C^10
"DATA",998.1,5,10,6,30,1,10)
D:VL CODING(PN,"http://hl7.org/fhir/v3/ParticipationType",VL("I")_"PRF",VL("E"))
"DATA",998.1,5,10,6,30,2,0)
individual^.01^C^20
"DATA",998.1,5,10,6,30,2,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,5,10,6,30,3,0)
type^.05^C^10.1
"DATA",998.1,5,10,6,30,3,10)
D:VL CODING(PN,"http://hl7.org/fhir/v3/ParticipationType",$S(VL("I")="A":"ATND",1:"PRF"),VL("E"))
"DATA",998.1,5,10,7,0)
ICD9^1^80
"DATA",998.1,5,10,7,30,0)
^998.12I^3^3
"DATA",998.1,5,10,7,30,1,0)
system^^C^20
"DATA",998.1,5,10,7,30,1,10)
D PUT("system","http://hl7.org/fhir/sid/icd-9")
"DATA",998.1,5,10,7,30,2,0)
code^.01^F^30
"DATA",998.1,5,10,7,30,3,0)
display^@ien^C^40
"DATA",998.1,5,10,7,30,3,10)
D PUT(PN,$$VSTD^ICDCODE(IEN))
"DATA",998.1,5,10,8,0)
Location^^44
"DATA",998.1,5,10,8,30,0)
^998.12I^10^10
"DATA",998.1,5,10,8,30,1,0)
name^.01^F^10
"DATA",998.1,5,10,8,30,2,0)
description^10^F^20
"DATA",998.1,5,10,8,30,3,0)
managingOrganization^3^C^30
"DATA",998.1,5,10,8,30,3,10)
D REF(PN,"Organization",.VL)
"DATA",998.1,5,10,8,30,4,0)
telecom!phone:work^99^C^40.1
"DATA",998.1,5,10,8,30,4,10)
D TELECOM
"DATA",998.1,5,10,8,30,5,0)
telecom!start^^C^40
"DATA",998.1,5,10,8,30,5,10)
D NEWARY(PN)
"DATA",998.1,5,10,8,30,6,0)
telecom!end^^C^40.9
"DATA",998.1,5,10,8,30,6,10)
D ENDARY(PN)
"DATA",998.1,5,10,8,30,7,0)
id^@id^R^1
"DATA",998.1,5,10,8,30,8,0)
mode^^S^50
"DATA",998.1,5,10,8,30,8,10)
instance
"DATA",998.1,5,10,8,30,9,0)
type^2,9^C^60
"DATA",998.1,5,10,8,30,9,10)
D CODING(PN,"http://hl7.org/fhir/v3/RoleCode",$$GETTYPE^RGSERLOC($G(VL("I")),$G(VL(2,"I"))))
"DATA",998.1,5,10,8,30,10,0)
status^2505,2506^C^70
"DATA",998.1,5,10,8,30,10,10)
D PUT(PN,$$GETSTAT^RGSERLOC($G(VL("I")),$G(VL(2,"I"))))
"DATA",998.1,5,10,8,40,0)
^998.13I^4^4
"DATA",998.1,5,10,8,40,1,0)
_id^@ien^T^10
"DATA",998.1,5,10,8,40,2,0)
type^2,9^T^10
"DATA",998.1,5,10,8,40,2,10)
S TP="",MATCH=PVAL=$$GETTYPE^RGSERLOC($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,5,10,8,40,3,0)
status^2505,2506^T^20
"DATA",998.1,5,10,8,40,3,10)
S TP="",MATCH=PVAL=$$GETSTAT^RGSERLOC($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,5,10,8,40,4,0)
name^.01^S^30
"DATA",998.1,5,10,9,0)
Observation
"DATA",998.1,5,10,9,20)
D RETRIEVE^RGSEROBS
"DATA",998.1,5,10,9,30,0)
^998.12I^21^18
"DATA",998.1,5,10,9,30,1,0)
issued^issued^D^60
"DATA",998.1,5,10,9,30,2,0)
status^status^F^70
"DATA",998.1,5,10,9,30,3,0)
reliability^reliability^F^80
"DATA",998.1,5,10,9,30,4,0)
subject^patient^C^120
"DATA",998.1,5,10,9,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,5,10,9,30,5,0)
referenceRange^low,high^C^150
"DATA",998.1,5,10,9,30,5,10)
D RANGEJSN^RGSEROBS($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,5,10,9,30,7,0)
comments^comments^F^40
"DATA",998.1,5,10,9,30,8,0)
appliesDateTime^collected^D^50
"DATA",998.1,5,10,9,30,9,0)
identifier^id^C^110
"DATA",998.1,5,10,9,30,9,10)
D IDENT("@observation",VL("I"))
"DATA",998.1,5,10,9,30,10,0)
code^code,code_system^C^10
"DATA",998.1,5,10,9,30,10,10)
D:VL CODING(PN,VL(2,"E"),VL("I"),VL("E"))
"DATA",998.1,5,10,9,30,11,0)
value^value,units^C^20
"DATA",998.1,5,10,9,30,11,10)
D VALUEJSN^RGSEROBS($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,5,10,9,30,12,0)
interpretation^interpretation^C^30
"DATA",998.1,5,10,9,30,12,10)
D:VL NEWOBJ(PN),PUT("text",VL("E")),ENDOBJ(PN)
"DATA",998.1,5,10,9,30,13,0)
bodySite^^N^90
"DATA",998.1,5,10,9,30,14,0)
method^^N^100
"DATA",998.1,5,10,9,30,15,0)
specimen^^N^130
"DATA",998.1,5,10,9,30,16,0)
performer^^N^140
"DATA",998.1,5,10,9,30,19,0)
@id^id^N^1
"DATA",998.1,5,10,9,30,20,0)
related^related^C^160
"DATA",998.1,5,10,9,30,20,10)
D:VL RELJSN^RGSEROBS(VL("I"))
"DATA",998.1,5,10,9,30,21,0)
id^@id^R^1
"DATA",998.1,5,10,9,40,0)
^998.13I^3^3
"DATA",998.1,5,10,9,40,1,0)
subject:Patient^patient^R^10
"DATA",998.1,5,10,9,40,1,20)
S X=$$OBS^RGSEROBS(RGNETREQ("PARAMS","subject:Patient",1,1))
"DATA",998.1,5,10,9,40,2,0)
name^code^T^10
"DATA",998.1,5,10,9,40,3,0)
_id^@id^T^10
"DATA",998.1,5,10,10,0)
Organization^^4
"DATA",998.1,5,10,10,30,0)
^998.12I^6^6
"DATA",998.1,5,10,10,30,1,0)
name^.01^F^20
"DATA",998.1,5,10,10,30,2,0)
active^^S^10
"DATA",998.1,5,10,10,30,2,10)
true
"DATA",998.1,5,10,10,30,3,0)
address^@ien^O^40.1
"DATA",998.1,5,10,10,30,3,10)
*/Organization_Address
"DATA",998.1,5,10,10,30,4,0)
address!start^^C^40
"DATA",998.1,5,10,10,30,4,10)
D NEWARY(PN)
"DATA",998.1,5,10,10,30,5,0)
address!end^^C^40.9
"DATA",998.1,5,10,10,30,5,10)
D ENDARY(PN)
"DATA",998.1,5,10,10,30,6,0)
id^@id^R^1
"DATA",998.1,5,10,11,0)
Organization_Address^1^4
"DATA",998.1,5,10,11,30,0)
^998.12I^6^6
"DATA",998.1,5,10,11,30,1,0)
use^^S^10
"DATA",998.1,5,10,11,30,1,10)
work
"DATA",998.1,5,10,11,30,2,0)
line^1.01^F^20
"DATA",998.1,5,10,11,30,3,0)
line^1.02^F^20.1
"DATA",998.1,5,10,11,30,4,0)
city^1.03^F^50
"DATA",998.1,5,10,11,30,5,0)
state^.02^F^60
"DATA",998.1,5,10,11,30,6,0)
zip^1.04^F^80
"DATA",998.1,5,10,12,0)
Organization_Reference^1^4
"DATA",998.1,5,10,12,30,0)
^998.12I^2^2
"DATA",998.1,5,10,12,30,1,0)
reference^^C^10
"DATA",998.1,5,10,12,30,1,10)
D PUT(PN,"Organization/"_IEN)
"DATA",998.1,5,10,12,30,2,0)
display^.01^F^20
"DATA",998.1,5,10,13,0)
Patient^^2
"DATA",998.1,5,10,13,30,0)
^998.12I^27^26
"DATA",998.1,5,10,13,30,1,0)
name^.01^C^10.1
"DATA",998.1,5,10,13,30,1,10)
D NAME(VL("I"))
"DATA",998.1,5,10,13,30,2,0)
gender^.02^C^20
"DATA",998.1,5,10,13,30,2,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,5,10,13,30,3,0)
birthDate^.03^D^30
"DATA",998.1,5,10,13,30,4,0)
deceasedDateTime^.351^D^50
"DATA",998.1,5,10,13,30,5,0)
identifier!MR,Medical Record #,http://hl7.org/fhir/v2/0203^^C^60.1
"DATA",998.1,5,10,13,30,5,10)
D IDENT("@identifiers/patients",$$HRN^RGSERPAT(IEN),PN(0))
"DATA",998.1,5,10,13,30,6,0)
managingOrganization^^C^80
"DATA",998.1,5,10,13,30,6,10)
D:$G(DUZ(2)) GET^RGSERGET(.RGSER,"*/Organization_Reference",DUZ(2),PN)
"DATA",998.1,5,10,13,30,7,0)
photo^^C^80
"DATA",998.1,5,10,13,30,7,10)
Q:'$L($T(^MAGGTIG))  N X,Y D PHOTOS^MAGGTIG(.X,IEN) F Y=0:0 S Y=$O(X(Y)) Q:'Y  S X=$P(X(Y),U,3) I $E(X,1,4)="http" D NEWOBJ(PN),PUT("contentType","image/"_$P(X,".",$L(X,"."))),PUT("url",X),ENDOBJ(PN)
"DATA",998.1,5,10,13,30,8,0)
telecom!phone:home^.131^C^100.2
"DATA",998.1,5,10,13,30,8,10)
D TELECOM
"DATA",998.1,5,10,13,30,9,0)
telecom!phone:mobile^.134^C^100.3
"DATA",998.1,5,10,13,30,9,10)
D TELECOM
"DATA",998.1,5,10,13,30,10,0)
telecom!phone:work^.132^C^100.4
"DATA",998.1,5,10,13,30,10,10)
D TELECOM
"DATA",998.1,5,10,13,30,11,0)
address^@ien^O^130.1
"DATA",998.1,5,10,13,30,11,10)
*/Patient_Address_Home
"DATA",998.1,5,10,13,30,13,0)
extension!race^2^M^21
"DATA",998.1,5,10,13,30,13,10)
*/Patient_Race
"DATA",998.1,5,10,13,30,14,0)
identifier!SS,Social Security #,http://hl7.org/fhir/v2/020^.09^C^60.2
"DATA",998.1,5,10,13,30,14,10)
D IDENT("http://hl7.org/fhir/sid/us-ssn",VL("E"),PN(0))
"DATA",998.1,5,10,13,30,15,0)
text^^T^1.1
"DATA",998.1,5,10,13,30,15,10)
TEXT
"DATA",998.1,5,10,13,30,16,0)
identifier!start^^C^60
"DATA",998.1,5,10,13,30,16,10)
D NEWARY(PN)
"DATA",998.1,5,10,13,30,17,0)
identifier!end^^C^60.9
"DATA",998.1,5,10,13,30,17,10)
D ENDARY(PN)
"DATA",998.1,5,10,13,30,18,0)
telecom!start^^C^100
"DATA",998.1,5,10,13,30,18,10)
D NEWARY(PN)
"DATA",998.1,5,10,13,30,19,0)
telecom!end^^C^100.9
"DATA",998.1,5,10,13,30,19,10)
D ENDARY(PN)
"DATA",998.1,5,10,13,30,20,0)
address!start^^C^130
"DATA",998.1,5,10,13,30,20,10)
D NEWARY(PN)
"DATA",998.1,5,10,13,30,21,0)
address!end^^C^130.9
"DATA",998.1,5,10,13,30,21,10)
D ENDARY(PN)
"DATA",998.1,5,10,13,30,22,0)
id^@id^R^1
"DATA",998.1,5,10,13,30,23,0)
name!start^^C^10
"DATA",998.1,5,10,13,30,23,10)
D NEWARY(PN)
"DATA",998.1,5,10,13,30,24,0)
name!end^^C^10.9
"DATA",998.1,5,10,13,30,24,10)
D ENDARY(PN)
"DATA",998.1,5,10,13,30,25,0)
maritalStatus^.05^C^140
"DATA",998.1,5,10,13,30,25,10)
I VL N X S X=$$MARITAL^RGSERPAT(VL("E")) D CODING(PN,"http://hl7.org/fhir/v3/MaritalStatus",$P(X,U),$P(X,U,2))
"DATA",998.1,5,10,13,30,26,0)
identifier!ICN,Integration Control #^991.01^C^60
"DATA",998.1,5,10,13,30,26,10)
D IDENT("http://va.gov/sid/icn",$$ICN^RGSERPAT(IEN),PN(0))
"DATA",998.1,5,10,13,30,27,0)
extension^.08^O^22
"DATA",998.1,5,10,13,30,27,10)
*/Patient_Congregation
"DATA",998.1,5,10,13,40,0)
^998.13I^6^6
"DATA",998.1,5,10,13,40,1,0)
_id^@ien^T^10
"DATA",998.1,5,10,13,40,2,0)
family^.01^S^20
"DATA",998.1,5,10,13,40,2,10)
D OPRNAME(VL("E"),1) K PVAL
"DATA",998.1,5,10,13,40,2,20)
S X="$$NAMEITER^RGSERPAT"
"DATA",998.1,5,10,13,40,3,0)
given^.01^S^30
"DATA",998.1,5,10,13,40,3,10)
D OPRNAME(VL("E"),2) K PVAL
"DATA",998.1,5,10,13,40,4,0)
gender^.02^T^40
"DATA",998.1,5,10,13,40,5,0)
birthdate^.03^D^15
"DATA",998.1,5,10,13,40,6,0)
identifier^.09^T^5
"DATA",998.1,5,10,13,40,6,10)
S MATCH=PVAL=$$HRN^RGSERPAT(IEN),PVAL=$TR(PVAL,"-") S:MATCH TP=""
"DATA",998.1,5,10,13,50,0)
^998.15^1^1
"DATA",998.1,5,10,13,50,1,0)
TEXT
"DATA",998.1,5,10,13,50,1,1,0)
^998.151^4^4^3150408^
"DATA",998.1,5,10,13,50,1,1,1,0)
,"text": {
"DATA",998.1,5,10,13,50,1,1,2,0)
"status": "generated",
"DATA",998.1,5,10,13,50,1,1,3,0)
"div": "NAME: |.01|"
"DATA",998.1,5,10,13,50,1,1,4,0)
}
"DATA",998.1,5,10,14,0)
Patient/#/Condition
"DATA",998.1,5,10,14,10)
D COMPRT($NA(^AUPNPROB("AC")))
"DATA",998.1,5,10,15,0)
Patient/#/DocumentReference
"DATA",998.1,5,10,15,10)
D COMPRT($NA(^TIU(8925,"C")))
"DATA",998.1,5,10,16,0)
Patient/#/Encounter
"DATA",998.1,5,10,16,10)
D COMPRT($NA(^AUPNVSIT("C")))
"DATA",998.1,5,10,17,0)
Patient/#/Observation
"DATA",998.1,5,10,17,10)
D COMPRT($$OBS^RGSEROBS($P(PATH,"/",3)),1)
"DATA",998.1,5,10,18,0)
Patient_Address_Home^1^2
"DATA",998.1,5,10,18,30,0)
^998.12I^12^12
"DATA",998.1,5,10,18,30,1,0)
use^^S^10
"DATA",998.1,5,10,18,30,1,10)
home
"DATA",998.1,5,10,18,30,2,0)
line!1^.111^F^20.1
"DATA",998.1,5,10,18,30,3,0)
line!2^.112^F^20.2
"DATA",998.1,5,10,18,30,4,0)
line!3^.113^F^20.3
"DATA",998.1,5,10,18,30,5,0)
city^.114^F^50
"DATA",998.1,5,10,18,30,6,0)
state^.115^F^60
"DATA",998.1,5,10,18,30,7,0)
state!province^.1171^F^60.1
"DATA",998.1,5,10,18,30,8,0)
zip^.116^F^80
"DATA",998.1,5,10,18,30,9,0)
country^.1173^F^90
"DATA",998.1,5,10,18,30,10,0)
line!start^c^C^20
"DATA",998.1,5,10,18,30,10,10)
D NEWARY(PN)
"DATA",998.1,5,10,18,30,11,0)
line!end^^C^20.9
"DATA",998.1,5,10,18,30,11,10)
D ENDARY(PN)
"DATA",998.1,5,10,18,30,12,0)
district^.117,.115^C^55
"DATA",998.1,5,10,18,30,12,10)
D:VL PUT(PN,$$COUNTY^RGSERPAT(VL(2,"I"),VL("I")))
"DATA",998.1,5,10,19,0)
Patient_Race^1^2.02
"DATA",998.1,5,10,19,30,0)
^998.12I^2^2
"DATA",998.1,5,10,19,30,1,0)
valueCodeableConcept^.01^C^10
"DATA",998.1,5,10,19,30,1,10)
D:VL NEWOBJ(PN),PUT("text",VL("E")),ENDOBJ(PN)
"DATA",998.1,5,10,19,30,2,0)
attr:url^^N^1
"DATA",998.1,5,10,19,30,2,10)
http://hl7.org/fhir/StructureDefinition/us-core-race
"DATA",998.1,5,10,20,0)
Practitioner^^200
"DATA",998.1,5,10,20,30,0)
^998.12I^15^15
"DATA",998.1,5,10,20,30,1,0)
name^.01^C^10.1
"DATA",998.1,5,10,20,30,1,10)
D NAME(VL("I"))
"DATA",998.1,5,10,20,30,2,0)
telecom!phone:home^.131^C^20.1
"DATA",998.1,5,10,20,30,2,10)
D TELECOM
"DATA",998.1,5,10,20,30,3,0)
telecom!phone:work^.132^C^20.2
"DATA",998.1,5,10,20,30,3,10)
D TELECOM
"DATA",998.1,5,10,20,30,4,0)
telecom!fax:work^.136^C^20.3
"DATA",998.1,5,10,20,30,4,10)
D TELECOM
"DATA",998.1,5,10,20,30,5,0)
identifier!DEA,Drug Enforcement Administration #,http://hl7.org/fhir/v2/0203^53.2^C^50.1
"DATA",998.1,5,10,20,30,5,10)
D IDENT("http://hl7.org/fhir/sid/us-dea",VL("E"),PN(0),"official")
"DATA",998.1,5,10,20,30,6,0)
gender^4^C^40
"DATA",998.1,5,10,20,30,6,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,5,10,20,30,7,0)
identifier!SS,Social Security #,http://hl7.org/fhir/v2/0203^9^C^50.3
"DATA",998.1,5,10,20,30,7,10)
D IDENT("http://hl7.org/fhir/sid/us-ssn",VL("E"),PN(0))
"DATA",998.1,5,10,20,30,8,0)
identifier!NPI,National Provider Identifier,http://hl7.org/fhir/v2/0203^41.99^C^50.2
"DATA",998.1,5,10,20,30,8,10)
D IDENT("http://hl7.org/fhir/sid/us-npi",VL("E"),PN(0))
"DATA",998.1,5,10,20,30,9,0)
identifier!start^^C^50
"DATA",998.1,5,10,20,30,9,10)
D NEWARY(PN)
"DATA",998.1,5,10,20,30,10,0)
identifier!end^^C^50.9
"DATA",998.1,5,10,20,30,10,10)
D ENDARY(PN)
"DATA",998.1,5,10,20,30,11,0)
telecom!start^^C^20
"DATA",998.1,5,10,20,30,11,10)
D NEWARY(PN)
"DATA",998.1,5,10,20,30,12,0)
telecom!end^^C^20.9
"DATA",998.1,5,10,20,30,12,10)
D ENDARY(PN)
"DATA",998.1,5,10,20,30,13,0)
id^@id^R^1
"DATA",998.1,5,10,20,30,14,0)
name!start^^C^10
"DATA",998.1,5,10,20,30,14,10)
D NEWARY(PN)
"DATA",998.1,5,10,20,30,15,0)
name!end^^C^10.9
"DATA",998.1,5,10,20,30,15,10)
D ENDARY(PN)
"DATA",998.1,5,10,20,40,0)
^998.13I^3^3
"DATA",998.1,5,10,20,40,1,0)
family^.01^S^20
"DATA",998.1,5,10,20,40,1,10)
D OPRNAME(VL("E"),1) K PVAL
"DATA",998.1,5,10,20,40,1,20)
S X="$$NAMEITER^RGSERPER"
"DATA",998.1,5,10,20,40,2,0)
given^.01^S^30
"DATA",998.1,5,10,20,40,2,10)
D OPRNAME(VL("E"),2) K PVAL
"DATA",998.1,5,10,20,40,3,0)
_id^@ien^T^40
"DATA",998.1,5,10,21,0)
User^^200
"DATA",998.1,5,10,21,30,0)
^998.12I^8^8
"DATA",998.1,5,10,21,30,1,0)
name^.01^C^10.1
"DATA",998.1,5,10,21,30,1,10)
D NAME(VL("I"))
"DATA",998.1,5,10,21,30,2,0)
birthDate^5^D^20
"DATA",998.1,5,10,21,30,3,0)
extension!organization^^T^30
"DATA",998.1,5,10,21,30,3,10)
ORGANIZATION
"DATA",998.1,5,10,21,30,4,0)
telecom!phone:work^.132^C^40
"DATA",998.1,5,10,21,30,4,10)
D TELECOM
"DATA",998.1,5,10,21,30,5,0)
telecom!phone:home^.131^C^50
"DATA",998.1,5,10,21,30,5,10)
D TELECOM
"DATA",998.1,5,10,21,30,6,0)
telecom!fax:work^.136^C^60
"DATA",998.1,5,10,21,30,6,10)
D TELECOM
"DATA",998.1,5,10,21,30,7,0)
name!start^^C^10
"DATA",998.1,5,10,21,30,7,10)
D NEWARY(PN)
"DATA",998.1,5,10,21,30,8,0)
name!end^^C^10.9
"DATA",998.1,5,10,21,30,8,10)
D ENDARY(PN)
"DATA",998.1,5,10,21,40,0)
^998.13I^1^1
"DATA",998.1,5,10,21,40,1,0)
_id^@ien^T^10
"DATA",998.1,5,10,21,50,0)
^998.15^1^1
"DATA",998.1,5,10,21,50,1,0)
ORGANIZATION
"DATA",998.1,5,10,21,50,1,1,0)
^^8^8^3150321.115125
"DATA",998.1,5,10,21,50,1,1,1,0)
,"extension": [
"DATA",998.1,5,10,21,50,1,1,2,0)
  { "url": "http://www.carewebframework.org/fhir/extension/user/organization",
"DATA",998.1,5,10,21,50,1,1,3,0)
    "valueResource": {
"DATA",998.1,5,10,21,50,1,1,4,0)
      "reference": "Organization/|@DUZ(2)|",
"DATA",998.1,5,10,21,50,1,1,5,0)
      "display": "|@$P(^DIC(4,DUZ(2),0),U)|"
"DATA",998.1,5,10,21,50,1,1,6,0)
    }
"DATA",998.1,5,10,21,50,1,1,7,0)
  }
"DATA",998.1,5,10,21,50,1,1,8,0)
]
"DATA",998.1,5,10,22,0)
ValueSet^^998.11
"DATA",998.1,5,10,22,20)
S IENS=IENS_RGSER("SER")_","
"DATA",998.1,5,10,22,30,0)
^998.12I^6^6
"DATA",998.1,5,10,22,30,1,0)
codeSystem^.01^C^100
"DATA",998.1,5,10,22,30,1,10)
D NEWOBJ(PN),PUT("system",$$SYSTEM^RGSER("@"_VL("E"))),GET^RGSERGET(.RGSER,"*/"_VL("E"),,"concept"),ENDOBJ(PN)
"DATA",998.1,5,10,22,30,2,0)
identifier^.01^C^10
"DATA",998.1,5,10,22,30,2,10)
D IDENT($$SYSTEM^RGSER("@vs/"_$P(VL("E"),"_",2,99)),"encounter-type")
"DATA",998.1,5,10,22,30,3,0)
name^.01^C^20
"DATA",998.1,5,10,22,30,3,10)
D PUT(PN,$P(VL("E"),"_",2,99))
"DATA",998.1,5,10,22,30,4,0)
description^99^F^30
"DATA",998.1,5,10,22,30,5,0)
status^^S^40
"DATA",998.1,5,10,22,30,5,10)
active
"DATA",998.1,5,10,22,30,6,0)
id^@id^R^1
"DATA",998.1,5,10,22,40,0)
^998.13I^3^3
"DATA",998.1,5,10,22,40,1,0)
_id^@ien^T^1
"DATA",998.1,5,10,22,40,2,0)
name^.01^S^10
"DATA",998.1,5,10,22,40,2,10)
S PVAL=$S(PVAL("OPR")="s":"VALUESET_",1:"ValueSet_")_PVAL
"DATA",998.1,5,10,22,40,3,0)
@selector^.01^T^1
"DATA",998.1,5,10,22,40,3,10)
S MATCH="ValueSet_"=$E(VL("E"),1,9)
"DATA",998.1,5,10,22,40,3,20)
S X="$$ITERVS^RGSEFHIR"
"DATA",998.1,5,10,23,0)
ValueSet_DocumentType^1^8925.1
"DATA",998.1,5,10,23,30,0)
^998.12I^2^2
"DATA",998.1,5,10,23,30,1,0)
code^@ien^R^20
"DATA",998.1,5,10,23,30,2,0)
display^.01^F^30
"DATA",998.1,5,10,23,99)
List of document categories by which documents may be classified.
"DATA",998.1,5,10,24,0)
ValueSet_EncounterType^1
"DATA",998.1,5,10,24,10)
K XSER D GETTYPES^RGSERENC
"DATA",998.1,5,10,24,20)
D RETRIEVE^RGSERENC(IEN)
"DATA",998.1,5,10,24,30,0)
^998.12I^3^3
"DATA",998.1,5,10,24,30,1,0)
display^2^R^20
"DATA",998.1,5,10,24,30,2,0)
code^1^R^30
"DATA",998.1,5,10,24,30,3,0)
definition^3^R^40
"DATA",998.1,5,10,24,99)
List of recognized encounter types (service codes).
"DATA",998.1,5,10,25,0)
Medication^^50
"DATA",998.1,5,10,25,30,0)
^998.12I^8^8
"DATA",998.1,5,10,25,30,1,0)
name^.01^F^10
"DATA",998.1,5,10,25,30,2,0)
code!start^^C^20
"DATA",998.1,5,10,25,30,2,10)
D NEWARY(PN)
"DATA",998.1,5,10,25,30,3,0)
code!end^^C^20.9
"DATA",998.1,5,10,25,30,3,10)
D ENDARY(PN)
"DATA",998.1,5,10,25,30,4,0)
coding!ndc^31^C^20.1
"DATA",998.1,5,10,25,30,4,10)
D:VL CODING(,"http://www.fda.gov/ndc",VL("E"))
"DATA",998.1,5,10,25,30,5,0)
product!start^^C^30
"DATA",998.1,5,10,25,30,5,10)
D NEWOBJ(PN)
"DATA",998.1,5,10,25,30,6,0)
product!end^^C^30.9
"DATA",998.1,5,10,25,30,6,10)
D ENDOBJ(PN)
"DATA",998.1,5,10,25,30,7,0)
form^14.5^C^30.1
"DATA",998.1,5,10,25,30,7,10)
D:VL CODING(PN,"dispense_unit",,VL("E"))
"DATA",998.1,5,10,25,30,8,0)
id^@id^R^1
"DATA",998.1,5,10,25,40,0)
^998.13I^3^3
"DATA",998.1,5,10,25,40,1,0)
code^31^T^10
"DATA",998.1,5,10,25,40,2,0)
name^.01^S^20
"DATA",998.1,5,10,25,40,3,0)
_id^@ien^T^30
"DATA",998.1,5,10,26,0)
MedicationPrescription^^52
"DATA",998.1,5,10,26,30,0)
^998.12I^9^9
"DATA",998.1,5,10,26,30,1,0)
patient^2^C^40
"DATA",998.1,5,10,26,30,1,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,5,10,26,30,2,0)
prescriber^4^C^50
"DATA",998.1,5,10,26,30,2,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,5,10,26,30,3,0)
medication^6^C^80
"DATA",998.1,5,10,26,30,3,10)
D REF(PN,"Medication",.VL)
"DATA",998.1,5,10,26,30,4,0)
dateWritten^1^D^20
"DATA",998.1,5,10,26,30,5,0)
dosageInstruction!start^^C^90
"DATA",998.1,5,10,26,30,5,10)
D NEWARY(PN)
"DATA",998.1,5,10,26,30,6,0)
dosageInstruction!end^^C^90.9
"DATA",998.1,5,10,26,30,6,10)
D ENDARY(PN)
"DATA",998.1,5,10,26,30,7,0)
@text^10.2^M^90.001
"DATA",998.1,5,10,26,30,7,10)
*/MedicationPrescription_Sig
"DATA",998.1,5,10,26,30,8,0)
@dosing^113^M^90.002
"DATA",998.1,5,10,26,30,8,10)
*/MedicationPrescription_Dosing
"DATA",998.1,5,10,26,30,9,0)
id^@id^R^1
"DATA",998.1,5,10,26,40,0)
^998.13I^3^3
"DATA",998.1,5,10,26,40,1,0)
patient^2^R^10
"DATA",998.1,5,10,26,40,1,20)
S X=$$COHORT(PN,$NA(^PS(55,"*","P","A")),1)
"DATA",998.1,5,10,26,40,2,0)
_id^@ien^T^20
"DATA",998.1,5,10,26,40,3,0)
patient:Patient^2^R^10
"DATA",998.1,5,10,26,40,3,20)
S X=$$COHORT(PN,$NA(^PS(55,"*","P","A")),1)
"DATA",998.1,5,10,27,0)
MedicationPrescription_Sig^1^52.04
"DATA",998.1,5,10,27,30,0)
^998.12I^1^1
"DATA",998.1,5,10,27,30,1,0)
text^.01^F^10
"DATA",998.1,5,10,28,0)
MedicationPrescription_Dosing^1^52.0113
"DATA",998.1,5,10,28,30,0)
^998.12I^1^1
"DATA",998.1,5,10,28,30,1,0)
route^6^C^10
"DATA",998.1,5,10,28,30,1,10)
D:VL CODING(PN,"@medication_route",VL("E"))
"DATA",998.1,5,10,29,0)
Patient/#/MedicationPrescription
"DATA",998.1,5,10,29,10)
D COMPRT($$COHORT2($P(PATH,"/",3),$NA(^PS(55,"*","P","A")),1),1)
"DATA",998.1,5,10,30,0)
AdverseReaction^^120.8
"DATA",998.1,5,10,30,30,0)
^998.12I^10^8
"DATA",998.1,5,10,30,30,1,0)
identifier^^N^10
"DATA",998.1,5,10,30,30,2,0)
date^4^D^20
"DATA",998.1,5,10,30,30,3,0)
subject^.01^C^30
"DATA",998.1,5,10,30,30,3,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,5,10,30,30,4,0)
didNotOccurFlag^^S^40
"DATA",998.1,5,10,30,30,4,10)
false
"DATA",998.1,5,10,30,30,5,0)
recorder^5^C^50
"DATA",998.1,5,10,30,30,5,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,5,10,30,30,6,0)
symptom^10^M^60
"DATA",998.1,5,10,30,30,6,10)
*/AdverseReaction_Symptom
"DATA",998.1,5,10,30,30,9,0)
exposure^1,.02^C^70.2
"DATA",998.1,5,10,30,30,9,10)
S:'VL VL("E")=VL(2,"E") S VL("I")=$$VP2ID(VL("I")) D NEWARY(PN),REF("substance","Substance",.VL),ENDARY(PN)
"DATA",998.1,5,10,30,30,10,0)
id^@id^R^1
"DATA",998.1,5,10,30,40,0)
^998.13I^3^3
"DATA",998.1,5,10,30,40,1,0)
subject^.01^R^10
"DATA",998.1,5,10,30,40,1,20)
S X=$$COHORT(PN,$NA(^GMR(120.8,"B")))
"DATA",998.1,5,10,30,40,2,0)
subject:Patient^.01^R^10
"DATA",998.1,5,10,30,40,2,20)
S X=$$COHORT(PN,$NA(^GMR(120.8,"B")))
"DATA",998.1,5,10,30,40,3,0)
_id^@ien^T^20
"DATA",998.1,5,10,31,0)
AdverseReaction_Symptom^1^120.81
"DATA",998.1,5,10,31,30,0)
^998.12I^2^2
"DATA",998.1,5,10,31,30,1,0)
code^.01^C^10
"DATA",998.1,5,10,31,30,1,10)
D CODING(PN,"#120.83",VL("I"),VL("E"))
"DATA",998.1,5,10,31,30,2,0)
severity^^N^20
"DATA",998.1,5,10,32,0)
AdverseReaction_Ingredient^1^120.802
"DATA",998.1,5,10,32,30,0)
^998.12I^4^4
"DATA",998.1,5,10,32,30,1,0)
date^^D^10
"DATA",998.1,5,10,32,30,2,0)
type^^S^20
"DATA",998.1,5,10,32,30,2,10)
drugadmin
"DATA",998.1,5,10,32,30,3,0)
causalityExpectation^^N^30
"DATA",998.1,5,10,32,30,4,0)
substance^.01^C^40
"DATA",998.1,5,10,32,30,4,10)
D REF(PN,"Substance",.VL,"50.416:")
"DATA",998.1,5,10,33,0)
AdverseReaction_Class^1^120.803
"DATA",998.1,5,10,33,30,0)
^998.12I^4^4
"DATA",998.1,5,10,33,30,1,0)
date^^D^10
"DATA",998.1,5,10,33,30,2,0)
type^^S^20
"DATA",998.1,5,10,33,30,2,10)
drugadmin
"DATA",998.1,5,10,33,30,3,0)
causalityExpectation^^N^30
"DATA",998.1,5,10,33,30,4,0)
substance^.01^C^40
"DATA",998.1,5,10,33,30,4,10)
D REF(PN,"Substance",.VL,"50.605:")
"DATA",998.1,5,10,34,0)
Substance
"DATA",998.1,5,10,34,10)
D COMPID^RGSERGET
"DATA",998.1,5,10,34,30,0)
^998.12I^1^1
"DATA",998.1,5,10,34,30,1,0)
id^@id^R^1
"DATA",998.1,5,10,35,0)
Patient/#/AdverseReaction
"DATA",998.1,5,10,35,10)
D COMPRT($NA(^GMR(120.8,"B")))
"DATA",998.1,5,10,36,0)
Substance_50^1^50
"DATA",998.1,5,10,36,30,0)
^998.12I^4^4
"DATA",998.1,5,10,36,30,1,0)
type^.01^C^10
"DATA",998.1,5,10,36,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,5,10,36,30,2,0)
description^^W^20
"DATA",998.1,5,10,36,30,3,0)
instance^^N^30
"DATA",998.1,5,10,36,30,4,0)
ingredient^^N^40
"DATA",998.1,5,10,37,0)
Substance_50.416^1^50.416
"DATA",998.1,5,10,37,30,0)
^998.12I^4^4
"DATA",998.1,5,10,37,30,1,0)
type^.01^C^10
"DATA",998.1,5,10,37,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,5,10,37,30,2,0)
description^^W^20
"DATA",998.1,5,10,37,30,3,0)
instance^^N^30
"DATA",998.1,5,10,37,30,4,0)
ingredient^^N^40
"DATA",998.1,5,10,38,0)
Substance_50.6^1^50.6
"DATA",998.1,5,10,38,30,0)
^998.12I^4^4
"DATA",998.1,5,10,38,30,1,0)
type^.01^C^10
"DATA",998.1,5,10,38,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,5,10,38,30,2,0)
description^^W^20
"DATA",998.1,5,10,38,30,3,0)
instance^^N^30
"DATA",998.1,5,10,38,30,4,0)
ingredient^^N^40
"DATA",998.1,5,10,39,0)
Substance_50.605^1^50.605
"DATA",998.1,5,10,39,30,0)
^998.12I^4^4
"DATA",998.1,5,10,39,30,1,0)
type^.01^C^10
"DATA",998.1,5,10,39,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,5,10,39,30,2,0)
description^^W^20
"DATA",998.1,5,10,39,30,3,0)
instance^^N^30
"DATA",998.1,5,10,39,30,4,0)
ingredient^^N^40
"DATA",998.1,5,10,40,0)
Substance_120.82^1^120.82
"DATA",998.1,5,10,40,30,0)
^998.12I^4^4
"DATA",998.1,5,10,40,30,1,0)
type^.01^C^10
"DATA",998.1,5,10,40,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,5,10,40,30,2,0)
description^^W^20
"DATA",998.1,5,10,40,30,3,0)
instance^^N^30
"DATA",998.1,5,10,40,30,4,0)
ingredient^^N^40
"DATA",998.1,5,10,41,0)
Immunization^^9000010.11
"DATA",998.1,5,10,41,30,0)
^998.12I^19^19
"DATA",998.1,5,10,41,30,1,0)
identifier^^N^10
"DATA",998.1,5,10,41,30,2,0)
date^1201,.03~.01^C^20
"DATA",998.1,5,10,41,30,2,10)
D PUTDT(PN,$S(VL:VL("I"),1:VL(2,"I")))
"DATA",998.1,5,10,41,30,3,0)
vaccineType^.01^C^30
"DATA",998.1,5,10,41,30,3,10)
D CODING(PN,"#9999999.14",VL("I"),VL("E"))
"DATA",998.1,5,10,41,30,4,0)
patient^.02^C^40
"DATA",998.1,5,10,41,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,5,10,41,30,5,0)
wasNotGiven^^B^50
"DATA",998.1,5,10,41,30,6,0)
reported^^B^60
"DATA",998.1,5,10,41,30,7,0)
performer^1204^C^70
"DATA",998.1,5,10,41,30,7,10)
D:VL REF(PN,"Practitioner",.VL)
"DATA",998.1,5,10,41,30,8,0)
requester^1202^C^80
"DATA",998.1,5,10,41,30,8,10)
D:VL REF(PN,"Practitioner",.VL)
"DATA",998.1,5,10,41,30,9,0)
manufacturer^^N^90
"DATA",998.1,5,10,41,30,10,0)
location^.03~.22^C^100
"DATA",998.1,5,10,41,30,10,10)
D REF(PN,"Location",.VL)
"DATA",998.1,5,10,41,30,11,0)
lotNumber^^N^110
"DATA",998.1,5,10,41,30,12,0)
expirationDate^^D^120
"DATA",998.1,5,10,41,30,13,0)
site^^N^130
"DATA",998.1,5,10,41,30,14,0)
route^^N^140
"DATA",998.1,5,10,41,30,15,0)
doseQuantity^^N^150
"DATA",998.1,5,10,41,30,16,0)
explanation^^N^160
"DATA",998.1,5,10,41,30,17,0)
reaction^^N^170
"DATA",998.1,5,10,41,30,18,0)
vaccinationProtocol^^N^180
"DATA",998.1,5,10,41,30,19,0)
id^@id^R^1
"DATA",998.1,5,10,41,40,0)
^998.13I^3^3
"DATA",998.1,5,10,41,40,1,0)
patient^.02^R^10
"DATA",998.1,5,10,41,40,1,20)
S X=$$COHORT(PN,$NA(^AUPNVIMM("C")))
"DATA",998.1,5,10,41,40,2,0)
patient:Patient^.02^R^10
"DATA",998.1,5,10,41,40,2,20)
S X=$$COHORT(PN,$NA(^AUPNVIMM("C")))
"DATA",998.1,5,10,41,40,3,0)
_id^@ien^T^30
"DATA",998.1,5,10,42,0)
Patient/#/Immunization
"DATA",998.1,5,10,42,10)
D COMPRT($NA(^AUPNVIMM("C")))
"DATA",998.1,5,10,43,0)
Flag^^26.13
"DATA",998.1,5,10,43,30,0)
^998.12I^7^7
"DATA",998.1,5,10,43,30,1,0)
identifier^^N^10
"DATA",998.1,5,10,43,30,2,0)
category^.02^C^20
"DATA",998.1,5,10,43,30,2,10)
D CODING(PN,"#26.13",$$VP2ID(VL("I")),VL("E"))
"DATA",998.1,5,10,43,30,3,0)
status^.03^C^30
"DATA",998.1,5,10,43,30,3,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,5,10,43,30,4,0)
patient^.01^C^40
"DATA",998.1,5,10,43,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,5,10,43,30,5,0)
author^^N^50
"DATA",998.1,5,10,43,30,6,0)
code.text^1^W^60
"DATA",998.1,5,10,43,30,6,10)
  
"DATA",998.1,5,10,43,30,7,0)
id^@id^R^1
"DATA",998.1,5,10,43,40,0)
^998.13I^3^3
"DATA",998.1,5,10,43,40,1,0)
_id^@ien^T^10
"DATA",998.1,5,10,43,40,2,0)
patient^.01^R^20
"DATA",998.1,5,10,43,40,2,20)
S X=$NA(^DGPF(26.13,"B",RGNETREQ("PARAMS",PN,1,1)))
"DATA",998.1,5,10,43,40,3,0)
patient:Patient^.01^R^20
"DATA",998.1,5,10,43,40,3,20)
S X=$NA(^DGPF(26.13,"B",RGNETREQ("PARAMS",PN,1,1)))
"DATA",998.1,5,10,44,0)
Patient/#/Alert
"DATA",998.1,5,10,44,10)
D COMPRT($NA(^DGPF(26.13,"B")))
"DATA",998.1,5,10,45,0)
metadata
"DATA",998.1,5,10,45,10)
D TEMPLATE^RGSERGET("CONFORMANCE")
"DATA",998.1,5,10,45,50,0)
^998.15^3^3
"DATA",998.1,5,10,45,50,1,0)
CONFORMANCE
"DATA",998.1,5,10,45,50,1,1,0)
^^35^35^3150327.004518
"DATA",998.1,5,10,45,50,1,1,1,0)
{
"DATA",998.1,5,10,45,50,1,1,2,0)
  "resourceType": "Conformance",
"DATA",998.1,5,10,45,50,1,1,3,0)
  "text": {
"DATA",998.1,5,10,45,50,1,1,4,0)
    "status": "generated"
"DATA",998.1,5,10,45,50,1,1,5,0)
  },
"DATA",998.1,5,10,45,50,1,1,6,0)
  "publisher": "|@$P($$SITE^VASITE,U,2)|",
"DATA",998.1,5,10,45,50,1,1,7,0)
  "date": "|@$$FMTDATE^RGSER|",
"DATA",998.1,5,10,45,50,1,1,8,0)
  "software": {
"DATA",998.1,5,10,45,50,1,1,9,0)
    "name": "VistA Serialization Framework",
"DATA",998.1,5,10,45,50,1,1,10,0)
    "version": "|@$$VERSION^XPDUTL("RGSE")|"
"DATA",998.1,5,10,45,50,1,1,11,0)
  },
"DATA",998.1,5,10,45,50,1,1,12,0)
  "implementation": {
"DATA",998.1,5,10,45,50,1,1,13,0)
    "description": "VistA (|@RGSER("SERNM")|)"
"DATA",998.1,5,10,45,50,1,1,14,0)
  },
"DATA",998.1,5,10,45,50,1,1,15,0)
  "fhirVersion": "|@RGSER("VER")|",
"DATA",998.1,5,10,45,50,1,1,16,0)
  "acceptUnknown": "false",
"DATA",998.1,5,10,45,50,1,1,17,0)
  "format": "application/json+fhir",
"DATA",998.1,5,10,45,50,1,1,18,0)
  "rest": {
"DATA",998.1,5,10,45,50,1,1,19,0)
    "mode": "server",
"DATA",998.1,5,10,45,50,1,1,20,0)
    "security": {
"DATA",998.1,5,10,45,50,1,1,21,0)
      "extension": [
"DATA",998.1,5,10,45,50,1,1,22,0)
        {
"DATA",998.1,5,10,45,50,1,1,23,0)
          "url": "http://fhir-registry.smarthealthit.org/Profile/oauth-uris#authorize",
"DATA",998.1,5,10,45,50,1,1,24,0)
          "valueUri": "|@$$HOSTURL^RGNETWWW("oauth2/authorize")|"
"DATA",998.1,5,10,45,50,1,1,25,0)
        },
"DATA",998.1,5,10,45,50,1,1,26,0)
        {
"DATA",998.1,5,10,45,50,1,1,27,0)
          "url": "http://fhir-registry.smarthealthit.org/Profile/oauth-uris#token",
"DATA",998.1,5,10,45,50,1,1,28,0)
          "valueUri": "|@$$HOSTURL^RGNETWWW("oauth2/token")|"
"DATA",998.1,5,10,45,50,1,1,29,0)
        }
"DATA",998.1,5,10,45,50,1,1,30,0)
      ]
"DATA",998.1,5,10,45,50,1,1,31,0)
    },
"DATA",998.1,5,10,45,50,1,1,32,0)
    "resource": [
"DATA",998.1,5,10,45,50,1,1,33,0)
|#$$RESCONF^RGSEFHIR|]
"DATA",998.1,5,10,45,50,1,1,34,0)
  }
"DATA",998.1,5,10,45,50,1,1,35,0)
}
"DATA",998.1,5,10,45,50,2,0)
CONFORMANCE_RESOURCE
"DATA",998.1,5,10,45,50,2,1,0)
^^8^8^3150521.164212
"DATA",998.1,5,10,45,50,2,1,1,0)
    |#$S(RESNUM:",",1:"")| {
"DATA",998.1,5,10,45,50,2,1,2,0)
      "type": "|@RESNAME|",
"DATA",998.1,5,10,45,50,2,1,3,0)
      "interaction": {
"DATA",998.1,5,10,45,50,2,1,4,0)
        "code": "read"
"DATA",998.1,5,10,45,50,2,1,5,0)
      },
"DATA",998.1,5,10,45,50,2,1,6,0)
      "searchParam": [
"DATA",998.1,5,10,45,50,2,1,7,0)
|#$$SRPCONF^RGSEFHIR|]
"DATA",998.1,5,10,45,50,2,1,8,0)
    }
"DATA",998.1,5,10,45,50,3,0)
CONFORMANCE_PARAMETER
"DATA",998.1,5,10,45,50,3,1,0)
^^4^4^3150320.095235
"DATA",998.1,5,10,45,50,3,1,1,0)
        |#$S(SRPNUM:",",1:"")| {
"DATA",998.1,5,10,45,50,3,1,2,0)
          "name": "|@SRPNAME|",
"DATA",998.1,5,10,45,50,3,1,3,0)
          "type": "|@SRPTYPE|"
"DATA",998.1,5,10,45,50,3,1,4,0)
        }
"DATA",998.1,5,10,46,0)
Order^^100
"DATA",998.1,5,10,46,30,0)
^998.12I^9^9
"DATA",998.1,5,10,46,30,1,0)
identifier^^N^10
"DATA",998.1,5,10,46,30,2,0)
date^4^D^20
"DATA",998.1,5,10,46,30,3,0)
subject^.02^C^30
"DATA",998.1,5,10,46,30,3,10)
D:VL("I")["DPT" REF2(PN,"Patient",+VL("I"),VL("E"))
"DATA",998.1,5,10,46,30,4,0)
source^1^C^40
"DATA",998.1,5,10,46,30,4,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,5,10,46,30,5,0)
target^^N^50
"DATA",998.1,5,10,46,30,6,0)
reason^^N^60
"DATA",998.1,5,10,46,30,7,0)
authority^^N^70
"DATA",998.1,5,10,46,30,8,0)
when^^N^80
"DATA",998.1,5,10,46,30,9,0)
detail:.reference^@ien^C^90
"DATA",998.1,5,10,46,30,9,10)
D PUT(PN,"DiagnosticOrder/"_VL("I"))
"DATA",998.1,5,10,47,0)
OperationOutcome^^.84
"DATA",998.1,5,10,47,20)

"DATA",998.1,5,10,47,21)
K:$G(VALS(FILE,IENS,"1.2~1","E"))'="RGSE" VALS
"DATA",998.1,5,10,47,30,0)
^998.12I^9^9
"DATA",998.1,5,10,47,30,1,0)
issue!start^^C^10
"DATA",998.1,5,10,47,30,1,10)
D NEWARY(PN),NEWOBJ(PN)
"DATA",998.1,5,10,47,30,2,0)
issue!end^^C^10.9
"DATA",998.1,5,10,47,30,2,10)
D ENDARY(PN)
"DATA",998.1,5,10,47,30,3,0)
severity^1^C^10.1
"DATA",998.1,5,10,47,30,3,10)
D PUT(PN,$S($G(VL("I"))=1:"error",1:"information"))
"DATA",998.1,5,10,47,30,4,0)
code^1.3^C^10.2
"DATA",998.1,5,10,47,30,4,10)
D CODING(PN,"http://hl7.org/fhir/issue-type",$P(VL("E"),":",2),$P(VL("E"),":",3))
"DATA",998.1,5,10,47,30,5,0)
details^2^W^10.3
"DATA",998.1,5,10,47,30,5,10)
%20
"DATA",998.1,5,10,47,30,6,0)
location^^N^10.4
"DATA",998.1,5,10,47,30,6,10)

"DATA",998.1,5,10,47,30,7,0)
text^4^T^5
"DATA",998.1,5,10,47,30,7,10)
TEXT
"DATA",998.1,5,10,47,30,8,0)
@package^1.2~1^N^1
"DATA",998.1,5,10,47,30,9,0)
id^@id^R^1
"DATA",998.1,5,10,47,40,0)
^998.13I^2^2
"DATA",998.1,5,10,47,40,1,0)
_id^@ien^T^10
"DATA",998.1,5,10,47,40,2,0)
@selector^^T^1
"DATA",998.1,5,10,47,40,2,20)
S X=$NA(^DI(.84,"C",$$LKPKG^XPDUTL("RGSE")))
"DATA",998.1,5,10,47,50,0)
^998.15^1^1
"DATA",998.1,5,10,47,50,1,0)
TEXT
"DATA",998.1,5,10,47,50,1,1,0)
^998.151^10^10^3150420^
"DATA",998.1,5,10,47,50,1,1,1,0)
,"text": {
"DATA",998.1,5,10,47,50,1,1,2,0)
"status": "generated",
"DATA",998.1,5,10,47,50,1,1,3,0)
"div": "<div>
"DATA",998.1,5,10,47,50,1,1,4,0)
<table style='margin:5px;border:1px solid black'>
"DATA",998.1,5,10,47,50,1,1,5,0)
<tr style='background:lightgray'><td><h1>Operation Outcome (|\@ien|)</h1></td></tr>
"DATA",998.1,5,10,47,50,1,1,6,0)
<tr><td style='border-bottom:1px solid black'><pre>|4,W|</pre></td></tr>
"DATA",998.1,5,10,47,50,1,1,7,0)
<tr><td><pre>|2,W|</pre></td></tr>
"DATA",998.1,5,10,47,50,1,1,8,0)
</table>
"DATA",998.1,5,10,47,50,1,1,9,0)
</div>"
"DATA",998.1,5,10,47,50,1,1,10,0)
} 
"DATA",998.1,5,10,48,0)
Person^^200
"DATA",998.1,5,10,48,30,0)
^998.12I^16^16
"DATA",998.1,5,10,48,30,1,0)
id^@id^R^1
"DATA",998.1,5,10,48,30,2,0)
active^7^C^90
"DATA",998.1,5,10,48,30,2,10)
D PUTBL^RGSEJSON(PN,'VL("I"))
"DATA",998.1,5,10,48,30,3,0)
address^@ien^O^60
"DATA",998.1,5,10,48,30,3,10)
*/Person_Address
"DATA",998.1,5,10,48,30,4,0)
birthDate^5^D^50
"DATA",998.1,5,10,48,30,5,0)
gender^4^C^40
"DATA",998.1,5,10,48,30,5,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,5,10,48,30,6,0)
identifier^^N^10
"DATA",998.1,5,10,48,30,7,0)
link^^N^90
"DATA",998.1,5,10,48,30,8,0)
managingOrganization^^C^80
"DATA",998.1,5,10,48,30,8,10)
D REF2(PN,"Organization",DUZ(2),$P(^DIC(4,DUZ(2),0),U))
"DATA",998.1,5,10,48,30,9,0)
name^.01^C^20.1
"DATA",998.1,5,10,48,30,9,10)
D NAME(VL("I"))
"DATA",998.1,5,10,48,30,10,0)
name!nickname^13^C^20.2
"DATA",998.1,5,10,48,30,10,10)
D:VL NAME(","_VL("I"),PN(0))
"DATA",998.1,5,10,48,30,11,0)
photo^^N^70
"DATA",998.1,5,10,48,30,12,0)
telecom!phone:work^.132^C^30
"DATA",998.1,5,10,48,30,12,10)
D TELECOM
"DATA",998.1,5,10,48,30,13,0)
telecom!phone:home^.131^C^30.1
"DATA",998.1,5,10,48,30,13,10)
D TELECOM
"DATA",998.1,5,10,48,30,14,0)
telecom!fax:work^.136^C^30.2
"DATA",998.1,5,10,48,30,14,10)
D TELECOM
"DATA",998.1,5,10,48,30,15,0)
name!start^^C^20
"DATA",998.1,5,10,48,30,15,10)
D NEWARY(PN)
"DATA",998.1,5,10,48,30,16,0)
name!end^^C^20.9
"DATA",998.1,5,10,48,30,16,10)
D ENDARY(PN)
"DATA",998.1,5,10,48,40,0)
^998.13I^1^1
"DATA",998.1,5,10,48,40,1,0)
_id^@ien^T^10
"DATA",998.1,5,10,49,0)
Person_Address^1^200
"DATA",998.1,5,10,49,30,0)
^998.12I^7^7
"DATA",998.1,5,10,49,30,1,0)
use^^S^10
"DATA",998.1,5,10,49,30,1,10)
home
"DATA",998.1,5,10,49,30,2,0)
line!1^.111^F^20
"DATA",998.1,5,10,49,30,3,0)
line!2^.112^F^20.1
"DATA",998.1,5,10,49,30,4,0)
line!3^.113^F^20.2
"DATA",998.1,5,10,49,30,5,0)
city^.114^F^50
"DATA",998.1,5,10,49,30,6,0)
state^.115^F^60
"DATA",998.1,5,10,49,30,7,0)
postalCode^.116^F^80
"DATA",998.1,5,10,50,0)
DiagnosticOrder
"DATA",998.1,5,10,51,0)
Patient_Congregation^1^13
"DATA",998.1,5,10,51,30,0)
^998.12I^2^2
"DATA",998.1,5,10,51,30,1,0)
valueString^.01^F^10
"DATA",998.1,5,10,51,30,2,0)
attr:url^^N^1
"DATA",998.1,5,10,51,30,2,10)
http://hl7.org/fhir/StructureDefinition/patient-congregation
"DATA",998.1,5,20,0)
^998.14^5^5^3170321^^^^
"DATA",998.1,5,20,1,0)
Access-Control-Allow-Credentials: true
"DATA",998.1,5,20,2,0)
Access-Control-Allow-Headers: origin, authorization, accept, content-type, x-requested-with
"DATA",998.1,5,20,3,0)
Access-Control-Allow-Methods: GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS
"DATA",998.1,5,20,4,0)
Access-Control-Allow-Origin: *
"DATA",998.1,5,20,5,0)
Cache-Control: max-age=0
"DATA",998.1,5,99,0)
^998.199^25^25^3170322^
"DATA",998.1,5,99,1,0)
This is the base URL for the DSTU2 JSON FHIR endpoint. 
"DATA",998.1,5,99,2,0)

"DATA",998.1,5,99,3,0)
<hr> 
"DATA",998.1,5,99,4,0)

"DATA",998.1,5,99,5,0)
This service is supported by the <b>VistA Serialization Framework</b>, 
"DATA",998.1,5,99,6,0)
developed by Doug Martin of the <a href="http://www.regenstrief.org"
"DATA",998.1,5,99,7,0)
target="_blank">Regenstrief Institute.<a>
"DATA",998.1,5,99,8,0)

"DATA",998.1,5,99,9,0)
<p>
"DATA",998.1,5,99,10,0)

"DATA",998.1,5,99,11,0)
It is freely available as open source under the 
"DATA",998.1,5,99,12,0)
<a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License, Version 2.0</a>:
"DATA",998.1,5,99,13,0)

"DATA",998.1,5,99,14,0)
<ul> 
"DATA",998.1,5,99,15,0)
<li> The FHIR conformance document is available
"DATA",998.1,5,99,16,0)
  <a href="/DSTU2/metadata?_format=json" target="_blank">here</a>
"DATA",998.1,5,99,17,0)
</li>
"DATA",998.1,5,99,18,0)
<li> The complete source may be downloaded 
"DATA",998.1,5,99,19,0)
  <a href="https://github.com/mdgeek/VistA-Serialization-Framework" 
"DATA",998.1,5,99,20,0)
     target="_blank">here.</a>
"DATA",998.1,5,99,21,0)
</li>
"DATA",998.1,5,99,22,0)
<li> A working virtual machine may be built from this
"DATA",998.1,5,99,23,0)
  <a href="https://github.com/mdgeek/VistA-FHIR-CWF"
"DATA",998.1,5,99,24,0)
     target="_blank">source.</a>
"DATA",998.1,5,99,25,0)
</ul>
"DATA",998.1,6,0)
STU3^application/fhir+xml,application/xml,text/xml,xml^RGSEFHIX^1.8.0
"DATA",998.1,6,10,0)
^998.11^56^56
"DATA",998.1,6,10,1,0)
Binary
"DATA",998.1,6,10,1,10)
D COMPID^RGSERGET
"DATA",998.1,6,10,2,0)
Binary_8925^1^8925
"DATA",998.1,6,10,2,30,0)
^998.12I^3^3
"DATA",998.1,6,10,2,30,1,0)
content^^C^10
"DATA",998.1,6,10,2,30,1,10)
D TOBINARY^RGSERDOC(IEN,"<content value=""",""" />")
"DATA",998.1,6,10,2,30,2,0)
id^@ienx^R^1
"DATA",998.1,6,10,2,30,3,0)
contentType^^S^1
"DATA",998.1,6,10,2,30,3,10)
text/plain
"DATA",998.1,6,10,3,0)
Condition^^9000011
"DATA",998.1,6,10,3,30,0)
^998.12I^9^9
"DATA",998.1,6,10,3,30,1,0)
patient^.02^C^10
"DATA",998.1,6,10,3,30,1,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,6,10,3,30,2,0)
code!start^^C^20
"DATA",998.1,6,10,3,30,2,10)
D NEWTAG(PN)
"DATA",998.1,6,10,3,30,3,0)
coding^.01^O^20.1
"DATA",998.1,6,10,3,30,3,10)
*/ICD9
"DATA",998.1,6,10,3,30,4,0)
code!end^.05^C^20.2
"DATA",998.1,6,10,3,30,4,10)
D PUT("text",VL("E")),ENDTAG(PN)
"DATA",998.1,6,10,3,30,5,0)
category^^N^30
"DATA",998.1,6,10,3,30,6,0)
clinicalStatus^.12^C^40
"DATA",998.1,6,10,3,30,6,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,6,10,3,30,7,0)
onsetDate^.13^D^50
"DATA",998.1,6,10,3,30,8,0)
abatementDate^1.07^D^60
"DATA",998.1,6,10,3,30,9,0)
id^@id^R^1
"DATA",998.1,6,10,3,40,0)
^998.13I^4^4
"DATA",998.1,6,10,3,40,1,0)
patient^.02^R^10
"DATA",998.1,6,10,3,40,1,20)
S X=$$COHORT(PN,$NA(^AUPNPROB("AC")))
"DATA",998.1,6,10,3,40,2,0)
onset^.13^D^20
"DATA",998.1,6,10,3,40,3,0)
patient:Patient^.02^R^10
"DATA",998.1,6,10,3,40,3,20)
S X=$$COHORT(PN,$NA(^AUPNPROB("AC")))
"DATA",998.1,6,10,3,40,4,0)
_id^@ien^T^30
"DATA",998.1,6,10,4,0)
DocumentReference^^8925
"DATA",998.1,6,10,4,30,0)
^998.12I^26^25
"DATA",998.1,6,10,4,30,1,0)
description^1701^F^140
"DATA",998.1,6,10,4,30,2,0)
type^.01^C^40
"DATA",998.1,6,10,4,30,2,10)
D CODING(PN,"#8925.1",VL("I"),VL("E"))
"DATA",998.1,6,10,4,30,3,0)
subject^.02^C^30
"DATA",998.1,6,10,4,30,3,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,6,10,4,30,4,0)
author^1202^C^60
"DATA",998.1,6,10,4,30,4,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,6,10,4,30,5,0)
contentType!content^^S^200.1
"DATA",998.1,6,10,4,30,5,10)
text/plain
"DATA",998.1,6,10,4,30,6,0)
created^1201^D^100
"DATA",998.1,6,10,4,30,7,0)
context^.07,.08^C^110
"DATA",998.1,6,10,4,30,7,10)
D NEWTAG(PN),PERIOD(VL("I"),VL(2,"I")),ENDTAG(PN)
"DATA",998.1,6,10,4,30,9,0)
url!content^@ien^C^200.4
"DATA",998.1,6,10,4,30,9,10)
D PUT(PN,$$HOSTURL^RGNETWWW("*/Binary/8925-"_VL("I")))
"DATA",998.1,6,10,4,30,10,0)
masterIdentifier^@ien^C^10
"DATA",998.1,6,10,4,30,10,10)
D NEWTAG(PN),PUT("value",$$SYSUUID^RGNETWWW_"/Document/"_VL("I")),ENDTAG(PN)
"DATA",998.1,6,10,4,30,11,0)
status^.05~.02^C^120
"DATA",998.1,6,10,4,30,11,10)
N X S X=VL("I") D PUT(PN,$S("rd"[X:"entered-in-error",1:"current"))
"DATA",998.1,6,10,4,30,12,0)
id^@id^R^1
"DATA",998.1,6,10,4,30,13,0)
identifier^^N^20
"DATA",998.1,6,10,4,30,14,0)
class^^N^50
"DATA",998.1,6,10,4,30,15,0)
custodian^^N^70
"DATA",998.1,6,10,4,30,16,0)
title!content^^N^200.7
"DATA",998.1,6,10,4,30,17,0)
authenticator^^N^90
"DATA",998.1,6,10,4,30,18,0)
indexed^1201^D^110
"DATA",998.1,6,10,4,30,19,0)
docStatus^^N^130
"DATA",998.1,6,10,4,30,20,0)
confidentiality^^N^150
"DATA",998.1,6,10,4,30,21,0)
language!content^^N^200.2
"DATA",998.1,6,10,4,30,22,0)
format^^N^180
"DATA",998.1,6,10,4,30,23,0)
size!content^^N^200.5
"DATA",998.1,6,10,4,30,24,0)
hash!content^^N^200.6
"DATA",998.1,6,10,4,30,25,0)
content!start^^C^200
"DATA",998.1,6,10,4,30,25,10)
D NEWTAG(PN)
"DATA",998.1,6,10,4,30,26,0)
content!end^^C^200.9
"DATA",998.1,6,10,4,30,26,10)
D ENDTAG(PN)
"DATA",998.1,6,10,4,40,0)
^998.13I^6^6
"DATA",998.1,6,10,4,40,1,0)
subject:Patient^.02^R^10
"DATA",998.1,6,10,4,40,1,20)
S X=$$COHORT(PN,$NA(^TIU(8925,"C")))
"DATA",998.1,6,10,4,40,2,0)
period^1301^D^20
"DATA",998.1,6,10,4,40,3,0)
type^.01^T^30
"DATA",998.1,6,10,4,40,4,0)
author^1202^R^40
"DATA",998.1,6,10,4,40,5,0)
_id^@ien^T^50
"DATA",998.1,6,10,4,40,6,0)
indexed^1301^D^60
"DATA",998.1,6,10,5,0)
Encounter^^9000010
"DATA",998.1,6,10,5,30,0)
^998.12I^10^9
"DATA",998.1,6,10,5,30,1,0)
status^^C^10
"DATA",998.1,6,10,5,30,1,10)
D PUT(PN,$$GETSTAT^RGSERENC(IEN))
"DATA",998.1,6,10,5,30,2,0)
class^.07^C^20
"DATA",998.1,6,10,5,30,2,10)
N X S X=VL("I") D PUT(PN,$S(X="H":"inpatient",X="A":"ambulatory",1:"virtual"))
"DATA",998.1,6,10,5,30,3,0)
subject^.05^C^30
"DATA",998.1,6,10,5,30,3,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,6,10,5,30,4,0)
period^.01,.18^C^40
"DATA",998.1,6,10,5,30,4,10)
D PERIOD(VL("I"),VL(2,"I"))
"DATA",998.1,6,10,5,30,6,0)
location^.01,.18,.22^C^60
"DATA",998.1,6,10,5,30,6,10)
D:VL(3) NEWTAG(PN),REF2(PN,"Location",VL(3,"I"),VL(3,"E")),PERIOD(VL("I"),VL(2,"I")),ENDTAG(PN)
"DATA",998.1,6,10,5,30,7,0)
identifier!visitid^15001^C^70
"DATA",998.1,6,10,5,30,7,10)
D IDENT("@identifiers/visits",VL("I"),PN(0),"official")
"DATA",998.1,6,10,5,30,8,0)
type^.07^C^80
"DATA",998.1,6,10,5,30,8,10)
D CODING(PN,"@types/visits",VL("I"),VL("E"))
"DATA",998.1,6,10,5,30,9,0)
participant^^C^90
"DATA",998.1,6,10,5,30,9,10)
D GET^RGSERGET(.RGSER,"*/Encounter_Participant",$NA(^AUPNVPRV("AD",IEN)),PN)
"DATA",998.1,6,10,5,30,10,0)
id^@id^R^1
"DATA",998.1,6,10,5,40,0)
^998.13I^5^4
"DATA",998.1,6,10,5,40,1,0)
patient^.05^R^10
"DATA",998.1,6,10,5,40,1,20)
S X=$$COHORT(PN,$NA(^AUPNVSIT("C")))
"DATA",998.1,6,10,5,40,2,0)
type^.07^T^20
"DATA",998.1,6,10,5,40,3,0)
date^.01,.18^D^20
"DATA",998.1,6,10,5,40,5,0)
_id^@ien^T^30
"DATA",998.1,6,10,6,0)
Encounter_Participant^1^9000010.06
"DATA",998.1,6,10,6,30,0)
^998.12I^3^3
"DATA",998.1,6,10,6,30,1,0)
type^.04^C^10
"DATA",998.1,6,10,6,30,1,10)
D:VL CODING(PN,"http://hl7.org/fhir/v3/ParticipationType",VL("I")_"PRF",VL("E"))
"DATA",998.1,6,10,6,30,2,0)
individual^.01^C^20
"DATA",998.1,6,10,6,30,2,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,6,10,6,30,3,0)
type^.05^C^10.1
"DATA",998.1,6,10,6,30,3,10)
D:VL CODING(PN,"http://hl7.org/fhir/v3/ParticipationType",$S(VL("I")="A":"ATND",1:"PRF"),VL("E"))
"DATA",998.1,6,10,7,0)
ICD9^1^80
"DATA",998.1,6,10,7,30,0)
^998.12I^3^3
"DATA",998.1,6,10,7,30,1,0)
system^^C^20
"DATA",998.1,6,10,7,30,1,10)
D PUT("system","http://hl7.org/fhir/sid/icd-9")
"DATA",998.1,6,10,7,30,2,0)
code^.01^F^30
"DATA",998.1,6,10,7,30,3,0)
display^@ien^C^40
"DATA",998.1,6,10,7,30,3,10)
D PUT(PN,$$VSTD^ICDCODE(IEN))
"DATA",998.1,6,10,8,0)
Location^^44
"DATA",998.1,6,10,8,30,0)
^998.12I^8^8
"DATA",998.1,6,10,8,30,1,0)
name^.01^F^10
"DATA",998.1,6,10,8,30,2,0)
description^10^F^20
"DATA",998.1,6,10,8,30,3,0)
managingOrganization^3^C^30
"DATA",998.1,6,10,8,30,3,10)
D REF(PN,"Organization",.VL)
"DATA",998.1,6,10,8,30,4,0)
telecom!phone:work^99^C^40
"DATA",998.1,6,10,8,30,4,10)
D TELECOM
"DATA",998.1,6,10,8,30,5,0)
id^@id^R^1
"DATA",998.1,6,10,8,30,6,0)
mode^^S^50
"DATA",998.1,6,10,8,30,6,10)
instance
"DATA",998.1,6,10,8,30,7,0)
type^2,9^C^60
"DATA",998.1,6,10,8,30,7,10)
D CODING(PN,"http://hl7.org/fhir/v3/RoleCode",$$GETTYPE^RGSERLOC($G(VL("I")),$G(VL(2,"I"))))
"DATA",998.1,6,10,8,30,8,0)
status^2505,2506^C^70
"DATA",998.1,6,10,8,30,8,10)
D PUT(PN,$$GETSTAT^RGSERLOC($G(VL("I")),$G(VL(2,"I"))))
"DATA",998.1,6,10,8,40,0)
^998.13I^4^4
"DATA",998.1,6,10,8,40,1,0)
_id^@ien^T^10
"DATA",998.1,6,10,8,40,2,0)
type^2,9^T^10
"DATA",998.1,6,10,8,40,2,10)
S TP="",MATCH=PVAL=$$GETTYPE^RGSERLOC($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,6,10,8,40,3,0)
status^2505,2506^T^20
"DATA",998.1,6,10,8,40,3,10)
S TP="",MATCH=PVAL=$$GETSTAT^RGSERLOC($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,6,10,8,40,4,0)
name^.01^S^30
"DATA",998.1,6,10,9,0)
Observation
"DATA",998.1,6,10,9,20)
D RETRIEVE^RGSEROBS
"DATA",998.1,6,10,9,30,0)
^998.12I^20^17
"DATA",998.1,6,10,9,30,1,0)
issued^issued^D^60
"DATA",998.1,6,10,9,30,2,0)
status^status^F^70
"DATA",998.1,6,10,9,30,3,0)
reliability^reliability^F^80
"DATA",998.1,6,10,9,30,4,0)
subject^patient^C^120
"DATA",998.1,6,10,9,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,6,10,9,30,5,0)
referenceRange^low,high^C^150
"DATA",998.1,6,10,9,30,5,10)
D RANGEXML^RGSEROBS($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,6,10,9,30,7,0)
comments^comments^F^40
"DATA",998.1,6,10,9,30,8,0)
appliesDateTime^collected^D^50
"DATA",998.1,6,10,9,30,9,0)
identifier^id^C^110
"DATA",998.1,6,10,9,30,9,10)
D IDENT("@observation",VL("I"))
"DATA",998.1,6,10,9,30,10,0)
code^code,code_system^C^10
"DATA",998.1,6,10,9,30,10,10)
D:VL CODING(PN,VL(2,"E"),VL("I"),VL("E"))
"DATA",998.1,6,10,9,30,11,0)
value^value,units^C^20
"DATA",998.1,6,10,9,30,11,10)
D VALUEXML^RGSEROBS($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,6,10,9,30,12,0)
interpretation^interpretation^C^30
"DATA",998.1,6,10,9,30,12,10)
D:VL NEWTAG(PN),PUT("text",VL("E")),ENDTAG(PN)
"DATA",998.1,6,10,9,30,13,0)
bodySite^^N^90
"DATA",998.1,6,10,9,30,14,0)
method^^N^100
"DATA",998.1,6,10,9,30,15,0)
specimen^^N^130
"DATA",998.1,6,10,9,30,16,0)
performer^^N^140
"DATA",998.1,6,10,9,30,19,0)
id^id^R^1
"DATA",998.1,6,10,9,30,20,0)
related^related^C^160
"DATA",998.1,6,10,9,30,20,10)
D:VL RELXML^RGSEROBS(VL("I"))
"DATA",998.1,6,10,9,40,0)
^998.13I^3^3
"DATA",998.1,6,10,9,40,1,0)
subject:Patient^patient^R^10
"DATA",998.1,6,10,9,40,1,20)
S X=$$OBS^RGSEROBS(RGNETREQ("PARAMS","subject:Patient",1,1))
"DATA",998.1,6,10,9,40,2,0)
code^code^T^10
"DATA",998.1,6,10,9,40,3,0)
_id^@id^T^10
"DATA",998.1,6,10,10,0)
Organization^^4
"DATA",998.1,6,10,10,30,0)
^998.12I^4^4
"DATA",998.1,6,10,10,30,1,0)
name^.01^F^20
"DATA",998.1,6,10,10,30,2,0)
active^^S^10
"DATA",998.1,6,10,10,30,2,10)
true
"DATA",998.1,6,10,10,30,3,0)
address^@ien^O^40
"DATA",998.1,6,10,10,30,3,10)
*/Organization_Address
"DATA",998.1,6,10,10,30,4,0)
id^@id^R^1
"DATA",998.1,6,10,11,0)
Organization_Address^1^4
"DATA",998.1,6,10,11,30,0)
^998.12I^6^6
"DATA",998.1,6,10,11,30,1,0)
use^^S^10
"DATA",998.1,6,10,11,30,1,10)
work
"DATA",998.1,6,10,11,30,2,0)
line^1.01^F^20
"DATA",998.1,6,10,11,30,3,0)
line^1.02^F^20.1
"DATA",998.1,6,10,11,30,4,0)
city^1.03^F^50
"DATA",998.1,6,10,11,30,5,0)
state^.02^F^60
"DATA",998.1,6,10,11,30,6,0)
postalCode^1.04^F^80
"DATA",998.1,6,10,12,0)
Organization_Reference^1^4
"DATA",998.1,6,10,12,30,0)
^998.12I^2^2
"DATA",998.1,6,10,12,30,1,0)
reference^^C^10
"DATA",998.1,6,10,12,30,1,10)
D PUT(PN,"Organization/"_IEN)
"DATA",998.1,6,10,12,30,2,0)
display^.01^F^20
"DATA",998.1,6,10,13,0)
Patient^^2
"DATA",998.1,6,10,13,30,0)
^998.12I^19^18
"DATA",998.1,6,10,13,30,1,0)
name^.01^C^10
"DATA",998.1,6,10,13,30,1,10)
D NAME(VL("I"))
"DATA",998.1,6,10,13,30,2,0)
gender^.02^C^20
"DATA",998.1,6,10,13,30,2,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,6,10,13,30,3,0)
birthDate^.03^D^30
"DATA",998.1,6,10,13,30,4,0)
deceasedDateTime^.351^D^50
"DATA",998.1,6,10,13,30,5,0)
identifier!MR,Medical Record #,http://hl7.org/fhir/v2/0203^^C^60
"DATA",998.1,6,10,13,30,5,10)
D IDENT("@identifiers/patients",$$HRN^RGSERPAT(IEN),PN(0))
"DATA",998.1,6,10,13,30,6,0)
managingOrganization^^C^80
"DATA",998.1,6,10,13,30,6,10)
D:$G(DUZ(2)) GET^RGSERGET(.RGSER,"*/Organization_Reference",DUZ(2),PN)
"DATA",998.1,6,10,13,30,7,0)
photo^^C^80
"DATA",998.1,6,10,13,30,7,10)
Q:'$L($T(^MAGGTIG))  N X,Y D PHOTOS^MAGGTIG(.X,IEN) F Y=0:0 S Y=$O(X(Y)) Q:'Y  S X=$P(X(Y),U,3) I $E(X,1,4)="http" D NEWTAG(PN),PUT("contentType","image/"_$P(X,".",$L(X,"."))),PUT("url",X),ENDTAG(PN)
"DATA",998.1,6,10,13,30,8,0)
telecom!phone:home^.131^C^100
"DATA",998.1,6,10,13,30,8,10)
D TELECOM
"DATA",998.1,6,10,13,30,9,0)
telecom!phone:mobile^.134^C^110
"DATA",998.1,6,10,13,30,9,10)
D TELECOM
"DATA",998.1,6,10,13,30,10,0)
telecom!phone:work^.132^C^120
"DATA",998.1,6,10,13,30,10,10)
D TELECOM
"DATA",998.1,6,10,13,30,11,0)
address^@ien^O^130
"DATA",998.1,6,10,13,30,11,10)
*/Patient_Address_Home
"DATA",998.1,6,10,13,30,13,0)
extension^2^M^21
"DATA",998.1,6,10,13,30,13,10)
*/Patient_Race
"DATA",998.1,6,10,13,30,14,0)
identifier!SS,Social Security #,http://hl7.org/fhir/v2/0203^.09^C^60
"DATA",998.1,6,10,13,30,14,10)
D IDENT("http://hl7.org/fhir/sid/us-ssn",VL("E"),PN(0))
"DATA",998.1,6,10,13,30,15,0)
id^@id^R^1
"DATA",998.1,6,10,13,30,16,0)
text^^T^1.1
"DATA",998.1,6,10,13,30,16,10)
TEXT
"DATA",998.1,6,10,13,30,17,0)
maritalStatus^.05^C^140
"DATA",998.1,6,10,13,30,17,10)
I VL N X S X=$$MARITAL^RGSERPAT(VL("E")) D CODING(PN,"http://hl7.org/fhir/v3/MaritalStatus",$P(X,U),$P(X,U,2))
"DATA",998.1,6,10,13,30,18,0)
identifier!ICN,Integration Control #^991.01^C^60
"DATA",998.1,6,10,13,30,18,10)
D IDENT("http://va.gov/sid/icn",$$ICN^RGSERPAT(IEN),PN(0))
"DATA",998.1,6,10,13,30,19,0)
extension!congregation^.08^O^22
"DATA",998.1,6,10,13,30,19,10)
*/Patient_Congregation
"DATA",998.1,6,10,13,40,0)
^998.13I^6^6
"DATA",998.1,6,10,13,40,1,0)
_id^@ien^T^10
"DATA",998.1,6,10,13,40,2,0)
family^.01^S^20
"DATA",998.1,6,10,13,40,2,10)
D OPRNAME(VL("E"),1) K PVAL
"DATA",998.1,6,10,13,40,2,20)
S X="$$NAMEITER^RGSERPAT"
"DATA",998.1,6,10,13,40,3,0)
given^.01^S^30
"DATA",998.1,6,10,13,40,3,10)
D OPRNAME(VL("E"),2) K PVAL
"DATA",998.1,6,10,13,40,4,0)
gender^.02^T^40
"DATA",998.1,6,10,13,40,5,0)
birthdate^.03^D^15
"DATA",998.1,6,10,13,40,6,0)
identifier^.09^T^5
"DATA",998.1,6,10,13,40,6,10)
S MATCH=PVAL=$$HRN^RGSERPAT(IEN),PVAL=$TR(PVAL,"-") S:MATCH TP=""
"DATA",998.1,6,10,13,50,0)
^998.15^1^1
"DATA",998.1,6,10,13,50,1,0)
TEXT
"DATA",998.1,6,10,13,50,1,1,0)
^998.151^6^6^3150701^^
"DATA",998.1,6,10,13,50,1,1,1,0)
<text>
"DATA",998.1,6,10,13,50,1,1,2,0)
<status value="generated"/>
"DATA",998.1,6,10,13,50,1,1,3,0)
<div xmlns="http://www.w3.org/1999/xhtml">
"DATA",998.1,6,10,13,50,1,1,4,0)
NAME: |.01|
"DATA",998.1,6,10,13,50,1,1,5,0)
</div>
"DATA",998.1,6,10,13,50,1,1,6,0)
</text>
"DATA",998.1,6,10,14,0)
Patient/#/Condition
"DATA",998.1,6,10,14,10)
D COMPRT($NA(^AUPNPROB("AC")))
"DATA",998.1,6,10,15,0)
Patient/#/DocumentReference
"DATA",998.1,6,10,15,10)
D COMPRT($NA(^TIU(8925,"C")))
"DATA",998.1,6,10,16,0)
Patient/#/Encounter
"DATA",998.1,6,10,16,10)
D COMPRT($NA(^AUPNVSIT("C")))
"DATA",998.1,6,10,17,0)
Patient/#/Observation
"DATA",998.1,6,10,17,10)
D COMPRT($$OBS^RGSEROBS($P(PATH,"/",3)),1)
"DATA",998.1,6,10,18,0)
Patient_Address_Home^1^2
"DATA",998.1,6,10,18,30,0)
^998.12I^10^10
"DATA",998.1,6,10,18,30,1,0)
use^^S^10
"DATA",998.1,6,10,18,30,1,10)
home
"DATA",998.1,6,10,18,30,2,0)
line!1^.111^F^20
"DATA",998.1,6,10,18,30,3,0)
line!2^.112^F^20.1
"DATA",998.1,6,10,18,30,4,0)
line!3^.113^F^20.2
"DATA",998.1,6,10,18,30,5,0)
city^.114^F^50
"DATA",998.1,6,10,18,30,6,0)
state^.115^F^60
"DATA",998.1,6,10,18,30,7,0)
state!province^.1171^F^60.1
"DATA",998.1,6,10,18,30,8,0)
postalCode^.116^F^80
"DATA",998.1,6,10,18,30,9,0)
country^.1173^F^90
"DATA",998.1,6,10,18,30,10,0)
district^.117,.115^C^55
"DATA",998.1,6,10,18,30,10,10)
D:VL PUT(PN,$$COUNTY^RGSERPAT(VL(2,"I"),VL("I")))
"DATA",998.1,6,10,19,0)
Patient_Race^1^2.02
"DATA",998.1,6,10,19,30,0)
^998.12I^2^2
"DATA",998.1,6,10,19,30,1,0)
valueCodeableConcept^.01^C^10
"DATA",998.1,6,10,19,30,1,10)
D:VL NEWTAG(PN),PUT("text",VL("E")),ENDTAG(PN)
"DATA",998.1,6,10,19,30,2,0)
attr:url^^N^1
"DATA",998.1,6,10,19,30,2,10)
http://hl7.org/fhir/StructureDefinition/us-core-race
"DATA",998.1,6,10,20,0)
Practitioner^^200
"DATA",998.1,6,10,20,30,0)
^998.12I^9^9
"DATA",998.1,6,10,20,30,1,0)
name^.01^C^10
"DATA",998.1,6,10,20,30,1,10)
D NAME(VL("I"))
"DATA",998.1,6,10,20,30,2,0)
telecom!phone:home^.131^C^20
"DATA",998.1,6,10,20,30,2,10)
D TELECOM
"DATA",998.1,6,10,20,30,3,0)
telecom!phone:work^.132^C^30
"DATA",998.1,6,10,20,30,3,10)
D TELECOM
"DATA",998.1,6,10,20,30,4,0)
telecom!fax:work^.136^C^40
"DATA",998.1,6,10,20,30,4,10)
D TELECOM
"DATA",998.1,6,10,20,30,5,0)
identifier!DEA,Drug Enforcement Administration #,http://hl7.org/fhir/v2/0203^53.2^C^50
"DATA",998.1,6,10,20,30,5,10)
D IDENT("http://hl7.org/fhir/sid/us-dea",VL("E"),PN(0),"official")
"DATA",998.1,6,10,20,30,6,0)
gender^4^C^40
"DATA",998.1,6,10,20,30,6,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,6,10,20,30,7,0)
identifier!SS,Social Security #,http://hl7.org/fhir/v2/0203^9^C^50
"DATA",998.1,6,10,20,30,7,10)
D IDENT("http://hl7.org/fhir/sid/us-ssn",VL("E"),PN(0))
"DATA",998.1,6,10,20,30,8,0)
identifier!NPI,National Provider Identifier,http://hl7.org/fhir/v2/0203^41.99^C^50
"DATA",998.1,6,10,20,30,8,10)
D IDENT("http://hl7.org/fhir/sid/us-npi",VL("E"),PN(0))
"DATA",998.1,6,10,20,30,9,0)
id^@id^R^1
"DATA",998.1,6,10,20,40,0)
^998.13I^3^3
"DATA",998.1,6,10,20,40,1,0)
family^.01^S^20
"DATA",998.1,6,10,20,40,1,10)
D OPRNAME(VL("E"),1) K PVAL
"DATA",998.1,6,10,20,40,1,20)
S X="$$NAMEITER^RGSERPER"
"DATA",998.1,6,10,20,40,2,0)
given^.01^S^30
"DATA",998.1,6,10,20,40,2,10)
D OPRNAME(VL("E"),2) K PVAL
"DATA",998.1,6,10,20,40,3,0)
_id^@ien^T^40
"DATA",998.1,6,10,21,0)
Person^^200
"DATA",998.1,6,10,21,30,0)
^998.12I^14^14
"DATA",998.1,6,10,21,30,1,0)
name^.01^C^20
"DATA",998.1,6,10,21,30,1,10)
D NAME(VL("I"))
"DATA",998.1,6,10,21,30,2,0)
birthDate^5^D^50
"DATA",998.1,6,10,21,30,3,0)
managingOrganization^^C^80
"DATA",998.1,6,10,21,30,3,10)
D REF2(PN,"Organization",DUZ(2),$P(^DIC(4,DUZ(2),0),U))
"DATA",998.1,6,10,21,30,4,0)
telecom!phone:work^.132^C^30
"DATA",998.1,6,10,21,30,4,10)
D TELECOM
"DATA",998.1,6,10,21,30,5,0)
telecom!phone:home^.131^C^30.1
"DATA",998.1,6,10,21,30,5,10)
D TELECOM
"DATA",998.1,6,10,21,30,6,0)
telecom!fax:work^.136^C^30.2
"DATA",998.1,6,10,21,30,6,10)
D TELECOM
"DATA",998.1,6,10,21,30,7,0)
id^@id^R^1
"DATA",998.1,6,10,21,30,8,0)
nickname^13^C^10.1
"DATA",998.1,6,10,21,30,8,10)
D:VL NAME(","_VL("I"),PN)
"DATA",998.1,6,10,21,30,9,0)
address^@ien^O^60
"DATA",998.1,6,10,21,30,9,10)
*/Person_Address
"DATA",998.1,6,10,21,30,10,0)
active^7^C^90
"DATA",998.1,6,10,21,30,10,10)
D PUTBL^RGSEXML(PN,'VL("I"))
"DATA",998.1,6,10,21,30,11,0)
identifier^^N^10
"DATA",998.1,6,10,21,30,12,0)
gender^4^C^40
"DATA",998.1,6,10,21,30,12,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,6,10,21,30,13,0)
photo^^N^70
"DATA",998.1,6,10,21,30,14,0)
link^^N^90
"DATA",998.1,6,10,21,40,0)
^998.13I^1^1
"DATA",998.1,6,10,21,40,1,0)
_id^@ien^T^10
"DATA",998.1,6,10,22,0)
ValueSet^^998.11
"DATA",998.1,6,10,22,20)
S IENS=IENS_RGSER("SER")_","
"DATA",998.1,6,10,22,30,0)
^998.12I^6^6
"DATA",998.1,6,10,22,30,1,0)
codeSystem^.01^C^100
"DATA",998.1,6,10,22,30,1,10)
D NEWTAG(PN),PUT("system",$$SYSTEM^RGSER("@"_VL("E"))),GET^RGSERGET(.RGSER,"*/"_VL("E"),,"concept"),ENDTAG(PN)
"DATA",998.1,6,10,22,30,2,0)
identifier^.01^C^10
"DATA",998.1,6,10,22,30,2,10)
D IDENT($$SYSTEM^RGSER("@vs/"_$P(VL("E"),"_",2,99)),"encounter-type")
"DATA",998.1,6,10,22,30,3,0)
name^.01^C^20
"DATA",998.1,6,10,22,30,3,10)
D PUT(PN,$P(VL("E"),"_",2,99))
"DATA",998.1,6,10,22,30,4,0)
description^99^F^30
"DATA",998.1,6,10,22,30,5,0)
status^^S^40
"DATA",998.1,6,10,22,30,5,10)
active
"DATA",998.1,6,10,22,30,6,0)
id^@ienx^R^1
"DATA",998.1,6,10,22,40,0)
^998.13I^3^3
"DATA",998.1,6,10,22,40,1,0)
_id^@ien^T^1
"DATA",998.1,6,10,22,40,2,0)
name^.01^S^10
"DATA",998.1,6,10,22,40,2,10)
S PVAL=$S(PVAL("OPR")="s":"VALUESET_",1:"ValueSet_")_PVAL
"DATA",998.1,6,10,22,40,3,0)
@selector^.01^T^1
"DATA",998.1,6,10,22,40,3,10)
S MATCH="ValueSet_"=$E(VL("E"),1,9)
"DATA",998.1,6,10,22,40,3,20)
S X="$$ITERVS^RGSEFHIR"
"DATA",998.1,6,10,23,0)
ValueSet_DocumentType^1^8925.1
"DATA",998.1,6,10,23,30,0)
^998.12I^2^2
"DATA",998.1,6,10,23,30,1,0)
code^@ien^R^20
"DATA",998.1,6,10,23,30,2,0)
display^.01^F^30
"DATA",998.1,6,10,23,99)
List of document categories by which documents may be classified.
"DATA",998.1,6,10,24,0)
ValueSet_EncounterType^1
"DATA",998.1,6,10,24,10)
K XSER D GETTYPES^RGSERENC
"DATA",998.1,6,10,24,20)
D RETRIEVE^RGSERENC(IEN)
"DATA",998.1,6,10,24,30,0)
^998.12I^3^3
"DATA",998.1,6,10,24,30,1,0)
display^2^R^20
"DATA",998.1,6,10,24,30,2,0)
code^1^R^30
"DATA",998.1,6,10,24,30,3,0)
definition^3^R^40
"DATA",998.1,6,10,24,99)
List of recognized encounter types (service codes).
"DATA",998.1,6,10,25,0)
Medication^^50
"DATA",998.1,6,10,25,30,0)
^998.12I^8^8
"DATA",998.1,6,10,25,30,1,0)
name^.01^F^10
"DATA",998.1,6,10,25,30,2,0)
code!start^^C^20
"DATA",998.1,6,10,25,30,2,10)
D NEWTAG(PN)
"DATA",998.1,6,10,25,30,3,0)
code!end^^C^20.9
"DATA",998.1,6,10,25,30,3,10)
D ENDTAG(PN)
"DATA",998.1,6,10,25,30,4,0)
coding!ndc^31^C^20.1
"DATA",998.1,6,10,25,30,4,10)
D:VL CODING(,"http://www.fda.gov/ndc",VL("E"))
"DATA",998.1,6,10,25,30,5,0)
product!start^^C^30
"DATA",998.1,6,10,25,30,5,10)
D NEWTAG(PN)
"DATA",998.1,6,10,25,30,6,0)
product!end^^C^30.9
"DATA",998.1,6,10,25,30,6,10)
D ENDTAG(PN)
"DATA",998.1,6,10,25,30,7,0)
form^14.5^C^30.1
"DATA",998.1,6,10,25,30,7,10)
D:VL CODING(PN,"dispense_unit",,VL("E"))
"DATA",998.1,6,10,25,30,8,0)
id^@id^R^1
"DATA",998.1,6,10,25,40,0)
^998.13I^3^3
"DATA",998.1,6,10,25,40,1,0)
code^31^T^10
"DATA",998.1,6,10,25,40,2,0)
name^.01^S^20
"DATA",998.1,6,10,25,40,3,0)
_id^@ien^T^30
"DATA",998.1,6,10,26,0)
MedicationPrescription^^52
"DATA",998.1,6,10,26,30,0)
^998.12I^9^9
"DATA",998.1,6,10,26,30,1,0)
patient^2^C^40
"DATA",998.1,6,10,26,30,1,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,6,10,26,30,2,0)
prescriber^4^C^50
"DATA",998.1,6,10,26,30,2,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,6,10,26,30,3,0)
medication^6^C^80
"DATA",998.1,6,10,26,30,3,10)
D REF(PN,"Medication",.VL)
"DATA",998.1,6,10,26,30,4,0)
dateWritten^1^D^20
"DATA",998.1,6,10,26,30,5,0)
dosageInstruction!start^^C^90
"DATA",998.1,6,10,26,30,5,10)
D NEWTAG(PN)
"DATA",998.1,6,10,26,30,6,0)
dosageInstruction!end^^C^90.9
"DATA",998.1,6,10,26,30,6,10)
D ENDTAG(PN)
"DATA",998.1,6,10,26,30,7,0)
@text^10.2^M^90.001
"DATA",998.1,6,10,26,30,7,10)
*/MedicationPrescription_Sig
"DATA",998.1,6,10,26,30,8,0)
@dosing^113^M^90.002
"DATA",998.1,6,10,26,30,8,10)
*/MedicationPrescription_Dosing
"DATA",998.1,6,10,26,30,9,0)
id^@id^R^1
"DATA",998.1,6,10,26,40,0)
^998.13I^3^3
"DATA",998.1,6,10,26,40,1,0)
patient^2^R^10
"DATA",998.1,6,10,26,40,1,20)
S X=$$COHORT(PN,$NA(^PS(55,"*","P","A")),1)
"DATA",998.1,6,10,26,40,2,0)
_id^@ien^T^20
"DATA",998.1,6,10,26,40,3,0)
patient:Patient^2^R^10
"DATA",998.1,6,10,26,40,3,20)
S X=$$COHORT(PN,$NA(^PS(55,"*","P","A")),1)
"DATA",998.1,6,10,27,0)
MedicationPrescription_Sig^1^52.04
"DATA",998.1,6,10,27,30,0)
^998.12I^1^1
"DATA",998.1,6,10,27,30,1,0)
text^.01^F^10
"DATA",998.1,6,10,28,0)
MedicationPrescription_Dosing^1^52.0113
"DATA",998.1,6,10,28,30,0)
^998.12I^1^1
"DATA",998.1,6,10,28,30,1,0)
route^6^C^10
"DATA",998.1,6,10,28,30,1,10)
D:VL CODING(PN,"@medication_route",VL("E"))
"DATA",998.1,6,10,29,0)
Patient/#/MedicationPrescription
"DATA",998.1,6,10,29,10)
D COMPRT($$COHORT2($P(PATH,"/",3),$NA(^PS(55,"*","P","A")),1),1)
"DATA",998.1,6,10,30,0)
AdverseReaction^^120.8
"DATA",998.1,6,10,30,30,0)
^998.12I^10^8
"DATA",998.1,6,10,30,30,1,0)
identifier^^N^10
"DATA",998.1,6,10,30,30,2,0)
date^4^D^20
"DATA",998.1,6,10,30,30,3,0)
subject^.01^C^30
"DATA",998.1,6,10,30,30,3,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,6,10,30,30,4,0)
didNotOccurFlag^^S^40
"DATA",998.1,6,10,30,30,4,10)
false
"DATA",998.1,6,10,30,30,5,0)
recorder^5^C^50
"DATA",998.1,6,10,30,30,5,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,6,10,30,30,6,0)
symptom^10^M^60
"DATA",998.1,6,10,30,30,6,10)
*/AdverseReaction_Symptom
"DATA",998.1,6,10,30,30,9,0)
exposure^1,.02^C^70.2
"DATA",998.1,6,10,30,30,9,10)
S:'VL VL("E")=VL(2,"E") S VL("I")=$$VP2ID(VL("I")) D NEWTAG(PN),REF("substance","Substance",.VL),ENDTAG(PN)
"DATA",998.1,6,10,30,30,10,0)
id^@id^R^1
"DATA",998.1,6,10,30,40,0)
^998.13I^3^3
"DATA",998.1,6,10,30,40,1,0)
subject^.01^R^10
"DATA",998.1,6,10,30,40,1,20)
S X=$$COHORT(PN,$NA(^GMR(120.8,"B")))
"DATA",998.1,6,10,30,40,2,0)
subject:Patient^.01^R^10
"DATA",998.1,6,10,30,40,2,20)
S X=$$COHORT(PN,$NA(^GMR(120.8,"B")))
"DATA",998.1,6,10,30,40,3,0)
_id^@ien^T^20
"DATA",998.1,6,10,31,0)
AdverseReaction_Symptom^1^120.81
"DATA",998.1,6,10,31,30,0)
^998.12I^2^2
"DATA",998.1,6,10,31,30,1,0)
code^.01^C^10
"DATA",998.1,6,10,31,30,1,10)
D CODING(PN,"#120.83",VL("I"),VL("E"))
"DATA",998.1,6,10,31,30,2,0)
severity^^N^20
"DATA",998.1,6,10,32,0)
AdverseReaction_Ingredient^1^120.802
"DATA",998.1,6,10,32,30,0)
^998.12I^4^4
"DATA",998.1,6,10,32,30,1,0)
date^^D^10
"DATA",998.1,6,10,32,30,2,0)
type^^S^20
"DATA",998.1,6,10,32,30,2,10)
drugadmin
"DATA",998.1,6,10,32,30,3,0)
causalityExpectation^^N^30
"DATA",998.1,6,10,32,30,4,0)
substance^.01^C^40
"DATA",998.1,6,10,32,30,4,10)
D REF(PN,"Substance",.VL,"50.416:")
"DATA",998.1,6,10,33,0)
AdverseReaction_Class^1^120.803
"DATA",998.1,6,10,33,30,0)
^998.12I^4^4
"DATA",998.1,6,10,33,30,1,0)
date^^D^10
"DATA",998.1,6,10,33,30,2,0)
type^^S^20
"DATA",998.1,6,10,33,30,2,10)
drugadmin
"DATA",998.1,6,10,33,30,3,0)
causalityExpectation^^N^30
"DATA",998.1,6,10,33,30,4,0)
substance^.01^C^40
"DATA",998.1,6,10,33,30,4,10)
D REF(PN,"Substance",.VL,"50.605:")
"DATA",998.1,6,10,34,0)
Substance
"DATA",998.1,6,10,34,10)
D COMPID^RGSERGET
"DATA",998.1,6,10,34,30,0)
^998.12I^1^1
"DATA",998.1,6,10,34,30,1,0)
id^@id^R^1
"DATA",998.1,6,10,35,0)
Patient/#/AdverseReaction
"DATA",998.1,6,10,35,10)
D COMPRT($NA(^GMR(120.8,"B")))
"DATA",998.1,6,10,36,0)
Substance_50^1^50
"DATA",998.1,6,10,36,30,0)
^998.12I^4^4
"DATA",998.1,6,10,36,30,1,0)
type^.01^C^10
"DATA",998.1,6,10,36,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,6,10,36,30,2,0)
description^^W^20
"DATA",998.1,6,10,36,30,3,0)
instance^^N^30
"DATA",998.1,6,10,36,30,4,0)
ingredient^^N^40
"DATA",998.1,6,10,37,0)
Substance_50.416^1^50.416
"DATA",998.1,6,10,37,30,0)
^998.12I^4^4
"DATA",998.1,6,10,37,30,1,0)
type^.01^C^10
"DATA",998.1,6,10,37,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,6,10,37,30,2,0)
description^^W^20
"DATA",998.1,6,10,37,30,3,0)
instance^^N^30
"DATA",998.1,6,10,37,30,4,0)
ingredient^^N^40
"DATA",998.1,6,10,38,0)
Substance_50.6^1^50.6
"DATA",998.1,6,10,38,30,0)
^998.12I^4^4
"DATA",998.1,6,10,38,30,1,0)
type^.01^C^10
"DATA",998.1,6,10,38,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,6,10,38,30,2,0)
description^^W^20
"DATA",998.1,6,10,38,30,3,0)
instance^^N^30
"DATA",998.1,6,10,38,30,4,0)
ingredient^^N^40
"DATA",998.1,6,10,39,0)
Substance_50.605^1^50.605
"DATA",998.1,6,10,39,30,0)
^998.12I^4^4
"DATA",998.1,6,10,39,30,1,0)
type^.01^C^10
"DATA",998.1,6,10,39,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,6,10,39,30,2,0)
description^^W^20
"DATA",998.1,6,10,39,30,3,0)
instance^^N^30
"DATA",998.1,6,10,39,30,4,0)
ingredient^^N^40
"DATA",998.1,6,10,40,0)
Substance_120.82^1^120.82
"DATA",998.1,6,10,40,30,0)
^998.12I^4^4
"DATA",998.1,6,10,40,30,1,0)
type^.01^C^10
"DATA",998.1,6,10,40,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,6,10,40,30,2,0)
description^^W^20
"DATA",998.1,6,10,40,30,3,0)
instance^^N^30
"DATA",998.1,6,10,40,30,4,0)
ingredient^^N^40
"DATA",998.1,6,10,41,0)
Immunization^^9000010.11
"DATA",998.1,6,10,41,30,0)
^998.12I^19^19
"DATA",998.1,6,10,41,30,1,0)
identifier^^N^10
"DATA",998.1,6,10,41,30,2,0)
date^1201,.03~.01^C^20
"DATA",998.1,6,10,41,30,2,10)
D PUTDT(PN,$S(VL:VL("I"),1:VL(2,"I")))
"DATA",998.1,6,10,41,30,3,0)
vaccineType^.01^C^30
"DATA",998.1,6,10,41,30,3,10)
D CODING(PN,"#9999999.14",VL("I"),VL("E"))
"DATA",998.1,6,10,41,30,4,0)
patient^.02^C^40
"DATA",998.1,6,10,41,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,6,10,41,30,5,0)
wasNotGiven^^S^50
"DATA",998.1,6,10,41,30,5,10)
false
"DATA",998.1,6,10,41,30,6,0)
reported^^S^60
"DATA",998.1,6,10,41,30,6,10)
false
"DATA",998.1,6,10,41,30,7,0)
performer^1204^C^70
"DATA",998.1,6,10,41,30,7,10)
D:VL REF(PN,"Practitioner",.VL)
"DATA",998.1,6,10,41,30,8,0)
requester^1202^C^80
"DATA",998.1,6,10,41,30,8,10)
D:VL REF(PN,"Practitioner",.VL)
"DATA",998.1,6,10,41,30,9,0)
manufacturer^^N^90
"DATA",998.1,6,10,41,30,10,0)
location^.03~.22^C^100
"DATA",998.1,6,10,41,30,10,10)
D REF(PN,"Location",.VL)
"DATA",998.1,6,10,41,30,11,0)
lotNumber^^N^110
"DATA",998.1,6,10,41,30,12,0)
expirationDate^^D^120
"DATA",998.1,6,10,41,30,13,0)
site^^N^130
"DATA",998.1,6,10,41,30,14,0)
route^^N^140
"DATA",998.1,6,10,41,30,15,0)
doseQuantity^^N^150
"DATA",998.1,6,10,41,30,16,0)
explanation^^N^160
"DATA",998.1,6,10,41,30,17,0)
reaction^^N^170
"DATA",998.1,6,10,41,30,18,0)
vaccinationProtocol^^N^180
"DATA",998.1,6,10,41,30,19,0)
id^@id^R^1
"DATA",998.1,6,10,41,40,0)
^998.13I^3^3
"DATA",998.1,6,10,41,40,1,0)
patient^.02^R^10
"DATA",998.1,6,10,41,40,1,20)
S X=$$COHORT(PN,$NA(^AUPNVIMM("C")))
"DATA",998.1,6,10,41,40,2,0)
patient:Patient^.02^R^10
"DATA",998.1,6,10,41,40,2,20)
S X=$$COHORT(PN,$NA(^AUPNVIMM("C")))
"DATA",998.1,6,10,41,40,3,0)
_id^@ien^T^30
"DATA",998.1,6,10,42,0)
Patient/#/Immunization
"DATA",998.1,6,10,42,10)
D COMPRT($NA(^AUPNVIMM("C")))
"DATA",998.1,6,10,43,0)
Flag^^26.13
"DATA",998.1,6,10,43,30,0)
^998.12I^7^7
"DATA",998.1,6,10,43,30,1,0)
identifier^^N^10
"DATA",998.1,6,10,43,30,2,0)
category^.02^C^20
"DATA",998.1,6,10,43,30,2,10)
D CODING(PN,"#26.13",$$VP2ID(VL("I")),VL("E"))
"DATA",998.1,6,10,43,30,3,0)
status^.03^C^30
"DATA",998.1,6,10,43,30,3,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,6,10,43,30,4,0)
patient^.01^C^40
"DATA",998.1,6,10,43,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,6,10,43,30,5,0)
author^^N^50
"DATA",998.1,6,10,43,30,6,0)
code:text^1^W^60
"DATA",998.1,6,10,43,30,7,0)
id^@id^R^1
"DATA",998.1,6,10,43,40,0)
^998.13I^3^3
"DATA",998.1,6,10,43,40,1,0)
_id^@ien^T^10
"DATA",998.1,6,10,43,40,2,0)
patient^.01^R^20
"DATA",998.1,6,10,43,40,2,20)
S X=$NA(^DGPF(26.13,"B",RGNETREQ("PARAMS",PN,1,1)))
"DATA",998.1,6,10,43,40,3,0)
patient:Patient^.01^R^20
"DATA",998.1,6,10,43,40,3,20)
S X=$NA(^DGPF(26.13,"B",RGNETREQ("PARAMS",PN,1,1)))
"DATA",998.1,6,10,44,0)
Patient/#/Flag
"DATA",998.1,6,10,44,10)
D COMPRT($NA(^DGPF(26.13,"B")))
"DATA",998.1,6,10,45,0)
Communication^^8992.1
"DATA",998.1,6,10,45,20)
S:ID'=+ID IENS=$O(^XTV(8992.1,"B",ID,0))_","
"DATA",998.1,6,10,45,30,0)
^998.12I^15^15
"DATA",998.1,6,10,45,30,1,0)
identifier^^N^10
"DATA",998.1,6,10,45,30,2,0)
category^^N^20
"DATA",998.1,6,10,45,30,3,0)
status^^N^70
"DATA",998.1,6,10,45,30,4,0)
subject^.04^C^120
"DATA",998.1,6,10,45,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,6,10,45,30,5,0)
sender^.05^C^30
"DATA",998.1,6,10,45,30,5,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,6,10,45,30,6,0)
payload:contentString^1.01^F^50
"DATA",998.1,6,10,45,30,7,0)
@id^.01^N^1
"DATA",998.1,6,10,45,30,8,0)
recipient^20^M^40
"DATA",998.1,6,10,45,30,8,10)
*/Communication_Recipient
"DATA",998.1,6,10,45,30,9,0)
medium^^N^60
"DATA",998.1,6,10,45,30,10,0)
encounter^^N^80
"DATA",998.1,6,10,45,30,11,0)
sent^^D^90
"DATA",998.1,6,10,45,30,12,0)
received^^D^100
"DATA",998.1,6,10,45,30,13,0)
reason^^N^110
"DATA",998.1,6,10,45,30,14,0)
payload:contentString^4^W^50.1
"DATA",998.1,6,10,45,30,14,10)
%0D%0A
"DATA",998.1,6,10,45,30,15,0)
id^@id^R^1
"DATA",998.1,6,10,45,40,0)
^998.13I^4^4
"DATA",998.1,6,10,45,40,1,0)
_id^.01^T^10
"DATA",998.1,6,10,45,40,1,20)
S X=$NA(^XTV(8992.1,"B",RGNETREQ("PARAMS",PN,1,1)))
"DATA",998.1,6,10,45,40,2,0)
subject^.04^R^20
"DATA",998.1,6,10,45,40,2,20)
S X=$NA(^XTV(8992.1,"C",RGNETREQ("PARAMS",PN,1,1)))
"DATA",998.1,6,10,45,40,3,0)
subject:Patient^.04^R^20
"DATA",998.1,6,10,45,40,3,20)
S X=$NA(^XTV(8992.1,"C",RGNETREQ("PARAMS",PN,1,1)))
"DATA",998.1,6,10,45,40,4,0)
@selector^^S^100
"DATA",998.1,6,10,45,40,4,20)
S X=$NA(^XTV(8992.1,"R",DUZ))
"DATA",998.1,6,10,46,0)
Patient/#/Communication
"DATA",998.1,6,10,46,10)
D COMPRT($NA(^XTV(8992.1,"C")))
"DATA",998.1,6,10,47,0)
Communication_Recipient^1^8992.11
"DATA",998.1,6,10,47,30,0)
^998.12I^1^1
"DATA",998.1,6,10,47,30,1,0)
contentReference^.01^C^10
"DATA",998.1,6,10,47,30,1,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,6,10,48,0)
metadata
"DATA",998.1,6,10,48,10)
D TEMPLATE^RGSERGET("CONFORMANCE")
"DATA",998.1,6,10,48,50,0)
^998.15^3^3
"DATA",998.1,6,10,48,50,1,0)
CONFORMANCE
"DATA",998.1,6,10,48,50,1,1,0)
^^28^28^3171020.105719
"DATA",998.1,6,10,48,50,1,1,1,0)
<CapabilityStatement>
"DATA",998.1,6,10,48,50,1,1,2,0)
  <text>
"DATA",998.1,6,10,48,50,1,1,3,0)
    <status value="generated"/>
"DATA",998.1,6,10,48,50,1,1,4,0)
  </text>
"DATA",998.1,6,10,48,50,1,1,5,0)
  <publisher value="|@$P($$SITE^VASITE,U,2)|"/>
"DATA",998.1,6,10,48,50,1,1,6,0)
  <date value="|@$$FMTDATE^RGSER|"/>
"DATA",998.1,6,10,48,50,1,1,7,0)
  <software>
"DATA",998.1,6,10,48,50,1,1,8,0)
    <name value="VistA Serialization Framework"/>
"DATA",998.1,6,10,48,50,1,1,9,0)
    <version value="|@$$VERSION^XPDUTL("RGSE")|"/>
"DATA",998.1,6,10,48,50,1,1,10,0)
  </software>
"DATA",998.1,6,10,48,50,1,1,11,0)
  <implementation>
"DATA",998.1,6,10,48,50,1,1,12,0)
    <description value="VistA (|@RGSER("SERNM")|)"/>
"DATA",998.1,6,10,48,50,1,1,13,0)
  </implementation>
"DATA",998.1,6,10,48,50,1,1,14,0)
  <fhirVersion value="|@RGSER("VER")|"/>
"DATA",998.1,6,10,48,50,1,1,15,0)
  <acceptUnknown value="extensions"/>
"DATA",998.1,6,10,48,50,1,1,16,0)
  <format value="application/xml+fhir"/> 
"DATA",998.1,6,10,48,50,1,1,17,0)
  <rest>
"DATA",998.1,6,10,48,50,1,1,18,0)
    <mode value="server"/>
"DATA",998.1,6,10,48,50,1,1,19,0)
    <security>
"DATA",998.1,6,10,48,50,1,1,20,0)
      <extension url="http://fhir-registry.smarthealthit.org/Profile/oauth-uris#authorize">
"DATA",998.1,6,10,48,50,1,1,21,0)
        <valueUri value="|@$$HOSTURL^RGNETWWW("oauth2/authorize")|" />
"DATA",998.1,6,10,48,50,1,1,22,0)
      </extension>
"DATA",998.1,6,10,48,50,1,1,23,0)
      <extension url="http://fhir-registry.smarthealthit.org/Profile/oauth-uris#token">
"DATA",998.1,6,10,48,50,1,1,24,0)
        <valueUri value="|@$$HOSTURL^RGNETWWW("oauth2/token")|" />
"DATA",998.1,6,10,48,50,1,1,25,0)
      </extension>
"DATA",998.1,6,10,48,50,1,1,26,0)
    </security>
"DATA",998.1,6,10,48,50,1,1,27,0)
|#$$RESCONF^RGSEFHIR|  </rest>
"DATA",998.1,6,10,48,50,1,1,28,0)
</CapabilityStatement> 
"DATA",998.1,6,10,48,50,2,0)
CONFORMANCE_RESOURCE
"DATA",998.1,6,10,48,50,2,1,0)
^998.151^6^6^3171020^^^
"DATA",998.1,6,10,48,50,2,1,1,0)
    <resource>
"DATA",998.1,6,10,48,50,2,1,2,0)
      <type value="|@RESNAME|"/>
"DATA",998.1,6,10,48,50,2,1,3,0)
      <interaction>
"DATA",998.1,6,10,48,50,2,1,4,0)
       <code value="read"/>
"DATA",998.1,6,10,48,50,2,1,5,0)
      </interaction>
"DATA",998.1,6,10,48,50,2,1,6,0)
|#$$SRPCONF^RGSEFHIR|    </resource> 
"DATA",998.1,6,10,48,50,3,0)
CONFORMANCE_PARAMETER
"DATA",998.1,6,10,48,50,3,1,0)
^998.151^4^4^3171020^^^^
"DATA",998.1,6,10,48,50,3,1,1,0)
        <searchParam>
"DATA",998.1,6,10,48,50,3,1,2,0)
          <name value="|@SRPNAME|"/>
"DATA",998.1,6,10,48,50,3,1,3,0)
          <type value="|@SRPTYPE|"/>
"DATA",998.1,6,10,48,50,3,1,4,0)
        </searchParam>
"DATA",998.1,6,10,49,0)
Person_Address^1^200
"DATA",998.1,6,10,49,30,0)
^998.12I^8^7
"DATA",998.1,6,10,49,30,1,0)
use^^S^10
"DATA",998.1,6,10,49,30,1,10)
home
"DATA",998.1,6,10,49,30,2,0)
line!1^.111^F^20
"DATA",998.1,6,10,49,30,3,0)
line!2^.112^F^20.1
"DATA",998.1,6,10,49,30,4,0)
line!3^.113^F^20.2
"DATA",998.1,6,10,49,30,5,0)
city^.114^F^50
"DATA",998.1,6,10,49,30,6,0)
state^.115^F^60
"DATA",998.1,6,10,49,30,8,0)
postalCode^.116^F^80
"DATA",998.1,6,10,50,0)
OperationOutcome^^.84
"DATA",998.1,6,10,50,21)
K:$G(VALS(FILE,IENS,"1.2~1","E"))'="RGSE" VALS
"DATA",998.1,6,10,50,30,0)
^998.12I^8^8
"DATA",998.1,6,10,50,30,1,0)
issue!start^^C^10
"DATA",998.1,6,10,50,30,1,10)
D NEWTAG(PN)
"DATA",998.1,6,10,50,30,2,0)
issue!end^^C^10.9
"DATA",998.1,6,10,50,30,2,10)
D ENDTAG(PN)
"DATA",998.1,6,10,50,30,3,0)
severity^1^C^10.1
"DATA",998.1,6,10,50,30,3,10)
D PUT(PN,$S($G(VL("I"))=1:"error",1:"information"))
"DATA",998.1,6,10,50,30,4,0)
code^1.3^C^10.2
"DATA",998.1,6,10,50,30,4,10)
D CODING(PN,"http://hl7.org/fhir/issue-type",$P(VL("E"),":",2),$P(VL("E"),":",3))
"DATA",998.1,6,10,50,30,5,0)
details^2^W^10.3
"DATA",998.1,6,10,50,30,5,10)
%20
"DATA",998.1,6,10,50,30,6,0)
location^^N^10.4
"DATA",998.1,6,10,50,30,7,0)
text^4^T^5
"DATA",998.1,6,10,50,30,7,10)
TEXT
"DATA",998.1,6,10,50,30,8,0)
@package^1.2~1^N^1
"DATA",998.1,6,10,50,40,0)
^998.13I^2^2
"DATA",998.1,6,10,50,40,1,0)
_id^@ien^T^10
"DATA",998.1,6,10,50,40,2,0)
@selector^^T^1
"DATA",998.1,6,10,50,40,2,20)
S X=$NA(^DI(.84,"C",$$LKPKG^XPDUTL("RGSE")))
"DATA",998.1,6,10,50,50,0)
^998.15^1^1
"DATA",998.1,6,10,50,50,1,0)
TEXT
"DATA",998.1,6,10,50,50,1,1,0)
^^10^10^3150420.111019
"DATA",998.1,6,10,50,50,1,1,1,0)
<text>
"DATA",998.1,6,10,50,50,1,1,2,0)
<status value="generated"/>
"DATA",998.1,6,10,50,50,1,1,3,0)
<div xmlns="http://www.w3.org/1999/xhtml">
"DATA",998.1,6,10,50,50,1,1,4,0)
<table style='margin:5px;border:1px solid black'>
"DATA",998.1,6,10,50,50,1,1,5,0)
<tr style='background:lightgray'><td><h1>Operation Outcome (|\@ien|)</h1></td></tr>
"DATA",998.1,6,10,50,50,1,1,6,0)
<tr><td style='border-bottom:1px solid black'><pre>|2,W|</pre></td></tr>
"DATA",998.1,6,10,50,50,1,1,7,0)
<tr><td><pre>|4,W|</pre></td></tr>
"DATA",998.1,6,10,50,50,1,1,8,0)
</table>
"DATA",998.1,6,10,50,50,1,1,9,0)
</div>
"DATA",998.1,6,10,50,50,1,1,10,0)
</text> 
"DATA",998.1,6,10,51,0)
Order^^100
"DATA",998.1,6,10,51,30,0)
^998.12I^9^9
"DATA",998.1,6,10,51,30,1,0)
identifier^^N^10
"DATA",998.1,6,10,51,30,2,0)
date^4^D^20
"DATA",998.1,6,10,51,30,3,0)
subject^.02^C^30
"DATA",998.1,6,10,51,30,3,10)
D:VL("I")["DPT" REF2(PN,"Patient",+VL("I"),VL("E"))
"DATA",998.1,6,10,51,30,4,0)
source^1^C^40
"DATA",998.1,6,10,51,30,4,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,6,10,51,30,5,0)
target^^N^50
"DATA",998.1,6,10,51,30,6,0)
reason^^N^60
"DATA",998.1,6,10,51,30,7,0)
authority^^N^70
"DATA",998.1,6,10,51,30,8,0)
when^^N^80
"DATA",998.1,6,10,51,30,9,0)
detail:reference^@ien^C^90
"DATA",998.1,6,10,51,30,9,10)
D PUT(PN,"DiagnosticOrder/"_VL("I"))
"DATA",998.1,6,10,52,0)
DiagnosticRequest
"DATA",998.1,6,10,53,0)
FamilyMemberHistory^^9000014.1
"DATA",998.1,6,10,53,30,0)
^998.12I^13^11
"DATA",998.1,6,10,53,30,1,0)
identifier^^N^10
"DATA",998.1,6,10,53,30,2,0)
patient^.02^C^20
"DATA",998.1,6,10,53,30,2,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,6,10,53,30,3,0)
date!captured^.09^D^30
"DATA",998.1,6,10,53,30,4,0)
name^.03^F^25
"DATA",998.1,6,10,53,30,7,0)
born^^N^60
"DATA",998.1,6,10,53,30,8,0)
ageRange^.05^N^70
"DATA",998.1,6,10,53,30,9,0)
deceasedBoolean^.04^C^80
"DATA",998.1,6,10,53,30,9,10)
D:VL("I")="D" PUTBL^RGSEXML(PN,1)
"DATA",998.1,6,10,53,30,10,0)
note^^N^90
"DATA",998.1,6,10,53,30,11,0)
condition^@ien^C^100
"DATA",998.1,6,10,53,30,11,10)
D GET^RGSERGET(.RGSER,"*/FamilyMemberHistory_Condition",$NA(^AUPNFH("AE",VL("I"))),PN)
"DATA",998.1,6,10,53,30,12,0)
relationship^.01~2104,.01~.01^C^40
"DATA",998.1,6,10,53,30,12,10)
D:VL CODING(PN,"http://hl7.org/fhir/familial-relationship",VL("I"),VL(2,"I"))
"DATA",998.1,6,10,53,30,13,0)
date!updated^.11^D^30.1
"DATA",998.1,6,10,53,40,0)
^998.13I^2^2
"DATA",998.1,6,10,53,40,1,0)
_id^@ien^T^30
"DATA",998.1,6,10,53,40,2,0)
patient^.02^R^10
"DATA",998.1,6,10,53,40,2,20)
S X=$$COHORT(PN,$NA(^AUPNFHR("AA")),1)
"DATA",998.1,6,10,54,0)
FamilyMemberHistory_Condition^1^9000014
"DATA",998.1,6,10,54,30,0)
^998.12I^7^7
"DATA",998.1,6,10,54,30,1,0)
type!start^^C^10
"DATA",998.1,6,10,54,30,1,10)
D NEWTAG(PN)
"DATA",998.1,6,10,54,30,2,0)
outcome^^N^20
"DATA",998.1,6,10,54,30,3,0)
onsetAge^.05^C^30
"DATA",998.1,6,10,54,30,3,10)
D:VL NEWTAG(PN),PUT("value",VL("I")),PUT("units","a"),PUT("system","http://unitsofmeasure.org"),ENDTAG(PN)
"DATA",998.1,6,10,54,30,4,0)
note^.04^C^40
"DATA",998.1,6,10,54,30,4,10)
D:VL PUT(PN,$TR(VL("E"),"|"))
"DATA",998.1,6,10,54,30,5,0)
type!icd9^.01,.01~3^C^10.2
"DATA",998.1,6,10,54,30,5,10)
D CODING(,"http://hl7.org/fhir/sid/icd-9",VL("E"),VL(2,"E"))
"DATA",998.1,6,10,54,30,6,0)
type!sct^.13,.14^C^10.1
"DATA",998.1,6,10,54,30,6,10)
I VL N DX S DX=$S($L($T(^BSTSAPIA)):$P($$DESC^BSTSAPIA($G(VL(2,"I"))),U,2),1:"") D CODING(,"http://snomed.info/sct",VL("I"),DX)
"DATA",998.1,6,10,54,30,7,0)
type!end^^C^10.9
"DATA",998.1,6,10,54,30,7,10)
D ENDTAG(PN)
"DATA",998.1,6,10,55,0)
Patient/#/FamilyMemberHistory
"DATA",998.1,6,10,55,10)
D COMPRT($NA(^AUPNFHR("AA")),,1)
"DATA",998.1,6,10,56,0)
Patient_Congregation^1^13
"DATA",998.1,6,10,56,30,0)
^998.12I^2^2
"DATA",998.1,6,10,56,30,1,0)
valueString^.01^F^10
"DATA",998.1,6,10,56,30,2,0)
attr:url^^N^1
"DATA",998.1,6,10,56,30,2,10)
http://hl7.org/fhir/StructureDefinition/patient-congregation
"DATA",998.1,6,20,0)
^998.14^5^5^3171020^^^^
"DATA",998.1,6,20,1,0)
Access-Control-Allow-Credentials: true
"DATA",998.1,6,20,2,0)
Access-Control-Allow-Headers: origin, authorization, accept, content-type, x-requested-with
"DATA",998.1,6,20,3,0)
Access-Control-Allow-Methods: GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS
"DATA",998.1,6,20,4,0)
Access-Control-Allow-Origin: *
"DATA",998.1,6,20,5,0)
Cache-Control: max-age=0
"DATA",998.1,6,99,0)
^998.199^29^29^3171020^
"DATA",998.1,6,99,1,0)
This is the base URL for the STU3 XML FHIR endpoint. 
"DATA",998.1,6,99,2,0)

"DATA",998.1,6,99,3,0)
<p><em>Note:</em> as STU3 is undergoing constant revision, resources returned 
"DATA",998.1,6,99,4,0)
from this endpoint may or may not comply with the most current STU3 
"DATA",998.1,6,99,5,0)
specification.
"DATA",998.1,6,99,6,0)

"DATA",998.1,6,99,7,0)
<hr> 
"DATA",998.1,6,99,8,0)

"DATA",998.1,6,99,9,0)
This service is supported by the <b>VistA Serialization Framework</b>, 
"DATA",998.1,6,99,10,0)
developed by Doug Martin of the <a href="http://www.regenstrief.org"
"DATA",998.1,6,99,11,0)
target="_blank">Regenstrief Institute.<a>
"DATA",998.1,6,99,12,0)

"DATA",998.1,6,99,13,0)
<p>
"DATA",998.1,6,99,14,0)

"DATA",998.1,6,99,15,0)
It is freely available as open source under the 
"DATA",998.1,6,99,16,0)
<a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License, Version 2.0</a>:
"DATA",998.1,6,99,17,0)

"DATA",998.1,6,99,18,0)
<ul> 
"DATA",998.1,6,99,19,0)
<li> The FHIR conformance document is available
"DATA",998.1,6,99,20,0)
  <a href="/STU3/metadata" target="_blank">here</a>
"DATA",998.1,6,99,21,0)
</li>
"DATA",998.1,6,99,22,0)
<li> The complete source may be downloaded 
"DATA",998.1,6,99,23,0)
  <a href="https://github.com/mdgeek/VistA-Serialization-Framework" 
"DATA",998.1,6,99,24,0)
     target="_blank">here.</a>
"DATA",998.1,6,99,25,0)
</li>
"DATA",998.1,6,99,26,0)
<li> A working virtual machine may be built from this
"DATA",998.1,6,99,27,0)
  <a href="https://github.com/mdgeek/VistA-FHIR-CWF"
"DATA",998.1,6,99,28,0)
     target="_blank">source.</a>
"DATA",998.1,6,99,29,0)
</ul>
"DATA",998.1,7,0)
STU3^application/fhir+json,application/json,text/json,json^RGSEFHIJ^1.8.0
"DATA",998.1,7,10,0)
^998.11^51^51
"DATA",998.1,7,10,1,0)
Binary
"DATA",998.1,7,10,1,10)
D COMPID^RGSERGET
"DATA",998.1,7,10,2,0)
Binary_8925^1^8925
"DATA",998.1,7,10,2,30,0)
^998.12I^3^3
"DATA",998.1,7,10,2,30,1,0)
@content^^C^10
"DATA",998.1,7,10,2,30,1,10)
D TOBINARY^RGSERDOC(IEN,",""content"":""","""")
"DATA",998.1,7,10,2,30,2,0)
attr:contentType^^N^1
"DATA",998.1,7,10,2,30,2,10)
text/plain
"DATA",998.1,7,10,2,30,3,0)
id^@ienx^R^1
"DATA",998.1,7,10,3,0)
Condition^^9000011
"DATA",998.1,7,10,3,30,0)
^998.12I^9^9
"DATA",998.1,7,10,3,30,1,0)
patient^.02^C^10
"DATA",998.1,7,10,3,30,1,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,7,10,3,30,2,0)
code!start^^C^20
"DATA",998.1,7,10,3,30,2,10)
D NEWOBJ(PN),NEWARY("coding")
"DATA",998.1,7,10,3,30,3,0)
coding^.01^O^20.1
"DATA",998.1,7,10,3,30,3,10)
*/ICD9
"DATA",998.1,7,10,3,30,4,0)
code!end^.05^C^20.2
"DATA",998.1,7,10,3,30,4,10)
D ENDARY("coding"),PUT("text",VL("E")),ENDOBJ(PN)
"DATA",998.1,7,10,3,30,5,0)
category^^N^30
"DATA",998.1,7,10,3,30,6,0)
clinicalStatus^.12^C^40
"DATA",998.1,7,10,3,30,6,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,7,10,3,30,7,0)
onsetDate^.13^D^50
"DATA",998.1,7,10,3,30,8,0)
abatementDate^1.07^D^60
"DATA",998.1,7,10,3,30,9,0)
id^@id^R^1
"DATA",998.1,7,10,3,40,0)
^998.13I^4^4
"DATA",998.1,7,10,3,40,1,0)
patient^.02^R^10
"DATA",998.1,7,10,3,40,1,20)
S X=$$COHORT(PN,$NA(^AUPNPROB("AC")))
"DATA",998.1,7,10,3,40,2,0)
onset^.13^D^20
"DATA",998.1,7,10,3,40,3,0)
patient:Patient^.02^R^10
"DATA",998.1,7,10,3,40,3,20)
S X=$$COHORT(PN,$NA(^AUPNPROB("AC")))
"DATA",998.1,7,10,3,40,4,0)
_id^@ien^T^30
"DATA",998.1,7,10,4,0)
DocumentReference^^8925
"DATA",998.1,7,10,4,30,0)
^998.12I^26^25
"DATA",998.1,7,10,4,30,1,0)
description^1701^F^140
"DATA",998.1,7,10,4,30,2,0)
type^.01^C^40
"DATA",998.1,7,10,4,30,2,10)
D CODING(PN,"#8925.1",VL("I"),VL("E"))
"DATA",998.1,7,10,4,30,3,0)
subject^.02^C^30
"DATA",998.1,7,10,4,30,3,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,7,10,4,30,4,0)
author^1202^C^60
"DATA",998.1,7,10,4,30,4,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,7,10,4,30,5,0)
contentType!content^^S^200.1
"DATA",998.1,7,10,4,30,5,10)
text/plain
"DATA",998.1,7,10,4,30,6,0)
created^1201^D^100
"DATA",998.1,7,10,4,30,7,0)
context^.07,.08^C^110
"DATA",998.1,7,10,4,30,7,10)
D NEWOBJ(PN),PERIOD(VL("I"),VL(2,"I")),ENDOBJ(PN)
"DATA",998.1,7,10,4,30,9,0)
url!content^@ien^C^200.4
"DATA",998.1,7,10,4,30,9,10)
D PUT(PN,$$HOSTURL^RGNETWWW("*/Binary/8925-"_VL("I")))
"DATA",998.1,7,10,4,30,10,0)
masterIdentifier^@ien^C^10
"DATA",998.1,7,10,4,30,10,10)
D NEWOBJ(PN),PUT("value",$$SYSUUID^RGNETWWW_"/Document/"_VL("I")),ENDOBJ(PN)
"DATA",998.1,7,10,4,30,11,0)
status^.05~.02^C^120
"DATA",998.1,7,10,4,30,11,10)
N X S X=VL("I") D PUT(PN,$S("rd"[X:"entered-in-error",1:"current"))
"DATA",998.1,7,10,4,30,12,0)
id^@id^R^1
"DATA",998.1,7,10,4,30,13,0)
identifier^^N^20
"DATA",998.1,7,10,4,30,14,0)
class^^N^50
"DATA",998.1,7,10,4,30,15,0)
custodian^^N^70
"DATA",998.1,7,10,4,30,16,0)
title!content^^N^200.7
"DATA",998.1,7,10,4,30,17,0)
authenticator^^N^90
"DATA",998.1,7,10,4,30,18,0)
indexed^1201^D^110
"DATA",998.1,7,10,4,30,19,0)
docStatus^^N^130
"DATA",998.1,7,10,4,30,20,0)
confidentiality^^N^150
"DATA",998.1,7,10,4,30,21,0)
language!content^^N^200.2
"DATA",998.1,7,10,4,30,22,0)
format^^N^180
"DATA",998.1,7,10,4,30,23,0)
size!content^^N^200.5
"DATA",998.1,7,10,4,30,24,0)
hash!content^^N^200.6
"DATA",998.1,7,10,4,30,25,0)
content!start^^C^200
"DATA",998.1,7,10,4,30,25,10)
D NEWARY(PN),NEWOBJ(PN)
"DATA",998.1,7,10,4,30,26,0)
content!end^^C^200.9
"DATA",998.1,7,10,4,30,26,10)
D ENDARY(PN)
"DATA",998.1,7,10,4,40,0)
^998.13I^6^6
"DATA",998.1,7,10,4,40,1,0)
subject:Patient^.02^R^10
"DATA",998.1,7,10,4,40,1,20)
S X=$$COHORT(PN,$NA(^TIU(8925,"C")))
"DATA",998.1,7,10,4,40,2,0)
period^1301^D^20
"DATA",998.1,7,10,4,40,3,0)
type^.01^T^30
"DATA",998.1,7,10,4,40,4,0)
author^1202^R^40
"DATA",998.1,7,10,4,40,5,0)
_id^@ien^T^50
"DATA",998.1,7,10,4,40,6,0)
indexed^1301^D^60
"DATA",998.1,7,10,5,0)
Encounter^^9000010
"DATA",998.1,7,10,5,30,0)
^998.12I^10^9
"DATA",998.1,7,10,5,30,1,0)
status^^C^10
"DATA",998.1,7,10,5,30,1,10)
D PUT(PN,$$GETSTAT^RGSERENC(IEN))
"DATA",998.1,7,10,5,30,2,0)
class^.07^C^20
"DATA",998.1,7,10,5,30,2,10)
N X S X=VL("I") D PUT(PN,$S(X="H":"inpatient",X="A":"ambulatory",1:"virtual"))
"DATA",998.1,7,10,5,30,3,0)
subject^.05^C^30
"DATA",998.1,7,10,5,30,3,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,7,10,5,30,4,0)
period^.01,.18^C^70
"DATA",998.1,7,10,5,30,4,10)
D PERIOD(VL("I"),VL(2,"I"))
"DATA",998.1,7,10,5,30,6,0)
location^.01,.18,.22^C^60
"DATA",998.1,7,10,5,30,6,10)
D:VL(3) NEWARY(PN),NEWOBJ,REF2(,"Location",VL(3,"I"),VL(3,"E")),ENDARY(PN)
"DATA",998.1,7,10,5,30,7,0)
identifier!visitid^15001^C^40
"DATA",998.1,7,10,5,30,7,10)
D NEWARY(PN),IDENT("@identifiers/visits",VL("I"),PN(0),"official"),ENDARY(PN)
"DATA",998.1,7,10,5,30,8,0)
type^.07^C^80
"DATA",998.1,7,10,5,30,8,10)
D NEWARY(PN),CODING(PN,"@types/visits",VL("I"),VL("E")),ENDARY(PN)
"DATA",998.1,7,10,5,30,9,0)
participant^^C^90
"DATA",998.1,7,10,5,30,9,10)
D GET^RGSERGET(.RGSER,"*/Encounter_Participant",$NA(^AUPNVPRV("AD",IEN)),PN)
"DATA",998.1,7,10,5,30,10,0)
id^@id^R^1
"DATA",998.1,7,10,5,40,0)
^998.13I^5^4
"DATA",998.1,7,10,5,40,1,0)
patient^.05^R^10
"DATA",998.1,7,10,5,40,1,20)
S X=$$COHORT(PN,$NA(^AUPNVSIT("C")))
"DATA",998.1,7,10,5,40,2,0)
type^.07^T^20
"DATA",998.1,7,10,5,40,3,0)
date^.01,.18^D^20
"DATA",998.1,7,10,5,40,5,0)
_id^@ien^T^30
"DATA",998.1,7,10,6,0)
Encounter_Participant^1^9000010.06
"DATA",998.1,7,10,6,30,0)
^998.12I^3^3
"DATA",998.1,7,10,6,30,1,0)
type^.04^C^10
"DATA",998.1,7,10,6,30,1,10)
D:VL CODING(PN,"http://hl7.org/fhir/v3/ParticipationType",VL("I")_"PRF",VL("E"))
"DATA",998.1,7,10,6,30,2,0)
individual^.01^C^20
"DATA",998.1,7,10,6,30,2,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,7,10,6,30,3,0)
type^.05^C^10.1
"DATA",998.1,7,10,6,30,3,10)
D:VL CODING(PN,"http://hl7.org/fhir/v3/ParticipationType",$S(VL("I")="A":"ATND",1:"PRF"),VL("E"))
"DATA",998.1,7,10,7,0)
ICD9^1^80
"DATA",998.1,7,10,7,30,0)
^998.12I^3^3
"DATA",998.1,7,10,7,30,1,0)
system^^C^20
"DATA",998.1,7,10,7,30,1,10)
D PUT("system","http://hl7.org/fhir/sid/icd-9")
"DATA",998.1,7,10,7,30,2,0)
code^.01^F^30
"DATA",998.1,7,10,7,30,3,0)
display^@ien^C^40
"DATA",998.1,7,10,7,30,3,10)
D PUT(PN,$$VSTD^ICDCODE(IEN))
"DATA",998.1,7,10,8,0)
Location^^44
"DATA",998.1,7,10,8,30,0)
^998.12I^10^10
"DATA",998.1,7,10,8,30,1,0)
name^.01^F^10
"DATA",998.1,7,10,8,30,2,0)
description^10^F^20
"DATA",998.1,7,10,8,30,3,0)
managingOrganization^3^C^30
"DATA",998.1,7,10,8,30,3,10)
D REF(PN,"Organization",.VL)
"DATA",998.1,7,10,8,30,4,0)
telecom!phone:work^99^C^40.1
"DATA",998.1,7,10,8,30,4,10)
D TELECOM
"DATA",998.1,7,10,8,30,5,0)
telecom!start^^C^40
"DATA",998.1,7,10,8,30,5,10)
D NEWARY(PN)
"DATA",998.1,7,10,8,30,6,0)
telecom!end^^C^40.9
"DATA",998.1,7,10,8,30,6,10)
D ENDARY(PN)
"DATA",998.1,7,10,8,30,7,0)
id^@id^R^1
"DATA",998.1,7,10,8,30,8,0)
mode^^S^50
"DATA",998.1,7,10,8,30,8,10)
instance
"DATA",998.1,7,10,8,30,9,0)
type^2,9^C^60
"DATA",998.1,7,10,8,30,9,10)
D CODING(PN,"http://hl7.org/fhir/v3/RoleCode",$$GETTYPE^RGSERLOC($G(VL("I")),$G(VL(2,"I"))))
"DATA",998.1,7,10,8,30,10,0)
status^2505,2506^C^70
"DATA",998.1,7,10,8,30,10,10)
D PUT(PN,$$GETSTAT^RGSERLOC($G(VL("I")),$G(VL(2,"I"))))
"DATA",998.1,7,10,8,40,0)
^998.13I^4^4
"DATA",998.1,7,10,8,40,1,0)
_id^@ien^T^10
"DATA",998.1,7,10,8,40,2,0)
type^2,9^T^10
"DATA",998.1,7,10,8,40,2,10)
S TP="",MATCH=PVAL=$$GETTYPE^RGSERLOC($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,7,10,8,40,3,0)
status^2505,2506^T^20
"DATA",998.1,7,10,8,40,3,10)
S TP="",MATCH=PVAL=$$GETSTAT^RGSERLOC($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,7,10,8,40,4,0)
name^.01^S^30
"DATA",998.1,7,10,9,0)
Observation
"DATA",998.1,7,10,9,20)
D RETRIEVE^RGSEROBS
"DATA",998.1,7,10,9,30,0)
^998.12I^21^18
"DATA",998.1,7,10,9,30,1,0)
issued^issued^D^60
"DATA",998.1,7,10,9,30,2,0)
status^status^F^70
"DATA",998.1,7,10,9,30,3,0)
reliability^reliability^F^80
"DATA",998.1,7,10,9,30,4,0)
subject^patient^C^120
"DATA",998.1,7,10,9,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,7,10,9,30,5,0)
referenceRange^low,high^C^150
"DATA",998.1,7,10,9,30,5,10)
D RANGEJSN^RGSEROBS($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,7,10,9,30,7,0)
comments^comments^F^40
"DATA",998.1,7,10,9,30,8,0)
appliesDateTime^collected^D^50
"DATA",998.1,7,10,9,30,9,0)
identifier^id^C^110
"DATA",998.1,7,10,9,30,9,10)
D IDENT("@observation",VL("I"))
"DATA",998.1,7,10,9,30,10,0)
code^code,code_system^C^10
"DATA",998.1,7,10,9,30,10,10)
D:VL CODING(PN,VL(2,"E"),VL("I"),VL("E"))
"DATA",998.1,7,10,9,30,11,0)
value^value,units^C^20
"DATA",998.1,7,10,9,30,11,10)
D VALUEJSN^RGSEROBS($G(VL("I")),$G(VL(2,"I")))
"DATA",998.1,7,10,9,30,12,0)
interpretation^interpretation^C^30
"DATA",998.1,7,10,9,30,12,10)
D:VL NEWOBJ(PN),PUT("text",VL("E")),ENDOBJ(PN)
"DATA",998.1,7,10,9,30,13,0)
bodySite^^N^90
"DATA",998.1,7,10,9,30,14,0)
method^^N^100
"DATA",998.1,7,10,9,30,15,0)
specimen^^N^130
"DATA",998.1,7,10,9,30,16,0)
performer^^N^140
"DATA",998.1,7,10,9,30,19,0)
@id^id^N^1
"DATA",998.1,7,10,9,30,20,0)
related^related^C^160
"DATA",998.1,7,10,9,30,20,10)
D:VL RELJSN^RGSEROBS(VL("I"))
"DATA",998.1,7,10,9,30,21,0)
id^@id^R^1
"DATA",998.1,7,10,9,40,0)
^998.13I^3^3
"DATA",998.1,7,10,9,40,1,0)
subject:Patient^patient^R^10
"DATA",998.1,7,10,9,40,1,20)
S X=$$OBS^RGSEROBS(RGNETREQ("PARAMS","subject:Patient",1,1))
"DATA",998.1,7,10,9,40,2,0)
name^code^T^10
"DATA",998.1,7,10,9,40,3,0)
_id^@id^T^10
"DATA",998.1,7,10,10,0)
Organization^^4
"DATA",998.1,7,10,10,30,0)
^998.12I^6^6
"DATA",998.1,7,10,10,30,1,0)
name^.01^F^20
"DATA",998.1,7,10,10,30,2,0)
active^^S^10
"DATA",998.1,7,10,10,30,2,10)
true
"DATA",998.1,7,10,10,30,3,0)
address^@ien^O^40.1
"DATA",998.1,7,10,10,30,3,10)
*/Organization_Address
"DATA",998.1,7,10,10,30,4,0)
address!start^^C^40
"DATA",998.1,7,10,10,30,4,10)
D NEWARY(PN)
"DATA",998.1,7,10,10,30,5,0)
address!end^^C^40.9
"DATA",998.1,7,10,10,30,5,10)
D ENDARY(PN)
"DATA",998.1,7,10,10,30,6,0)
id^@id^R^1
"DATA",998.1,7,10,11,0)
Organization_Address^1^4
"DATA",998.1,7,10,11,30,0)
^998.12I^6^6
"DATA",998.1,7,10,11,30,1,0)
use^^S^10
"DATA",998.1,7,10,11,30,1,10)
work
"DATA",998.1,7,10,11,30,2,0)
line^1.01^F^20
"DATA",998.1,7,10,11,30,3,0)
line^1.02^F^20.1
"DATA",998.1,7,10,11,30,4,0)
city^1.03^F^50
"DATA",998.1,7,10,11,30,5,0)
state^.02^F^60
"DATA",998.1,7,10,11,30,6,0)
zip^1.04^F^80
"DATA",998.1,7,10,12,0)
Organization_Reference^1^4
"DATA",998.1,7,10,12,30,0)
^998.12I^2^2
"DATA",998.1,7,10,12,30,1,0)
reference^^C^10
"DATA",998.1,7,10,12,30,1,10)
D PUT(PN,"Organization/"_IEN)
"DATA",998.1,7,10,12,30,2,0)
display^.01^F^20
"DATA",998.1,7,10,13,0)
Patient^^2
"DATA",998.1,7,10,13,30,0)
^998.12I^29^28
"DATA",998.1,7,10,13,30,1,0)
name^.01^C^10.1
"DATA",998.1,7,10,13,30,1,10)
D NAME(VL("I"))
"DATA",998.1,7,10,13,30,2,0)
gender^.02^C^20
"DATA",998.1,7,10,13,30,2,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,7,10,13,30,3,0)
birthDate^.03^D^30
"DATA",998.1,7,10,13,30,4,0)
deceasedDateTime^.351^D^50
"DATA",998.1,7,10,13,30,5,0)
identifier!MR,Medical Record #,http://hl7.org/fhir/v2/0203^^C^60.1
"DATA",998.1,7,10,13,30,5,10)
D IDENT("@identifiers/patients",$$HRN^RGSERPAT(IEN),PN(0))
"DATA",998.1,7,10,13,30,6,0)
managingOrganization^^C^80
"DATA",998.1,7,10,13,30,6,10)
D:$G(DUZ(2)) GET^RGSERGET(.RGSER,"*/Organization_Reference",DUZ(2),PN)
"DATA",998.1,7,10,13,30,7,0)
photo^^C^80
"DATA",998.1,7,10,13,30,7,10)
Q:'$L($T(^MAGGTIG))  N X,Y D PHOTOS^MAGGTIG(.X,IEN) F Y=0:0 S Y=$O(X(Y)) Q:'Y  S X=$P(X(Y),U,3) I $E(X,1,4)="http" D NEWOBJ(PN),PUT("contentType","image/"_$P(X,".",$L(X,"."))),PUT("url",X),ENDOBJ(PN)
"DATA",998.1,7,10,13,30,8,0)
telecom!phone:home^.131^C^100.2
"DATA",998.1,7,10,13,30,8,10)
D TELECOM
"DATA",998.1,7,10,13,30,9,0)
telecom!phone:mobile^.134^C^100.3
"DATA",998.1,7,10,13,30,9,10)
D TELECOM
"DATA",998.1,7,10,13,30,10,0)
telecom!phone:work^.132^C^100.4
"DATA",998.1,7,10,13,30,10,10)
D TELECOM
"DATA",998.1,7,10,13,30,11,0)
address^@ien^O^130.1
"DATA",998.1,7,10,13,30,11,10)
*/Patient_Address_Home
"DATA",998.1,7,10,13,30,13,0)
extension!race^2^M^20.1
"DATA",998.1,7,10,13,30,13,10)
*/Patient_Race
"DATA",998.1,7,10,13,30,14,0)
identifier!SS,Social Security #,http://hl7.org/fhir/v2/020^.09^C^60.2
"DATA",998.1,7,10,13,30,14,10)
D IDENT("http://hl7.org/fhir/sid/us-ssn",VL("E"),PN(0))
"DATA",998.1,7,10,13,30,15,0)
text^^T^1.1
"DATA",998.1,7,10,13,30,15,10)
TEXT
"DATA",998.1,7,10,13,30,16,0)
identifier!start^^C^60
"DATA",998.1,7,10,13,30,16,10)
D NEWARY(PN)
"DATA",998.1,7,10,13,30,17,0)
identifier!end^^C^60.9
"DATA",998.1,7,10,13,30,17,10)
D ENDARY(PN)
"DATA",998.1,7,10,13,30,18,0)
telecom!start^^C^100
"DATA",998.1,7,10,13,30,18,10)
D NEWARY(PN)
"DATA",998.1,7,10,13,30,19,0)
telecom!end^^C^100.9
"DATA",998.1,7,10,13,30,19,10)
D ENDARY(PN)
"DATA",998.1,7,10,13,30,20,0)
address!start^^C^130
"DATA",998.1,7,10,13,30,20,10)
D NEWARY(PN)
"DATA",998.1,7,10,13,30,21,0)
address!end^^C^130.9
"DATA",998.1,7,10,13,30,21,10)
D ENDARY(PN)
"DATA",998.1,7,10,13,30,22,0)
id^@id^R^1
"DATA",998.1,7,10,13,30,23,0)
name!start^^C^10
"DATA",998.1,7,10,13,30,23,10)
D NEWARY(PN)
"DATA",998.1,7,10,13,30,24,0)
name!end^^C^10.9
"DATA",998.1,7,10,13,30,24,10)
D ENDARY(PN)
"DATA",998.1,7,10,13,30,25,0)
maritalStatus^.05^C^140
"DATA",998.1,7,10,13,30,25,10)
I VL N X S X=$$MARITAL^RGSERPAT(VL("E")) D CODING(PN,"http://hl7.org/fhir/v3/MaritalStatus",$P(X,U),$P(X,U,2))
"DATA",998.1,7,10,13,30,26,0)
identifier!ICN,Integration Control #^991.01^C^60
"DATA",998.1,7,10,13,30,26,10)
D IDENT("http://va.gov/sid/icn",$$ICN^RGSERPAT(IEN),PN(0))
"DATA",998.1,7,10,13,30,27,0)
extension!congregation^.08^O^20.2
"DATA",998.1,7,10,13,30,27,10)
*/Patient_Congregation
"DATA",998.1,7,10,13,30,28,0)
extension!start^^C^20
"DATA",998.1,7,10,13,30,28,10)
D NEWARY(PN)
"DATA",998.1,7,10,13,30,29,0)
extension!end^^C^20.999
"DATA",998.1,7,10,13,30,29,10)
D ENDARY(PN)
"DATA",998.1,7,10,13,40,0)
^998.13I^7^7
"DATA",998.1,7,10,13,40,1,0)
_id^@ien^T^10
"DATA",998.1,7,10,13,40,2,0)
family^.01^S^20
"DATA",998.1,7,10,13,40,2,10)
D OPRNAME(VL("E"),1) K PVAL
"DATA",998.1,7,10,13,40,2,20)
S X="$$NAMEITER^RGSERPAT"
"DATA",998.1,7,10,13,40,3,0)
given^.01^S^30
"DATA",998.1,7,10,13,40,3,10)
D OPRNAME(VL("E"),2) K PVAL
"DATA",998.1,7,10,13,40,4,0)
gender^.02^T^40
"DATA",998.1,7,10,13,40,5,0)
birthdate^.03^D^15
"DATA",998.1,7,10,13,40,6,0)
identifier^.09^T^5
"DATA",998.1,7,10,13,40,6,10)
S MATCH=PVAL=$$HRN^RGSERPAT(IEN),PVAL=$TR(PVAL,"-") S:MATCH TP=""
"DATA",998.1,7,10,13,40,7,0)
extension^^^20
"DATA",998.1,7,10,13,50,0)
^998.15^1^1
"DATA",998.1,7,10,13,50,1,0)
TEXT
"DATA",998.1,7,10,13,50,1,1,0)
^998.151^4^4^3150408^
"DATA",998.1,7,10,13,50,1,1,1,0)
,"text": {
"DATA",998.1,7,10,13,50,1,1,2,0)
"status": "generated",
"DATA",998.1,7,10,13,50,1,1,3,0)
"div": "NAME: |.01|"
"DATA",998.1,7,10,13,50,1,1,4,0)
}
"DATA",998.1,7,10,14,0)
Patient/#/Condition
"DATA",998.1,7,10,14,10)
D COMPRT($NA(^AUPNPROB("AC")))
"DATA",998.1,7,10,15,0)
Patient/#/DocumentReference
"DATA",998.1,7,10,15,10)
D COMPRT($NA(^TIU(8925,"C")))
"DATA",998.1,7,10,16,0)
Patient/#/Encounter
"DATA",998.1,7,10,16,10)
D COMPRT($NA(^AUPNVSIT("C")))
"DATA",998.1,7,10,17,0)
Patient/#/Observation
"DATA",998.1,7,10,17,10)
D COMPRT($$OBS^RGSEROBS($P(PATH,"/",3)),1)
"DATA",998.1,7,10,18,0)
Patient_Address_Home^1^2
"DATA",998.1,7,10,18,30,0)
^998.12I^12^12
"DATA",998.1,7,10,18,30,1,0)
use^^S^10
"DATA",998.1,7,10,18,30,1,10)
home
"DATA",998.1,7,10,18,30,2,0)
line!1^.111^F^20.1
"DATA",998.1,7,10,18,30,3,0)
line!2^.112^F^20.2
"DATA",998.1,7,10,18,30,4,0)
line!3^.113^F^20.3
"DATA",998.1,7,10,18,30,5,0)
city^.114^F^50
"DATA",998.1,7,10,18,30,6,0)
state^.115^F^60
"DATA",998.1,7,10,18,30,7,0)
state!province^.1171^F^60.1
"DATA",998.1,7,10,18,30,8,0)
zip^.116^F^80
"DATA",998.1,7,10,18,30,9,0)
country^.1173^F^90
"DATA",998.1,7,10,18,30,10,0)
line!start^c^C^20
"DATA",998.1,7,10,18,30,10,10)
D NEWARY(PN)
"DATA",998.1,7,10,18,30,11,0)
line!end^^C^20.9
"DATA",998.1,7,10,18,30,11,10)
D ENDARY(PN)
"DATA",998.1,7,10,18,30,12,0)
district^.117,.115^C^55
"DATA",998.1,7,10,18,30,12,10)
D:VL PUT(PN,$$COUNTY^RGSERPAT(VL(2,"I"),VL("I")))
"DATA",998.1,7,10,19,0)
Patient_Race^1^2.02
"DATA",998.1,7,10,19,30,0)
^998.12I^2^2
"DATA",998.1,7,10,19,30,1,0)
valueCodeableConcept^.01^C^10
"DATA",998.1,7,10,19,30,1,10)
D:VL NEWOBJ(PN),PUT("text",VL("E")),ENDOBJ(PN)
"DATA",998.1,7,10,19,30,2,0)
attr:url^^N^1
"DATA",998.1,7,10,19,30,2,10)
http://hl7.org/fhir/StructureDefinition/us-core-race
"DATA",998.1,7,10,20,0)
Practitioner^^200
"DATA",998.1,7,10,20,30,0)
^998.12I^15^15
"DATA",998.1,7,10,20,30,1,0)
name^.01^C^10.1
"DATA",998.1,7,10,20,30,1,10)
D NAME(VL("I"))
"DATA",998.1,7,10,20,30,2,0)
telecom!phone:home^.131^C^20.1
"DATA",998.1,7,10,20,30,2,10)
D TELECOM
"DATA",998.1,7,10,20,30,3,0)
telecom!phone:work^.132^C^20.2
"DATA",998.1,7,10,20,30,3,10)
D TELECOM
"DATA",998.1,7,10,20,30,4,0)
telecom!fax:work^.136^C^20.3
"DATA",998.1,7,10,20,30,4,10)
D TELECOM
"DATA",998.1,7,10,20,30,5,0)
identifier!DEA,Drug Enforcement Administration #,http://hl7.org/fhir/v2/0203^53.2^C^50.1
"DATA",998.1,7,10,20,30,5,10)
D IDENT("http://hl7.org/fhir/sid/us-dea",VL("E"),PN(0),"official")
"DATA",998.1,7,10,20,30,6,0)
gender^4^C^40
"DATA",998.1,7,10,20,30,6,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,7,10,20,30,7,0)
identifier!SS,Social Security #,http://hl7.org/fhir/v2/0203^9^C^50.3
"DATA",998.1,7,10,20,30,7,10)
D IDENT("http://hl7.org/fhir/sid/us-ssn",VL("E"),PN(0))
"DATA",998.1,7,10,20,30,8,0)
identifier!NPI,National Provider Identifier,http://hl7.org/fhir/v2/0203^41.99^C^50.2
"DATA",998.1,7,10,20,30,8,10)
D IDENT("http://hl7.org/fhir/sid/us-npi",VL("E"),PN(0))
"DATA",998.1,7,10,20,30,9,0)
identifier!start^^C^50
"DATA",998.1,7,10,20,30,9,10)
D NEWARY(PN)
"DATA",998.1,7,10,20,30,10,0)
identifier!end^^C^50.9
"DATA",998.1,7,10,20,30,10,10)
D ENDARY(PN)
"DATA",998.1,7,10,20,30,11,0)
telecom!start^^C^20
"DATA",998.1,7,10,20,30,11,10)
D NEWARY(PN)
"DATA",998.1,7,10,20,30,12,0)
telecom!end^^C^20.9
"DATA",998.1,7,10,20,30,12,10)
D ENDARY(PN)
"DATA",998.1,7,10,20,30,13,0)
id^@id^R^1
"DATA",998.1,7,10,20,30,14,0)
name!start^^C^10
"DATA",998.1,7,10,20,30,14,10)
D NEWARY(PN)
"DATA",998.1,7,10,20,30,15,0)
name!end^^C^10.9
"DATA",998.1,7,10,20,30,15,10)
D ENDARY(PN)
"DATA",998.1,7,10,20,40,0)
^998.13I^3^3
"DATA",998.1,7,10,20,40,1,0)
family^.01^S^20
"DATA",998.1,7,10,20,40,1,10)
D OPRNAME(VL("E"),1) K PVAL
"DATA",998.1,7,10,20,40,1,20)
S X="$$NAMEITER^RGSERPER"
"DATA",998.1,7,10,20,40,2,0)
given^.01^S^30
"DATA",998.1,7,10,20,40,2,10)
D OPRNAME(VL("E"),2) K PVAL
"DATA",998.1,7,10,20,40,3,0)
_id^@ien^T^40
"DATA",998.1,7,10,21,0)
User^^200
"DATA",998.1,7,10,21,30,0)
^998.12I^8^8
"DATA",998.1,7,10,21,30,1,0)
name^.01^C^10.1
"DATA",998.1,7,10,21,30,1,10)
D NAME(VL("I"))
"DATA",998.1,7,10,21,30,2,0)
birthDate^5^D^20
"DATA",998.1,7,10,21,30,3,0)
extension!organization^^T^30
"DATA",998.1,7,10,21,30,3,10)
ORGANIZATION
"DATA",998.1,7,10,21,30,4,0)
telecom!phone:work^.132^C^40
"DATA",998.1,7,10,21,30,4,10)
D TELECOM
"DATA",998.1,7,10,21,30,5,0)
telecom!phone:home^.131^C^50
"DATA",998.1,7,10,21,30,5,10)
D TELECOM
"DATA",998.1,7,10,21,30,6,0)
telecom!fax:work^.136^C^60
"DATA",998.1,7,10,21,30,6,10)
D TELECOM
"DATA",998.1,7,10,21,30,7,0)
name!start^^C^10
"DATA",998.1,7,10,21,30,7,10)
D NEWARY(PN)
"DATA",998.1,7,10,21,30,8,0)
name!end^^C^10.9
"DATA",998.1,7,10,21,30,8,10)
D ENDARY(PN)
"DATA",998.1,7,10,21,40,0)
^998.13I^1^1
"DATA",998.1,7,10,21,40,1,0)
_id^@ien^T^10
"DATA",998.1,7,10,21,50,0)
^998.15^1^1
"DATA",998.1,7,10,21,50,1,0)
ORGANIZATION
"DATA",998.1,7,10,21,50,1,1,0)
^^8^8^3150321.115125
"DATA",998.1,7,10,21,50,1,1,1,0)
,"extension": [
"DATA",998.1,7,10,21,50,1,1,2,0)
  { "url": "http://www.carewebframework.org/fhir/extension/user/organization",
"DATA",998.1,7,10,21,50,1,1,3,0)
    "valueResource": {
"DATA",998.1,7,10,21,50,1,1,4,0)
      "reference": "Organization/|@DUZ(2)|",
"DATA",998.1,7,10,21,50,1,1,5,0)
      "display": "|@$P(^DIC(4,DUZ(2),0),U)|"
"DATA",998.1,7,10,21,50,1,1,6,0)
    }
"DATA",998.1,7,10,21,50,1,1,7,0)
  }
"DATA",998.1,7,10,21,50,1,1,8,0)
]
"DATA",998.1,7,10,22,0)
ValueSet^^998.11
"DATA",998.1,7,10,22,20)
S IENS=IENS_RGSER("SER")_","
"DATA",998.1,7,10,22,30,0)
^998.12I^6^6
"DATA",998.1,7,10,22,30,1,0)
codeSystem^.01^C^100
"DATA",998.1,7,10,22,30,1,10)
D NEWOBJ(PN),PUT("system",$$SYSTEM^RGSER("@"_VL("E"))),GET^RGSERGET(.RGSER,"*/"_VL("E"),,"concept"),ENDOBJ(PN)
"DATA",998.1,7,10,22,30,2,0)
identifier^.01^C^10
"DATA",998.1,7,10,22,30,2,10)
D IDENT($$SYSTEM^RGSER("@vs/"_$P(VL("E"),"_",2,99)),"encounter-type")
"DATA",998.1,7,10,22,30,3,0)
name^.01^C^20
"DATA",998.1,7,10,22,30,3,10)
D PUT(PN,$P(VL("E"),"_",2,99))
"DATA",998.1,7,10,22,30,4,0)
description^99^F^30
"DATA",998.1,7,10,22,30,5,0)
status^^S^40
"DATA",998.1,7,10,22,30,5,10)
active
"DATA",998.1,7,10,22,30,6,0)
id^@id^R^1
"DATA",998.1,7,10,22,40,0)
^998.13I^3^3
"DATA",998.1,7,10,22,40,1,0)
_id^@ien^T^1
"DATA",998.1,7,10,22,40,2,0)
name^.01^S^10
"DATA",998.1,7,10,22,40,2,10)
S PVAL=$S(PVAL("OPR")="s":"VALUESET_",1:"ValueSet_")_PVAL
"DATA",998.1,7,10,22,40,3,0)
@selector^.01^T^1
"DATA",998.1,7,10,22,40,3,10)
S MATCH="ValueSet_"=$E(VL("E"),1,9)
"DATA",998.1,7,10,22,40,3,20)
S X="$$ITERVS^RGSEFHIR"
"DATA",998.1,7,10,23,0)
ValueSet_DocumentType^1^8925.1
"DATA",998.1,7,10,23,30,0)
^998.12I^2^2
"DATA",998.1,7,10,23,30,1,0)
code^@ien^R^20
"DATA",998.1,7,10,23,30,2,0)
display^.01^F^30
"DATA",998.1,7,10,23,99)
List of document categories by which documents may be classified.
"DATA",998.1,7,10,24,0)
ValueSet_EncounterType^1
"DATA",998.1,7,10,24,10)
K XSER D GETTYPES^RGSERENC
"DATA",998.1,7,10,24,20)
D RETRIEVE^RGSERENC(IEN)
"DATA",998.1,7,10,24,30,0)
^998.12I^3^3
"DATA",998.1,7,10,24,30,1,0)
display^2^R^20
"DATA",998.1,7,10,24,30,2,0)
code^1^R^30
"DATA",998.1,7,10,24,30,3,0)
definition^3^R^40
"DATA",998.1,7,10,24,99)
List of recognized encounter types (service codes).
"DATA",998.1,7,10,25,0)
Medication^^50
"DATA",998.1,7,10,25,30,0)
^998.12I^8^8
"DATA",998.1,7,10,25,30,1,0)
name^.01^F^10
"DATA",998.1,7,10,25,30,2,0)
code!start^^C^20
"DATA",998.1,7,10,25,30,2,10)
D NEWARY(PN)
"DATA",998.1,7,10,25,30,3,0)
code!end^^C^20.9
"DATA",998.1,7,10,25,30,3,10)
D ENDARY(PN)
"DATA",998.1,7,10,25,30,4,0)
coding!ndc^31^C^20.1
"DATA",998.1,7,10,25,30,4,10)
D:VL CODING(,"http://www.fda.gov/ndc",VL("E"))
"DATA",998.1,7,10,25,30,5,0)
product!start^^C^30
"DATA",998.1,7,10,25,30,5,10)
D NEWOBJ(PN)
"DATA",998.1,7,10,25,30,6,0)
product!end^^C^30.9
"DATA",998.1,7,10,25,30,6,10)
D ENDOBJ(PN)
"DATA",998.1,7,10,25,30,7,0)
form^14.5^C^30.1
"DATA",998.1,7,10,25,30,7,10)
D:VL CODING(PN,"dispense_unit",,VL("E"))
"DATA",998.1,7,10,25,30,8,0)
id^@id^R^1
"DATA",998.1,7,10,25,40,0)
^998.13I^3^3
"DATA",998.1,7,10,25,40,1,0)
code^31^T^10
"DATA",998.1,7,10,25,40,2,0)
name^.01^S^20
"DATA",998.1,7,10,25,40,3,0)
_id^@ien^T^30
"DATA",998.1,7,10,26,0)
MedicationPrescription^^52
"DATA",998.1,7,10,26,30,0)
^998.12I^9^9
"DATA",998.1,7,10,26,30,1,0)
patient^2^C^40
"DATA",998.1,7,10,26,30,1,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,7,10,26,30,2,0)
prescriber^4^C^50
"DATA",998.1,7,10,26,30,2,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,7,10,26,30,3,0)
medication^6^C^80
"DATA",998.1,7,10,26,30,3,10)
D REF(PN,"Medication",.VL)
"DATA",998.1,7,10,26,30,4,0)
dateWritten^1^D^20
"DATA",998.1,7,10,26,30,5,0)
dosageInstruction!start^^C^90
"DATA",998.1,7,10,26,30,5,10)
D NEWARY(PN)
"DATA",998.1,7,10,26,30,6,0)
dosageInstruction!end^^C^90.9
"DATA",998.1,7,10,26,30,6,10)
D ENDARY(PN)
"DATA",998.1,7,10,26,30,7,0)
@text^10.2^M^90.001
"DATA",998.1,7,10,26,30,7,10)
*/MedicationPrescription_Sig
"DATA",998.1,7,10,26,30,8,0)
@dosing^113^M^90.002
"DATA",998.1,7,10,26,30,8,10)
*/MedicationPrescription_Dosing
"DATA",998.1,7,10,26,30,9,0)
id^@id^R^1
"DATA",998.1,7,10,26,40,0)
^998.13I^3^3
"DATA",998.1,7,10,26,40,1,0)
patient^2^R^10
"DATA",998.1,7,10,26,40,1,20)
S X=$$COHORT(PN,$NA(^PS(55,"*","P","A")),1)
"DATA",998.1,7,10,26,40,2,0)
_id^@ien^T^20
"DATA",998.1,7,10,26,40,3,0)
patient:Patient^2^R^10
"DATA",998.1,7,10,26,40,3,20)
S X=$$COHORT(PN,$NA(^PS(55,"*","P","A")),1)
"DATA",998.1,7,10,27,0)
MedicationPrescription_Sig^1^52.04
"DATA",998.1,7,10,27,30,0)
^998.12I^1^1
"DATA",998.1,7,10,27,30,1,0)
text^.01^F^10
"DATA",998.1,7,10,28,0)
MedicationPrescription_Dosing^1^52.0113
"DATA",998.1,7,10,28,30,0)
^998.12I^1^1
"DATA",998.1,7,10,28,30,1,0)
route^6^C^10
"DATA",998.1,7,10,28,30,1,10)
D:VL CODING(PN,"@medication_route",VL("E"))
"DATA",998.1,7,10,29,0)
Patient/#/MedicationPrescription
"DATA",998.1,7,10,29,10)
D COMPRT($$COHORT2($P(PATH,"/",3),$NA(^PS(55,"*","P","A")),1),1)
"DATA",998.1,7,10,30,0)
AdverseReaction^^120.8
"DATA",998.1,7,10,30,30,0)
^998.12I^10^8
"DATA",998.1,7,10,30,30,1,0)
identifier^^N^10
"DATA",998.1,7,10,30,30,2,0)
date^4^D^20
"DATA",998.1,7,10,30,30,3,0)
subject^.01^C^30
"DATA",998.1,7,10,30,30,3,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,7,10,30,30,4,0)
didNotOccurFlag^^S^40
"DATA",998.1,7,10,30,30,4,10)
false
"DATA",998.1,7,10,30,30,5,0)
recorder^5^C^50
"DATA",998.1,7,10,30,30,5,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,7,10,30,30,6,0)
symptom^10^M^60
"DATA",998.1,7,10,30,30,6,10)
*/AdverseReaction_Symptom
"DATA",998.1,7,10,30,30,9,0)
exposure^1,.02^C^70.2
"DATA",998.1,7,10,30,30,9,10)
S:'VL VL("E")=VL(2,"E") S VL("I")=$$VP2ID(VL("I")) D NEWARY(PN),REF("substance","Substance",.VL),ENDARY(PN)
"DATA",998.1,7,10,30,30,10,0)
id^@id^R^1
"DATA",998.1,7,10,30,40,0)
^998.13I^3^3
"DATA",998.1,7,10,30,40,1,0)
subject^.01^R^10
"DATA",998.1,7,10,30,40,1,20)
S X=$$COHORT(PN,$NA(^GMR(120.8,"B")))
"DATA",998.1,7,10,30,40,2,0)
subject:Patient^.01^R^10
"DATA",998.1,7,10,30,40,2,20)
S X=$$COHORT(PN,$NA(^GMR(120.8,"B")))
"DATA",998.1,7,10,30,40,3,0)
_id^@ien^T^20
"DATA",998.1,7,10,31,0)
AdverseReaction_Symptom^1^120.81
"DATA",998.1,7,10,31,30,0)
^998.12I^2^2
"DATA",998.1,7,10,31,30,1,0)
code^.01^C^10
"DATA",998.1,7,10,31,30,1,10)
D CODING(PN,"#120.83",VL("I"),VL("E"))
"DATA",998.1,7,10,31,30,2,0)
severity^^N^20
"DATA",998.1,7,10,32,0)
AdverseReaction_Ingredient^1^120.802
"DATA",998.1,7,10,32,30,0)
^998.12I^4^4
"DATA",998.1,7,10,32,30,1,0)
date^^D^10
"DATA",998.1,7,10,32,30,2,0)
type^^S^20
"DATA",998.1,7,10,32,30,2,10)
drugadmin
"DATA",998.1,7,10,32,30,3,0)
causalityExpectation^^N^30
"DATA",998.1,7,10,32,30,4,0)
substance^.01^C^40
"DATA",998.1,7,10,32,30,4,10)
D REF(PN,"Substance",.VL,"50.416:")
"DATA",998.1,7,10,33,0)
AdverseReaction_Class^1^120.803
"DATA",998.1,7,10,33,30,0)
^998.12I^4^4
"DATA",998.1,7,10,33,30,1,0)
date^^D^10
"DATA",998.1,7,10,33,30,2,0)
type^^S^20
"DATA",998.1,7,10,33,30,2,10)
drugadmin
"DATA",998.1,7,10,33,30,3,0)
causalityExpectation^^N^30
"DATA",998.1,7,10,33,30,4,0)
substance^.01^C^40
"DATA",998.1,7,10,33,30,4,10)
D REF(PN,"Substance",.VL,"50.605:")
"DATA",998.1,7,10,34,0)
Substance
"DATA",998.1,7,10,34,10)
D COMPID^RGSERGET
"DATA",998.1,7,10,34,30,0)
^998.12I^1^1
"DATA",998.1,7,10,34,30,1,0)
id^@id^R^1
"DATA",998.1,7,10,35,0)
Patient/#/AdverseReaction
"DATA",998.1,7,10,35,10)
D COMPRT($NA(^GMR(120.8,"B")))
"DATA",998.1,7,10,36,0)
Substance_50^1^50
"DATA",998.1,7,10,36,30,0)
^998.12I^4^4
"DATA",998.1,7,10,36,30,1,0)
type^.01^C^10
"DATA",998.1,7,10,36,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,7,10,36,30,2,0)
description^^W^20
"DATA",998.1,7,10,36,30,3,0)
instance^^N^30
"DATA",998.1,7,10,36,30,4,0)
ingredient^^N^40
"DATA",998.1,7,10,37,0)
Substance_50.416^1^50.416
"DATA",998.1,7,10,37,30,0)
^998.12I^4^4
"DATA",998.1,7,10,37,30,1,0)
type^.01^C^10
"DATA",998.1,7,10,37,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,7,10,37,30,2,0)
description^^W^20
"DATA",998.1,7,10,37,30,3,0)
instance^^N^30
"DATA",998.1,7,10,37,30,4,0)
ingredient^^N^40
"DATA",998.1,7,10,38,0)
Substance_50.6^1^50.6
"DATA",998.1,7,10,38,30,0)
^998.12I^4^4
"DATA",998.1,7,10,38,30,1,0)
type^.01^C^10
"DATA",998.1,7,10,38,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,7,10,38,30,2,0)
description^^W^20
"DATA",998.1,7,10,38,30,3,0)
instance^^N^30
"DATA",998.1,7,10,38,30,4,0)
ingredient^^N^40
"DATA",998.1,7,10,39,0)
Substance_50.605^1^50.605
"DATA",998.1,7,10,39,30,0)
^998.12I^4^4
"DATA",998.1,7,10,39,30,1,0)
type^.01^C^10
"DATA",998.1,7,10,39,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,7,10,39,30,2,0)
description^^W^20
"DATA",998.1,7,10,39,30,3,0)
instance^^N^30
"DATA",998.1,7,10,39,30,4,0)
ingredient^^N^40
"DATA",998.1,7,10,40,0)
Substance_120.82^1^120.82
"DATA",998.1,7,10,40,30,0)
^998.12I^4^4
"DATA",998.1,7,10,40,30,1,0)
type^.01^C^10
"DATA",998.1,7,10,40,30,1,10)
D CODING(PN,"#"_FILE,IEN,VL("E"))
"DATA",998.1,7,10,40,30,2,0)
description^^W^20
"DATA",998.1,7,10,40,30,3,0)
instance^^N^30
"DATA",998.1,7,10,40,30,4,0)
ingredient^^N^40
"DATA",998.1,7,10,41,0)
Immunization^^9000010.11
"DATA",998.1,7,10,41,30,0)
^998.12I^19^19
"DATA",998.1,7,10,41,30,1,0)
identifier^^N^10
"DATA",998.1,7,10,41,30,2,0)
date^1201,.03~.01^C^20
"DATA",998.1,7,10,41,30,2,10)
D PUTDT(PN,$S(VL:VL("I"),1:VL(2,"I")))
"DATA",998.1,7,10,41,30,3,0)
vaccineType^.01^C^30
"DATA",998.1,7,10,41,30,3,10)
D CODING(PN,"#9999999.14",VL("I"),VL("E"))
"DATA",998.1,7,10,41,30,4,0)
patient^.02^C^40
"DATA",998.1,7,10,41,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,7,10,41,30,5,0)
wasNotGiven^^B^50
"DATA",998.1,7,10,41,30,6,0)
reported^^B^60
"DATA",998.1,7,10,41,30,7,0)
performer^1204^C^70
"DATA",998.1,7,10,41,30,7,10)
D:VL REF(PN,"Practitioner",.VL)
"DATA",998.1,7,10,41,30,8,0)
requester^1202^C^80
"DATA",998.1,7,10,41,30,8,10)
D:VL REF(PN,"Practitioner",.VL)
"DATA",998.1,7,10,41,30,9,0)
manufacturer^^N^90
"DATA",998.1,7,10,41,30,10,0)
location^.03~.22^C^100
"DATA",998.1,7,10,41,30,10,10)
D REF(PN,"Location",.VL)
"DATA",998.1,7,10,41,30,11,0)
lotNumber^^N^110
"DATA",998.1,7,10,41,30,12,0)
expirationDate^^D^120
"DATA",998.1,7,10,41,30,13,0)
site^^N^130
"DATA",998.1,7,10,41,30,14,0)
route^^N^140
"DATA",998.1,7,10,41,30,15,0)
doseQuantity^^N^150
"DATA",998.1,7,10,41,30,16,0)
explanation^^N^160
"DATA",998.1,7,10,41,30,17,0)
reaction^^N^170
"DATA",998.1,7,10,41,30,18,0)
vaccinationProtocol^^N^180
"DATA",998.1,7,10,41,30,19,0)
id^@id^R^1
"DATA",998.1,7,10,41,40,0)
^998.13I^3^3
"DATA",998.1,7,10,41,40,1,0)
patient^.02^R^10
"DATA",998.1,7,10,41,40,1,20)
S X=$$COHORT(PN,$NA(^AUPNVIMM("C")))
"DATA",998.1,7,10,41,40,2,0)
patient:Patient^.02^R^10
"DATA",998.1,7,10,41,40,2,20)
S X=$$COHORT(PN,$NA(^AUPNVIMM("C")))
"DATA",998.1,7,10,41,40,3,0)
_id^@ien^T^30
"DATA",998.1,7,10,42,0)
Patient/#/Immunization
"DATA",998.1,7,10,42,10)
D COMPRT($NA(^AUPNVIMM("C")))
"DATA",998.1,7,10,43,0)
Flag^^26.13
"DATA",998.1,7,10,43,30,0)
^998.12I^7^7
"DATA",998.1,7,10,43,30,1,0)
identifier^^N^10
"DATA",998.1,7,10,43,30,2,0)
category^.02^C^20
"DATA",998.1,7,10,43,30,2,10)
D CODING(PN,"#26.13",$$VP2ID(VL("I")),VL("E"))
"DATA",998.1,7,10,43,30,3,0)
status^.03^C^30
"DATA",998.1,7,10,43,30,3,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,7,10,43,30,4,0)
patient^.01^C^40
"DATA",998.1,7,10,43,30,4,10)
D REF(PN,"Patient",.VL)
"DATA",998.1,7,10,43,30,5,0)
author^^N^50
"DATA",998.1,7,10,43,30,6,0)
code.text^1^W^60
"DATA",998.1,7,10,43,30,7,0)
id^@id^R^1
"DATA",998.1,7,10,43,40,0)
^998.13I^3^3
"DATA",998.1,7,10,43,40,1,0)
_id^@ien^T^10
"DATA",998.1,7,10,43,40,2,0)
patient^.01^R^20
"DATA",998.1,7,10,43,40,2,20)
S X=$NA(^DGPF(26.13,"B",RGNETREQ("PARAMS",PN,1,1)))
"DATA",998.1,7,10,43,40,3,0)
patient:Patient^.01^R^20
"DATA",998.1,7,10,43,40,3,20)
S X=$NA(^DGPF(26.13,"B",RGNETREQ("PARAMS",PN,1,1)))
"DATA",998.1,7,10,44,0)
Patient/#/Alert
"DATA",998.1,7,10,44,10)
D COMPRT($NA(^DGPF(26.13,"B")))
"DATA",998.1,7,10,45,0)
metadata
"DATA",998.1,7,10,45,10)
D TEMPLATE^RGSERGET("CONFORMANCE")
"DATA",998.1,7,10,45,30,0)
^998.12I
"DATA",998.1,7,10,45,50,0)
^998.15^3^3
"DATA",998.1,7,10,45,50,1,0)
CONFORMANCE
"DATA",998.1,7,10,45,50,1,1,0)
^^35^35^3171020.10583
"DATA",998.1,7,10,45,50,1,1,1,0)
{
"DATA",998.1,7,10,45,50,1,1,2,0)
  "resourceType": "CapabilityStatement",
"DATA",998.1,7,10,45,50,1,1,3,0)
  "text": {
"DATA",998.1,7,10,45,50,1,1,4,0)
    "status": "generated"
"DATA",998.1,7,10,45,50,1,1,5,0)
  },
"DATA",998.1,7,10,45,50,1,1,6,0)
  "publisher": "|@$P($$SITE^VASITE,U,2)|",
"DATA",998.1,7,10,45,50,1,1,7,0)
  "date": "|@$$FMTDATE^RGSER|",
"DATA",998.1,7,10,45,50,1,1,8,0)
  "software": {
"DATA",998.1,7,10,45,50,1,1,9,0)
    "name": "VistA Serialization Framework",
"DATA",998.1,7,10,45,50,1,1,10,0)
    "version": "|@$$VERSION^XPDUTL("RGSE")|"
"DATA",998.1,7,10,45,50,1,1,11,0)
  },
"DATA",998.1,7,10,45,50,1,1,12,0)
  "implementation": {
"DATA",998.1,7,10,45,50,1,1,13,0)
    "description": "VistA (|@RGSER("SERNM")|)"
"DATA",998.1,7,10,45,50,1,1,14,0)
  },
"DATA",998.1,7,10,45,50,1,1,15,0)
  "fhirVersion": "|@RGSER("VER")|",
"DATA",998.1,7,10,45,50,1,1,16,0)
  "acceptUnknown": "extensions",
"DATA",998.1,7,10,45,50,1,1,17,0)
  "format": "application/json+fhir",
"DATA",998.1,7,10,45,50,1,1,18,0)
  "rest": {
"DATA",998.1,7,10,45,50,1,1,19,0)
    "mode": "server",
"DATA",998.1,7,10,45,50,1,1,20,0)
    "security": {
"DATA",998.1,7,10,45,50,1,1,21,0)
      "extension": [
"DATA",998.1,7,10,45,50,1,1,22,0)
        {
"DATA",998.1,7,10,45,50,1,1,23,0)
          "url": "http://fhir-registry.smarthealthit.org/Profile/oauth-uris#authorize",
"DATA",998.1,7,10,45,50,1,1,24,0)
          "valueUri": "|@$$HOSTURL^RGNETWWW("oauth2/authorize")|"
"DATA",998.1,7,10,45,50,1,1,25,0)
        },
"DATA",998.1,7,10,45,50,1,1,26,0)
        {
"DATA",998.1,7,10,45,50,1,1,27,0)
          "url": "http://fhir-registry.smarthealthit.org/Profile/oauth-uris#token",
"DATA",998.1,7,10,45,50,1,1,28,0)
          "valueUri": "|@$$HOSTURL^RGNETWWW("oauth2/token")|"
"DATA",998.1,7,10,45,50,1,1,29,0)
        }
"DATA",998.1,7,10,45,50,1,1,30,0)
      ]
"DATA",998.1,7,10,45,50,1,1,31,0)
    },
"DATA",998.1,7,10,45,50,1,1,32,0)
    "resource": [
"DATA",998.1,7,10,45,50,1,1,33,0)
|#$$RESCONF^RGSEFHIR|]
"DATA",998.1,7,10,45,50,1,1,34,0)
  }
"DATA",998.1,7,10,45,50,1,1,35,0)
}
"DATA",998.1,7,10,45,50,2,0)
CONFORMANCE_RESOURCE
"DATA",998.1,7,10,45,50,2,1,0)
^^8^8^3150521.164212
"DATA",998.1,7,10,45,50,2,1,1,0)
    |#$S(RESNUM:",",1:"")| {
"DATA",998.1,7,10,45,50,2,1,2,0)
      "type": "|@RESNAME|",
"DATA",998.1,7,10,45,50,2,1,3,0)
      "interaction": {
"DATA",998.1,7,10,45,50,2,1,4,0)
        "code": "read"
"DATA",998.1,7,10,45,50,2,1,5,0)
      },
"DATA",998.1,7,10,45,50,2,1,6,0)
      "searchParam": [
"DATA",998.1,7,10,45,50,2,1,7,0)
|#$$SRPCONF^RGSEFHIR|]
"DATA",998.1,7,10,45,50,2,1,8,0)
    }
"DATA",998.1,7,10,45,50,3,0)
CONFORMANCE_PARAMETER
"DATA",998.1,7,10,45,50,3,1,0)
^^4^4^3150320.095235
"DATA",998.1,7,10,45,50,3,1,1,0)
        |#$S(SRPNUM:",",1:"")| {
"DATA",998.1,7,10,45,50,3,1,2,0)
          "name": "|@SRPNAME|",
"DATA",998.1,7,10,45,50,3,1,3,0)
          "type": "|@SRPTYPE|"
"DATA",998.1,7,10,45,50,3,1,4,0)
        }
"DATA",998.1,7,10,46,0)
Order^^100
"DATA",998.1,7,10,46,30,0)
^998.12I^9^9
"DATA",998.1,7,10,46,30,1,0)
identifier^^N^10
"DATA",998.1,7,10,46,30,2,0)
date^4^D^20
"DATA",998.1,7,10,46,30,3,0)
subject^.02^C^30
"DATA",998.1,7,10,46,30,3,10)
D:VL("I")["DPT" REF2(PN,"Patient",+VL("I"),VL("E"))
"DATA",998.1,7,10,46,30,4,0)
source^1^C^40
"DATA",998.1,7,10,46,30,4,10)
D REF(PN,"Practitioner",.VL)
"DATA",998.1,7,10,46,30,5,0)
target^^N^50
"DATA",998.1,7,10,46,30,6,0)
reason^^N^60
"DATA",998.1,7,10,46,30,7,0)
authority^^N^70
"DATA",998.1,7,10,46,30,8,0)
when^^N^80
"DATA",998.1,7,10,46,30,9,0)
detail:.reference^@ien^C^90
"DATA",998.1,7,10,46,30,9,10)
D PUT(PN,"DiagnosticOrder/"_VL("I"))
"DATA",998.1,7,10,47,0)
OperationOutcome^^.84
"DATA",998.1,7,10,47,21)
K:$G(VALS(FILE,IENS,"1.2~1","E"))'="RGSE" VALS
"DATA",998.1,7,10,47,30,0)
^998.12I^9^9
"DATA",998.1,7,10,47,30,1,0)
issue!start^^C^10
"DATA",998.1,7,10,47,30,1,10)
D NEWARY(PN),NEWOBJ(PN)
"DATA",998.1,7,10,47,30,2,0)
issue!end^^C^10.9
"DATA",998.1,7,10,47,30,2,10)
D ENDARY(PN)
"DATA",998.1,7,10,47,30,3,0)
severity^1^C^10.1
"DATA",998.1,7,10,47,30,3,10)
D PUT(PN,$S($G(VL("I"))=1:"error",1:"information"))
"DATA",998.1,7,10,47,30,4,0)
code^1.3^C^10.2
"DATA",998.1,7,10,47,30,4,10)
D CODING(PN,"http://hl7.org/fhir/issue-type",$P(VL("E"),":",2),$P(VL("E"),":",3))
"DATA",998.1,7,10,47,30,5,0)
details^2^W^10.3
"DATA",998.1,7,10,47,30,5,10)
%20
"DATA",998.1,7,10,47,30,6,0)
location^^N^10.4
"DATA",998.1,7,10,47,30,7,0)
text^4^T^5
"DATA",998.1,7,10,47,30,7,10)
TEXT
"DATA",998.1,7,10,47,30,8,0)
@package^1.2~1^N^1
"DATA",998.1,7,10,47,30,9,0)
id^@id^R^1
"DATA",998.1,7,10,47,40,0)
^998.13I^2^2
"DATA",998.1,7,10,47,40,1,0)
_id^@ien^T^10
"DATA",998.1,7,10,47,40,2,0)
@selector^^T^1
"DATA",998.1,7,10,47,40,2,20)
S X=$NA(^DI(.84,"C",$$LKPKG^XPDUTL("RGSE")))
"DATA",998.1,7,10,47,50,0)
^998.15^1^1
"DATA",998.1,7,10,47,50,1,0)
TEXT
"DATA",998.1,7,10,47,50,1,1,0)
^998.151^10^10^3150420^
"DATA",998.1,7,10,47,50,1,1,1,0)
,"text": {
"DATA",998.1,7,10,47,50,1,1,2,0)
"status": "generated",
"DATA",998.1,7,10,47,50,1,1,3,0)
"div": "<div>
"DATA",998.1,7,10,47,50,1,1,4,0)
<table style='margin:5px;border:1px solid black'>
"DATA",998.1,7,10,47,50,1,1,5,0)
<tr style='background:lightgray'><td><h1>Operation Outcome (|\@ien|)</h1></td></tr>
"DATA",998.1,7,10,47,50,1,1,6,0)
<tr><td style='border-bottom:1px solid black'><pre>|4,W|</pre></td></tr>
"DATA",998.1,7,10,47,50,1,1,7,0)
<tr><td><pre>|2,W|</pre></td></tr>
"DATA",998.1,7,10,47,50,1,1,8,0)
</table>
"DATA",998.1,7,10,47,50,1,1,9,0)
</div>"
"DATA",998.1,7,10,47,50,1,1,10,0)
} 
"DATA",998.1,7,10,48,0)
Person^^200
"DATA",998.1,7,10,48,30,0)
^998.12I^16^16
"DATA",998.1,7,10,48,30,1,0)
id^@id^R^1
"DATA",998.1,7,10,48,30,2,0)
active^7^C^90
"DATA",998.1,7,10,48,30,2,10)
D PUTBL^RGSEJSON(PN,'VL("I"))
"DATA",998.1,7,10,48,30,3,0)
address^@ien^O^60
"DATA",998.1,7,10,48,30,3,10)
*/Person_Address
"DATA",998.1,7,10,48,30,4,0)
birthDate^5^D^50
"DATA",998.1,7,10,48,30,5,0)
gender^4^C^40
"DATA",998.1,7,10,48,30,5,10)
D PUT(PN,$$LOW^XLFSTR(VL("E")))
"DATA",998.1,7,10,48,30,6,0)
identifier^^N^10
"DATA",998.1,7,10,48,30,7,0)
link^^N^90
"DATA",998.1,7,10,48,30,8,0)
managingOrganization^^C^80
"DATA",998.1,7,10,48,30,8,10)
D REF2(PN,"Organization",DUZ(2),$P(^DIC(4,DUZ(2),0),U))
"DATA",998.1,7,10,48,30,9,0)
name^.01^C^20.1
"DATA",998.1,7,10,48,30,9,10)
D NAME(VL("I"))
"DATA",998.1,7,10,48,30,10,0)
name!nickname^13^C^20.2
"DATA",998.1,7,10,48,30,10,10)
D:VL NAME(","_VL("I"),PN(0))
"DATA",998.1,7,10,48,30,11,0)
photo^^N^70
"DATA",998.1,7,10,48,30,12,0)
telecom!phone:work^.132^C^30
"DATA",998.1,7,10,48,30,12,10)
D TELECOM
"DATA",998.1,7,10,48,30,13,0)
telecom!phone:home^.131^C^30.1
"DATA",998.1,7,10,48,30,13,10)
D TELECOM
"DATA",998.1,7,10,48,30,14,0)
telecom!fax:work^.136^C^30.2
"DATA",998.1,7,10,48,30,14,10)
D TELECOM
"DATA",998.1,7,10,48,30,15,0)
name!start^^C^20
"DATA",998.1,7,10,48,30,15,10)
D NEWARY(PN)
"DATA",998.1,7,10,48,30,16,0)
name!end^^C^20.9
"DATA",998.1,7,10,48,30,16,10)
D ENDARY(PN)
"DATA",998.1,7,10,48,40,0)
^998.13I^1^1
"DATA",998.1,7,10,48,40,1,0)
_id^@ien^T^10
"DATA",998.1,7,10,49,0)
Person_Address^1^200
"DATA",998.1,7,10,49,30,0)
^998.12I^7^7
"DATA",998.1,7,10,49,30,1,0)
use^^S^10
"DATA",998.1,7,10,49,30,1,10)
home
"DATA",998.1,7,10,49,30,2,0)
line!1^.111^F^20
"DATA",998.1,7,10,49,30,3,0)
line!2^.112^F^20.1
"DATA",998.1,7,10,49,30,4,0)
line!3^.113^F^20.2
"DATA",998.1,7,10,49,30,5,0)
city^.114^F^50
"DATA",998.1,7,10,49,30,6,0)
state^.115^F^60
"DATA",998.1,7,10,49,30,7,0)
postalCode^.116^F^80
"DATA",998.1,7,10,50,0)
DiagnosticRequest
"DATA",998.1,7,10,51,0)
Patient_Congregation^1^13
"DATA",998.1,7,10,51,30,0)
^998.12I^2^2
"DATA",998.1,7,10,51,30,1,0)
valueString^.01^F^10
"DATA",998.1,7,10,51,30,2,0)
attr:url^^N^1
"DATA",998.1,7,10,51,30,2,10)
http://hl7.org/fhir/StructureDefinition/patient-congregation
"DATA",998.1,7,20,0)
^998.14^5^5^3170321^^^^
"DATA",998.1,7,20,1,0)
Access-Control-Allow-Credentials: true
"DATA",998.1,7,20,2,0)
Access-Control-Allow-Headers: origin, authorization, accept, content-type, x-requested-with
"DATA",998.1,7,20,3,0)
Access-Control-Allow-Methods: GET, HEAD, POST, PUT, DELETE, TRACE, OPTIONS
"DATA",998.1,7,20,4,0)
Access-Control-Allow-Origin: *
"DATA",998.1,7,20,5,0)
Cache-Control: max-age=0
"DATA",998.1,7,99,0)
^^25^25^3170322.08374
"DATA",998.1,7,99,1,0)
This is the base URL for the STU3 JSON FHIR endpoint. 
"DATA",998.1,7,99,2,0)

"DATA",998.1,7,99,3,0)
<hr> 
"DATA",998.1,7,99,4,0)

"DATA",998.1,7,99,5,0)
This service is supported by the <b>VistA Serialization Framework</b>, 
"DATA",998.1,7,99,6,0)
developed by Doug Martin of the <a href="http://www.regenstrief.org"
"DATA",998.1,7,99,7,0)
target="_blank">Regenstrief Institute.<a>
"DATA",998.1,7,99,8,0)

"DATA",998.1,7,99,9,0)
<p>
"DATA",998.1,7,99,10,0)

"DATA",998.1,7,99,11,0)
It is freely available as open source under the 
"DATA",998.1,7,99,12,0)
<a href="https://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License, Version 2.0</a>:
"DATA",998.1,7,99,13,0)

"DATA",998.1,7,99,14,0)
<ul> 
"DATA",998.1,7,99,15,0)
<li> The FHIR conformance document is available
"DATA",998.1,7,99,16,0)
  <a href="/STU3/metadata?_format=json" target="_blank">here</a>
"DATA",998.1,7,99,17,0)
</li>
"DATA",998.1,7,99,18,0)
<li> The complete source may be downloaded 
"DATA",998.1,7,99,19,0)
  <a href="https://github.com/mdgeek/VistA-Serialization-Framework" 
"DATA",998.1,7,99,20,0)
     target="_blank">here.</a>
"DATA",998.1,7,99,21,0)
</li>
"DATA",998.1,7,99,22,0)
<li> A working virtual machine may be built from this
"DATA",998.1,7,99,23,0)
  <a href="https://github.com/mdgeek/VistA-FHIR-CWF"
"DATA",998.1,7,99,24,0)
     target="_blank">source.</a>
"DATA",998.1,7,99,25,0)
</ul>
"FIA",996.52)
NETSERV HTTP ENDPOINT
"FIA",996.52,0)
^RGNET(996.52,
"FIA",996.52,0,0)
996.52
"FIA",996.52,0,1)
n^y^f^^n^^y^o^n
"FIA",996.52,0,10)

"FIA",996.52,0,11)
I $G(^RGNET(996.52,Y,10))["^RGSE"
"FIA",996.52,0,"RLRO")

"FIA",996.52,0,"VR")
1.1^SERIALIZATION FRAMEWORK
"FIA",996.52,996.52)
0
"FIA",996.52,996.52099)
0
"FIA",998.1)
SERIALIZATION CONTROL
"FIA",998.1,0)
^RGSER(998.1,
"FIA",998.1,0,0)
998.1I
"FIA",998.1,0,1)
y^y^f^^n^^y^r^n
"FIA",998.1,0,10)

"FIA",998.1,0,11)

"FIA",998.1,0,"RLRO")

"FIA",998.1,0,"VR")
1.1^SERIALIZATION FRAMEWORK
"FIA",998.1,998.1)
0
"FIA",998.1,998.11)
0
"FIA",998.1,998.12)
0
"FIA",998.1,998.13)
0
"FIA",998.1,998.14)
0
"FIA",998.1,998.15)
0
"FIA",998.1,998.151)
0
"FIA",998.1,998.199)
0
"INI")
PRE^RGSEINIT
"INIT")
POST^RGSEINIT
"IX",996.52,996.52,"C",0)
996.52^C^Compound index by METHOD and URL.^MU^^R^IR^I^996.52^^^^^LS
"IX",996.52,996.52,"C",1)
S ^RGNET(996.52,"C",X(1),X(2),DA)=$$TOPTRN^RGNETWWW(X(2))
"IX",996.52,996.52,"C",2)
K ^RGNET(996.52,"C",X(1),X(2),DA)
"IX",996.52,996.52,"C",2.5)
K ^RGNET(996.52,"C")
"IX",996.52,996.52,"C",11.1,0)
^.114IA^2^2
"IX",996.52,996.52,"C",11.1,1,0)
1^F^996.52^1^10^1^F
"IX",996.52,996.52,"C",11.1,2,0)
2^F^996.52^.01^150^2^F
"KRN",.84,9981000,-1)
0^1
"KRN",.84,9981000,0)
9981000^1^^SERIALIZATION FRAMEWORK^404:not-supported
"KRN",.84,9981000,1,0)
^.842^2^2^3150420^^^
"KRN",.84,9981000,1,1,0)
The requested resource is unknown on this server.  This may mean that the
"KRN",.84,9981000,1,2,0)
resource name is invalid or that it has not been implemented on this server.
"KRN",.84,9981000,2,0)
^.844^1^1^3150415.054807
"KRN",.84,9981000,2,1,0)
The requested resource <em>|@RGNETREQ("PATH")|</em> is unknown on this server.
"KRN",.84,9981001,-1)
0^2
"KRN",.84,9981001,0)
9981001^1^^SERIALIZATION FRAMEWORK^404:not-found
"KRN",.84,9981001,1,0)
^.842^2^2^3150420^^^^
"KRN",.84,9981001,1,1,0)
The requested resource does not exist within this system.  This means that the
"KRN",.84,9981001,1,2,0)
resource was recognized, but the particular instance requested does not exist.
"KRN",.84,9981001,2,0)
^.844^3^3^3150420.150314
"KRN",.84,9981001,2,1,0)
The requested resource <em>|@RGNETREQ("PATH")|</em> does not exist.  The 
"KRN",.84,9981001,2,2,0)
database reported the following error:
"KRN",.84,9981001,2,3,0)
<em style='margin-left:10px'>|@$G(TMPL1)|</em>
"KRN",.84,9981001,3,0)
^.845
"KRN",.84,9981002,-1)
0^3
"KRN",.84,9981002,0)
9981002^1^^SERIALIZATION FRAMEWORK^406:structure
"KRN",.84,9981002,1,0)
^.842^1^1^3150420^^^^
"KRN",.84,9981002,1,1,0)
The server was unable to provide a response in the requested format.
"KRN",.84,9981002,2,0)
^.844^2^2^3150420.150214
"KRN",.84,9981002,2,1,0)
The server was unable to provide a response in the requested format:
"KRN",.84,9981002,2,2,0)
<em style='margin-left:10px'>|@RGSER("FORMAT")|</em>
"KRN",.84,9981003,-1)
0^4
"KRN",.84,9981003,0)
9981003^1^^SERIALIZATION FRAMEWORK^403:business-rule
"KRN",.84,9981003,1,0)
^.842^2^2^3150420^^^^
"KRN",.84,9981003,1,1,0)
The requested resource was recognized, but is reserved for internal use by this
"KRN",.84,9981003,1,2,0)
server and may not be directly referenced.
"KRN",.84,9981003,2,0)
^.844^1^1^3150415^^^^
"KRN",.84,9981003,2,1,0)
The requested resource <em>|@RGNETREQ("PATH")|</em> is reserved.
"KRN",.84,9981004,-1)
0^5
"KRN",.84,9981004,0)
9981004^1^^SERIALIZATION FRAMEWORK^403:too-costly
"KRN",.84,9981004,1,0)
^.842^3^3^3150420^^
"KRN",.84,9981004,1,1,0)
The requested resource does not support retrieval without specifying one or more
"KRN",.84,9981004,1,2,0)
instance identifiers.  The server may explicitly prohibit this action, or a
"KRN",.84,9981004,1,3,0)
suitable iterator for the resource is not available.
"KRN",.84,9981004,2,0)
^.844^1^1^3150415^^
"KRN",.84,9981004,2,1,0)
The requested resource <em>|@RGNETREQ("PATH")|</em> requires an instance identifier.
"KRN",.84,9981005,-1)
0^6
"KRN",.84,9981005,0)
9981005^1^^SERIALIZATION FRAMEWORK^403:value
"KRN",.84,9981005,1,0)
^.842^2^2^3150420^
"KRN",.84,9981005,1,1,0)
At least one search parameter was not recognized by the server.
"KRN",.84,9981005,1,2,0)
Either the parameter was incorrect or is not presently implemented.
"KRN",.84,9981005,2,0)
^^1^1^3150415.060606
"KRN",.84,9981005,2,1,0)
The specified search parameter <em>|@$G(TMPL1)|</em> was not recognized.
"KRN",.84,9981006,-1)
0^7
"KRN",.84,9981006,0)
9981006^1^^SERIALIZATION FRAMEWORK^404:not-found
"KRN",.84,9981006,1,0)
^.842^2^2^3150420^
"KRN",.84,9981006,1,1,0)
The specified resource instance failed to match the supplied
"KRN",.84,9981006,1,2,0)
search parameters.
"KRN",.84,9981006,2,0)
^.844^2^2^3150412.123705
"KRN",.84,9981006,2,1,0)
The resource <em>|@RGNETREQ("PATH")|</em> failed to match
"KRN",.84,9981006,2,2,0)
the specified search criteria.
"KRN",.84,9981007,-1)
0^8
"KRN",.84,9981007,0)
9981007^1^^SERIALIZATION FRAMEWORK^403:structure
"KRN",.84,9981007,1,0)
^.842^2^2^3150420^
"KRN",.84,9981007,1,1,0)
An operator associated with a supplied search parameter was
"KRN",.84,9981007,1,2,0)
either unrecognized or was invalid for that parameter. 
"KRN",.84,9981007,2,0)
^^2^2^3150415.060657
"KRN",.84,9981007,2,1,0)
The operator <em>|@$G(TMPL1)|</em> for search parameter <em>|@$G(TMPL2)|</em>
"KRN",.84,9981007,2,2,0)
is invalid.
"KRN",.84,9981008,-1)
0^9
"KRN",.84,9981008,0)
9981008^1^^SERIALIZATION FRAMEWORK^404:value
"KRN",.84,9981008,1,0)
^.842^2^2^3150420^
"KRN",.84,9981008,1,1,0)
A compound identifier of the format <code>#-#</code> was expected.
"KRN",.84,9981008,1,2,0)
The supplied identifier did not comply with this requirement. 
"KRN",.84,9981008,2,0)
^.844^1^1^3150415^
"KRN",.84,9981008,2,1,0)
The specified identifier <em>|@$G(TMPL1)|</em> is improperly formatted.
"KRN",8994,2719,-1)
0^1
"KRN",8994,2719,0)
RGSER FETCH^FETCH^RGSER^4^^^^0
"KRN",8994,2719,1,0)
^^1^1^3160805.132144
"KRN",8994,2719,1,1,0)
Fetches a serialized resource from the VistA Serialization Framework.
"KRN",8994,2719,2,0)
^8994.02A^3^3
"KRN",8994,2719,2,1,0)
PATH^1^^1^1
"KRN",8994,2719,2,1,1,0)
^^4^4^3160805.132303
"KRN",8994,2719,2,1,1,1,0)
The path for the requested resource type.  For example,
"KRN",8994,2719,2,1,1,2,0)

"KRN",8994,2719,2,1,1,3,0)
       DSTU2/Patient
"KRN",8994,2719,2,1,1,4,0)

"KRN",8994,2719,2,2,0)
SLCT^1^^1^2
"KRN",8994,2719,2,2,1,0)
^^2^2^3160805.132409
"KRN",8994,2719,2,2,1,1,0)
The selector(s) for the resources requested.  In its simplest form,
"KRN",8994,2719,2,2,1,2,0)
this is the internal entry # of the requested entry.
"KRN",8994,2719,2,3,0)
PARAMS^2^^0^3
"KRN",8994,2719,2,3,1,0)
^^5^5^3160805.132605
"KRN",8994,2719,2,3,1,1,0)
An array of options to be passed along with the request.  For example,
"KRN",8994,2719,2,3,1,2,0)
to return data in JSON format, pass the folowing entry in the PARAMS array:
"KRN",8994,2719,2,3,1,3,0)

"KRN",8994,2719,2,3,1,4,0)
       PARAMS("FORMAT")="json"
"KRN",8994,2719,2,3,1,5,0)

"KRN",8994,2719,2,"B","PARAMS",3)

"KRN",8994,2719,2,"B","PATH",1)

"KRN",8994,2719,2,"B","SLCT",2)

"KRN",8994,2719,2,"PARAMSEQ",1,1)

"KRN",8994,2719,2,"PARAMSEQ",2,2)

"KRN",8994,2719,2,"PARAMSEQ",3,3)

"KRN",8994,2719,3,0)
^^1^1^3160805.132624
"KRN",8994,2719,3,1,0)
The serialized data.
"MBREQ")
0
"ORD",9,.84)
.84;9;;;EDEOUT^DIFROMSO(.84,DA,"",XPDA);FPRE^DIFROMSI(.84,"",XPDA);EPRE^DIFROMSI(.84,DA,"",XPDA,"",OLDA);;EPOST^DIFROMSI(.84,DA,"",XPDA);DEL^DIFROMSK(.84,"",%)
"ORD",9,.84,0)
DIALOG
"ORD",16,8994)
8994;16;1;;;;;;;RPCDEL^XPDIA1
"ORD",16,8994,0)
REMOTE PROCEDURE
"PKG",224,-1)
1^1
"PKG",224,0)
SERIALIZATION FRAMEWORK^RGSE^Serialization framework
"PKG",224,20,0)
^9.402P^^
"PKG",224,22,0)
^9.49I^1^1
"PKG",224,22,1,0)
1.1^3171020
"PKG",224,22,1,1,0)
^^2^2^3171020
"PKG",224,22,1,1,1,0)
Framework for serializing and deserializing data for transport to and from
"PKG",224,22,1,1,2,0)
external systems.
"PKG",224,"DEV")
DKM/RI/CBMI
"PKG",224,"VERSION")
1.1
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
17
"RTN","RGSEFHIJ")
0^14^B37901716
"RTN","RGSEFHIJ",1,0)
RGSEFHIJ ;RI/CBMI/DKM - JSON FHIR Support ;20-Oct-2017 11:53;DKM
"RTN","RGSEFHIJ",2,0)
 ;;1.0;SERIALIZATION FRAMEWORK;;07-Feb-2015 08:51;Build 506
"RTN","RGSEFHIJ",3,0)
 ;=================================================================
"RTN","RGSEFHIJ",4,0)
 ; Implements Serializer interface
"RTN","RGSEFHIJ",5,0)
 ; Serializer.PREINIT - Preinitialization
"RTN","RGSEFHIJ",6,0)
PREINIT D PREINIT^RGSEJSON
"RTN","RGSEFHIJ",7,0)
 S RGSER("FHIR.VERSION")=$P(PATH,"/")
"RTN","RGSEFHIJ",8,0)
 D:$$ISBROWSR^RGNETWWW SETCTYPE^RGNETWWW("text/json")
"RTN","RGSEFHIJ",9,0)
 Q
"RTN","RGSEFHIJ",10,0)
 ; Serializer.PSTINIT - Postinitialization
"RTN","RGSEFHIJ",11,0)
PSTINIT D PSTINIT^RGSEJSON
"RTN","RGSEFHIJ",12,0)
 Q
"RTN","RGSEFHIJ",13,0)
 ; Serializer.PRELIST - List preprocessing
"RTN","RGSEFHIJ",14,0)
PRELIST I TOP,'$$INBUNDLE D NEWBNDL("Search results for resource type "_PATH) Q
"RTN","RGSEFHIJ",15,0)
 D:'$$INARY^RGSEJSON NEWARY("PRELIST")
"RTN","RGSEFHIJ",16,0)
 Q
"RTN","RGSEFHIJ",17,0)
 ; Serializer.PSTLIST - List postprocessing
"RTN","RGSEFHIJ",18,0)
PSTLIST I TOP,$$INBUNDLE,'$$ISERROR^RGNETWWW D ENDBNDL Q
"RTN","RGSEFHIJ",19,0)
 D:$$INARY^RGSEJSON("PRELIST") ENDARY("PRELIST")
"RTN","RGSEFHIJ",20,0)
 Q
"RTN","RGSEFHIJ",21,0)
 ; Serializer.COMPOSE - Compose an entry
"RTN","RGSEFHIJ",22,0)
COMPOSE N ENTRY,RTYPE,ATR,TAG,DSTU1
"RTN","RGSEFHIJ",23,0)
 S DSTU1=RGSER("FHIR.VERSION")="DSTU1"
"RTN","RGSEFHIJ",24,0)
 S RTYPE=$$GETRTYPE^RGSERGET(PATH,PNAME)
"RTN","RGSEFHIJ",25,0)
 S ENTRY='$L($G(PNAME))&$$INBUNDLE&'$$HASFLAG^RGSER("S")
"RTN","RGSEFHIJ",26,0)
 D:ENTRY NEWENTRY(RTYPE,ID)
"RTN","RGSEFHIJ",27,0)
 S:$$HASFLAG^RGSER("I") ATR(1,"id")=ID
"RTN","RGSEFHIJ",28,0)
 D PROP2ATR^RGSEFHIR(.PROP,.ATR)
"RTN","RGSEFHIJ",29,0)
 S:$L(PNAME) RTYPE=""
"RTN","RGSEFHIJ",30,0)
 S TAG=$S('ENTRY:PNAME,DSTU1:"content",1:"resource")
"RTN","RGSEFHIJ",31,0)
 D COMPOSEX^RGSEJSON(TAG,"resourceType",RTYPE,.ATR,1)
"RTN","RGSEFHIJ",32,0)
 D:ENTRY ENDENTRY
"RTN","RGSEFHIJ",33,0)
 Q
"RTN","RGSEFHIJ",34,0)
 ; Serializer.FMTDATE - Serialize a date
"RTN","RGSEFHIJ",35,0)
FMTDATE(DT) ;
"RTN","RGSEFHIJ",36,0)
 Q $$FMTDATE^RGSEXML(.DT)
"RTN","RGSEFHIJ",37,0)
 ; Serializer.ESCMAP - Location of escape map
"RTN","RGSEFHIJ",38,0)
ESCMAP() Q $$ESCMAP^RGSEJSON
"RTN","RGSEFHIJ",39,0)
 ; Serializer.PROPF - Free text property
"RTN","RGSEFHIJ",40,0)
PROPF G PROPF^RGSEJSON
"RTN","RGSEFHIJ",41,0)
 ; Serializer.PROPB - Boolean property
"RTN","RGSEFHIJ",42,0)
PROPB G PROPB^RGSEJSON
"RTN","RGSEFHIJ",43,0)
 ; Serializer.PROPD - Date property
"RTN","RGSEFHIJ",44,0)
PROPD G PROPD^RGSEJSON
"RTN","RGSEFHIJ",45,0)
 ; Serializer.PROPR - Raw value property
"RTN","RGSEFHIJ",46,0)
PROPR G PROPR^RGSEJSON
"RTN","RGSEFHIJ",47,0)
 ; Serializer.PROPW - Word processing property
"RTN","RGSEFHIJ",48,0)
PROPW G PROPW^RGSEJSON
"RTN","RGSEFHIJ",49,0)
 ; Serializer.PROPC - Custom property
"RTN","RGSEFHIJ",50,0)
PROPC X CTL
"RTN","RGSEFHIJ",51,0)
 Q
"RTN","RGSEFHIJ",52,0)
 ; Serializer.PROPO - Object property
"RTN","RGSEFHIJ",53,0)
PROPO G PROPO^RGSEJSON
"RTN","RGSEFHIJ",54,0)
 ; Serializer.PROPI - Inline property
"RTN","RGSEFHIJ",55,0)
PROPI G PROPI^RGSEJSON
"RTN","RGSEFHIJ",56,0)
 ; Serializer.PROPS - Static property
"RTN","RGSEFHIJ",57,0)
PROPS G PROPS^RGSEJSON
"RTN","RGSEFHIJ",58,0)
 ; Create a new bundle.
"RTN","RGSEFHIJ",59,0)
NEWBNDL(TITLE,ID,LINK) ;
"RTN","RGSEFHIJ",60,0)
 N OBJ
"RTN","RGSEFHIJ",61,0)
 D NEWOBJ("@Bundle")
"RTN","RGSEFHIJ",62,0)
 D PUT("resourceType","Bundle")
"RTN","RGSEFHIJ",63,0)
 I RGSER("FHIR.VERSION")="DSTU1" D
"RTN","RGSEFHIJ",64,0)
 .S:'$D(ID) ID="urn:uuid:"_$$UUID^RGUT
"RTN","RGSEFHIJ",65,0)
 .D PUT("id",ID)
"RTN","RGSEFHIJ",66,0)
 .D PUT("title",$G(TITLE,"Query Results"))
"RTN","RGSEFHIJ",67,0)
 .D PUTDT("updated",$$NOW^XLFDT)
"RTN","RGSEFHIJ",68,0)
 .D PUT("totalResults",0)
"RTN","RGSEFHIJ",69,0)
 .S RGSER("FHIR.BUNDLE")=RGNETRSP("LAST")
"RTN","RGSEFHIJ",70,0)
 .D NEWARY("link")
"RTN","RGSEFHIJ",71,0)
 .I $D(LINK)#2 D
"RTN","RGSEFHIJ",72,0)
 ..S OBJ(1,"rel")="self",OBJ(2,"href")=LINK
"RTN","RGSEFHIJ",73,0)
 ..D PUTOBJ^RGSEJSON(,.OBJ)
"RTN","RGSEFHIJ",74,0)
 .S OBJ(1,"rel")="fhir-base",OBJ(2,"href")=$$HOSTURL^RGNETWWW("*")
"RTN","RGSEFHIJ",75,0)
 .D PUTOBJ^RGSEJSON(,.OBJ)
"RTN","RGSEFHIJ",76,0)
 .D ENDARY("link")
"RTN","RGSEFHIJ",77,0)
 E  D
"RTN","RGSEFHIJ",78,0)
 .S:'$D(ID) ID=$$UUID^RGUT
"RTN","RGSEFHIJ",79,0)
 .D PUT("id",ID)
"RTN","RGSEFHIJ",80,0)
 .D NEWOBJ("meta"),PUT("versionId",1),PUT("lastUpdated",$$FMTDATE),ENDOBJ("meta")
"RTN","RGSEFHIJ",81,0)
 .D PUT("type","searchset")
"RTN","RGSEFHIJ",82,0)
 .D PUT("total",0)
"RTN","RGSEFHIJ",83,0)
 .S RGSER("FHIR.BUNDLE")=RGNETRSP("LAST")
"RTN","RGSEFHIJ",84,0)
 .I $D(LINK)#2 D
"RTN","RGSEFHIJ",85,0)
 ..D NEWARY("link")
"RTN","RGSEFHIJ",86,0)
 ..S OBJ(1,"relation")="self",OBJ(2,"url")=LINK
"RTN","RGSEFHIJ",87,0)
 ..D PUTOBJ^RGSEJSON(,.OBJ)
"RTN","RGSEFHIJ",88,0)
 ..D ENDARY("link")
"RTN","RGSEFHIJ",89,0)
 D NEWARY("entry")
"RTN","RGSEFHIJ",90,0)
 S RGSER("FHIR.COUNT")=0
"RTN","RGSEFHIJ",91,0)
 Q
"RTN","RGSEFHIJ",92,0)
 ; Close current bundle.
"RTN","RGSEFHIJ",93,0)
ENDBNDL N POS
"RTN","RGSEFHIJ",94,0)
 S POS=$$INBUNDLE
"RTN","RGSEFHIJ",95,0)
 Q:'POS
"RTN","RGSEFHIJ",96,0)
 D ENDOBJ("@Bundle"),REPLACE^RGNETWWW(POS,$$SUBST^RGUT(@RGNETRSP@(POS),"0",RGSER("FHIR.COUNT")))
"RTN","RGSEFHIJ",97,0)
 K RGSER("FHIR.BUNDLE"),RGSER("FHIR.COUNT")
"RTN","RGSEFHIJ",98,0)
 Q
"RTN","RGSEFHIJ",99,0)
 ; Returns true if in a bundle.
"RTN","RGSEFHIJ",100,0)
INBUNDLE() Q $G(RGSER("FHIR.BUNDLE"))
"RTN","RGSEFHIJ",101,0)
 ; Creates a new bundle entry.
"RTN","RGSEFHIJ",102,0)
NEWENTRY(RTYP,IEN) ;
"RTN","RGSEFHIJ",103,0)
 D NEWOBJ("@entry")
"RTN","RGSEFHIJ",104,0)
 S:IEN'["/" IEN=RTYP_"/"_IEN
"RTN","RGSEFHIJ",105,0)
 I RGSER("FHIR.VERSION")="DSTU1" D
"RTN","RGSEFHIJ",106,0)
 .D PUT("id",IEN)
"RTN","RGSEFHIJ",107,0)
 .D PUT("updated",$$FMTDATE)
"RTN","RGSEFHIJ",108,0)
 E  D
"RTN","RGSEFHIJ",109,0)
 .D PUT("fullUrl",$$HOSTURL^RGNETWWW("*/"_IEN))
"RTN","RGSEFHIJ",110,0)
 S RGSER("FHIR.COUNT")=RGSER("FHIR.COUNT")+1
"RTN","RGSEFHIJ",111,0)
 Q
"RTN","RGSEFHIJ",112,0)
 ; Closes current bundle entry.
"RTN","RGSEFHIJ",113,0)
ENDENTRY() ;
"RTN","RGSEFHIJ",114,0)
 D ENDOBJ("@entry")
"RTN","RGSEFHIJ",115,0)
 Q
"RTN","RGSEFHIJ",116,0)
NEWARY(NM) ;
"RTN","RGSEFHIJ",117,0)
 D NEWARY^RGSEJSON(.NM)
"RTN","RGSEFHIJ",118,0)
 Q
"RTN","RGSEFHIJ",119,0)
ENDARY(NM) ;
"RTN","RGSEFHIJ",120,0)
 D ENDARY^RGSEJSON(.NM)
"RTN","RGSEFHIJ",121,0)
 Q
"RTN","RGSEFHIJ",122,0)
NEWOBJ(NM) ;
"RTN","RGSEFHIJ",123,0)
 D NEWOBJ^RGSEJSON(.NM)
"RTN","RGSEFHIJ",124,0)
 Q
"RTN","RGSEFHIJ",125,0)
ENDOBJ(NM) ;
"RTN","RGSEFHIJ",126,0)
 D ENDOBJ^RGSEJSON(.NM)
"RTN","RGSEFHIJ",127,0)
 Q
"RTN","RGSEFHIJ",128,0)
 ; Put a name/value pair to output buffer
"RTN","RGSEFHIJ",129,0)
PUT(NM,VL) ;
"RTN","RGSEFHIJ",130,0)
 D PUT^RGSEJSON(.NM,.VL) Q
"RTN","RGSEFHIJ",131,0)
 ; Put an array to output buffer
"RTN","RGSEFHIJ",132,0)
PUTARY(NM,ARY,LT,CT) ;
"RTN","RGSEFHIJ",133,0)
 D PUTARY^RGSEJSON(.NM,.ARY,.LT,.CT)
"RTN","RGSEFHIJ",134,0)
 Q
"RTN","RGSEFHIJ",135,0)
 ; Put a date value to output buffer
"RTN","RGSEFHIJ",136,0)
PUTDT(NM,DT) ;
"RTN","RGSEFHIJ",137,0)
 D PUTDT^RGSEJSON(.NM,.DT) Q
"RTN","RGSEFHIJ",138,0)
 ; Write the text section
"RTN","RGSEFHIJ",139,0)
 ; TXT = Scalar value (will be escaped) or
"RTN","RGSEFHIJ",140,0)
 ;       array (will not be escaped)
"RTN","RGSEFHIJ",141,0)
TEXT(TXT) ;
"RTN","RGSEFHIJ",142,0)
 N ATR,LP
"RTN","RGSEFHIJ",143,0)
 D NEWOBJ("text"),PUT("status","generated")
"RTN","RGSEFHIJ",144,0)
 I $D(TXT)=1 D
"RTN","RGSEFHIJ",145,0)
 .D PUT("div",TXT)
"RTN","RGSEFHIJ",146,0)
 E  D PUTARY("div",.TXT,,1)
"RTN","RGSEFHIJ",147,0)
 D ENDOBJ("text")
"RTN","RGSEFHIJ",148,0)
 Q
"RTN","RGSEFHIJ",149,0)
 ; Reformats a variable pointer for use as a resource id.
"RTN","RGSEFHIJ",150,0)
VP2ID(VP) ;
"RTN","RGSEFHIJ",151,0)
 Q $$VP2ID^RGSEFHIR(.VP)
"RTN","RGSEFHIJ",152,0)
 ; Identifier
"RTN","RGSEFHIJ",153,0)
IDENT(SYSTEM,VALUE,TYPE,USE) ;
"RTN","RGSEFHIJ",154,0)
 Q:'$L(VALUE)
"RTN","RGSEFHIJ",155,0)
 D NEWOBJ("identifier")
"RTN","RGSEFHIJ",156,0)
 D PUT("use",.USE)
"RTN","RGSEFHIJ",157,0)
 I DSTU1 D
"RTN","RGSEFHIJ",158,0)
 .D PUT("label",.TYPE)
"RTN","RGSEFHIJ",159,0)
 E  D:$D(TYPE)
"RTN","RGSEFHIJ",160,0)
 .D PARSIDTP^RGSEFHIR(.TYPE),CODING("type",TYPE(2),TYPE(0),TYPE(1))
"RTN","RGSEFHIJ",161,0)
 D PUT("system",$$SYSTEM^RGSER(.SYSTEM))
"RTN","RGSEFHIJ",162,0)
 D PUT("value",VALUE)
"RTN","RGSEFHIJ",163,0)
 D ENDOBJ("identifier")
"RTN","RGSEFHIJ",164,0)
 Q
"RTN","RGSEFHIJ",165,0)
 ; Reference
"RTN","RGSEFHIJ",166,0)
REF(TAG,RES,VL,PFX) ;
"RTN","RGSEFHIJ",167,0)
 D REF2(.TAG,RES,VL("I"),VL("E"),.PFX)
"RTN","RGSEFHIJ",168,0)
 Q
"RTN","RGSEFHIJ",169,0)
 ; Reference
"RTN","RGSEFHIJ",170,0)
REF2(TAG,RES,VLI,VLE,PFX) ;
"RTN","RGSEFHIJ",171,0)
 I $L(VLI)!$L(VLE) D
"RTN","RGSEFHIJ",172,0)
 .D:$D(TAG) NEWOBJ(TAG)
"RTN","RGSEFHIJ",173,0)
 .D:$L(VLI) PUT("reference",RES_"/"_$G(PFX)_VLI)
"RTN","RGSEFHIJ",174,0)
 .D:$L(VLE) PUT("display",VLE)
"RTN","RGSEFHIJ",175,0)
 .D:$D(TAG) ENDOBJ(TAG)
"RTN","RGSEFHIJ",176,0)
 Q
"RTN","RGSEFHIJ",177,0)
 ; Codeable concept
"RTN","RGSEFHIJ",178,0)
CODING(TAG,SYSTEM,CODE,DISPLAY) ;
"RTN","RGSEFHIJ",179,0)
 I '$L($G(CODE)),'$L($G(DISPLAY)) Q
"RTN","RGSEFHIJ",180,0)
 D:$L($G(TAG)) NEWOBJ(TAG),NEWARY("coding")
"RTN","RGSEFHIJ",181,0)
 D NEWOBJ("@coding")
"RTN","RGSEFHIJ",182,0)
 D PUT("system",$$SYSTEM^RGSER(.SYSTEM))
"RTN","RGSEFHIJ",183,0)
 D PUT("code",.CODE)
"RTN","RGSEFHIJ",184,0)
 D PUT("display",.DISPLAY)
"RTN","RGSEFHIJ",185,0)
 D ENDOBJ("@coding")
"RTN","RGSEFHIJ",186,0)
 D:$L($G(TAG)) ENDOBJ(TAG)
"RTN","RGSEFHIJ",187,0)
 Q
"RTN","RGSEFHIJ",188,0)
 ; Contact
"RTN","RGSEFHIJ",189,0)
CONTACT(SYSTEM,VALUE,USE,START,END) ;
"RTN","RGSEFHIJ",190,0)
 Q:'$L(VALUE)
"RTN","RGSEFHIJ",191,0)
 D NEWOBJ("@contact")
"RTN","RGSEFHIJ",192,0)
 D PUT("system",$$SYSTEM^RGSER(.SYSTEM))
"RTN","RGSEFHIJ",193,0)
 D PUT("use",.USE)
"RTN","RGSEFHIJ",194,0)
 D PUT("value",VALUE)
"RTN","RGSEFHIJ",195,0)
 D PERIOD(.START,.END)
"RTN","RGSEFHIJ",196,0)
 D ENDOBJ("@contact")
"RTN","RGSEFHIJ",197,0)
 Q
"RTN","RGSEFHIJ",198,0)
 ; Telecom
"RTN","RGSEFHIJ",199,0)
TELECOM D:VL CONTACT($P(PN(0),":"),VL("E"),$P(PN(0),":",2))
"RTN","RGSEFHIJ",200,0)
 Q
"RTN","RGSEFHIJ",201,0)
 ; Period
"RTN","RGSEFHIJ",202,0)
PERIOD(START,END) ;
"RTN","RGSEFHIJ",203,0)
 I $G(START)!$G(END) D
"RTN","RGSEFHIJ",204,0)
 .D NEWOBJ("period")
"RTN","RGSEFHIJ",205,0)
 .D:$G(START) PUTDT("start",START)
"RTN","RGSEFHIJ",206,0)
 .D:$G(END) PUTDT("end",END)
"RTN","RGSEFHIJ",207,0)
 .D ENDOBJ("period")
"RTN","RGSEFHIJ",208,0)
 Q
"RTN","RGSEFHIJ",209,0)
NAME(NAME,USE) ;
"RTN","RGSEFHIJ",210,0)
 N X,F
"RTN","RGSEFHIJ",211,0)
 D NEWOBJ("@name")
"RTN","RGSEFHIJ",212,0)
 D PUT("use",$G(USE,"usual"))
"RTN","RGSEFHIJ",213,0)
 D PUT("text",$S($E(NAME)=",":$E(NAME,2,99),1:NAME))
"RTN","RGSEFHIJ",214,0)
 S X(1)=$P(NAME,","),NAME=$P(NAME,",",2,99),F=RGSER("VER")<1.8
"RTN","RGSEFHIJ",215,0)
 D:$L(X(1)) PUTARY("family",.X):F,PUT("family",X(1)):'F
"RTN","RGSEFHIJ",216,0)
 K X
"RTN","RGSEFHIJ",217,0)
 F X=1:1:$L(NAME," ") S X(X)=$P(NAME," ",X)
"RTN","RGSEFHIJ",218,0)
 D PUTARY("given",.X)
"RTN","RGSEFHIJ",219,0)
 D ENDOBJ("@name")
"RTN","RGSEFHIJ",220,0)
 Q
"RTN","RGSEFHIR")
0^1^B10444581
"RTN","RGSEFHIR",1,0)
RGSEFHIR ;RI/CBMI/DKM - Generic FHIR Support ;08-Aug-2016 08:42;DKM
"RTN","RGSEFHIR",2,0)
 ;;1.0;SERIALIZATION FRAMEWORK;;07-Feb-2015 08:51;Build 506
"RTN","RGSEFHIR",3,0)
 ;=================================================================
"RTN","RGSEFHIR",4,0)
 ; Generates an operation outcome resource
"RTN","RGSEFHIR",5,0)
 ;  ID    = Dialog offset (base = 9981000)
"RTN","RGSEFHIR",6,0)
 ;  TMPLn = Optional parameters for template
"RTN","RGSEFHIR",7,0)
OPEROUT(ID,TMPL1,TMPL2,TMPL3,TMPL4,TMPL5) ;
"RTN","RGSEFHIR",8,0)
 N STATUS,ERROR,N0
"RTN","RGSEFHIR",9,0)
 S ID=ID+9981000,N0=$G(^DI(.84,ID,0)),STATUS=+$P(N0,U,5),ERROR=$P(N0,U,2)=1
"RTN","RGSEFHIR",10,0)
 I '$L(N0) S STATUS="500:Missing dialog #"_ID,ERROR=1
"RTN","RGSEFHIR",11,0)
 E  I '$G(RGSER("OPEROUT")) D
"RTN","RGSEFHIR",12,0)
 .S RGSER("OPEROUT")=ERROR
"RTN","RGSEFHIR",13,0)
 .D:ERROR RESET^RGNETWWW
"RTN","RGSEFHIR",14,0)
 .D GET^RGSERGET(.RGSER,"*/OperationOutcome",ID)
"RTN","RGSEFHIR",15,0)
 D:ERROR SETSTAT^RGNETWWW($P(STATUS,":"),$P(STATUS,":",2,999),0)
"RTN","RGSEFHIR",16,0)
 Q
"RTN","RGSEFHIR",17,0)
 ; Process any attribute properties
"RTN","RGSEFHIR",18,0)
 ; An attribute property begins with "attr:" and is used to generate
"RTN","RGSEFHIR",19,0)
 ; additional attributes on an embedded resource.
"RTN","RGSEFHIR",20,0)
 ;  .PROP = Property array
"RTN","RGSEFHIR",21,0)
 ;  .ATR  = Attribute array to receive attributes
"RTN","RGSEFHIR",22,0)
PROP2ATR(PROP,ATR) ;
"RTN","RGSEFHIR",23,0)
 N NM,LP,X,Y
"RTN","RGSEFHIR",24,0)
 S NM="attr:"
"RTN","RGSEFHIR",25,0)
 F  S NM=$O(PROP("B",NM)) Q:$P(NM,":")'="attr"  D
"RTN","RGSEFHIR",26,0)
 .F LP=0:0 S LP=$O(PROP("B",NM,LP)) Q:'LP  D
"RTN","RGSEFHIR",27,0)
 ..S X=PROP(LP,0),Y=$G(PROP(LP,10))
"RTN","RGSEFHIR",28,0)
 ..Q:$P(X,U,3)'="N"!'$L(Y)
"RTN","RGSEFHIR",29,0)
 ..S X=$P(X,U),ATR(99,$P(X,":",2))=Y
"RTN","RGSEFHIR",30,0)
 Q
"RTN","RGSEFHIR",31,0)
 ; Reformats a variable pointer for use as a resource id.
"RTN","RGSEFHIR",32,0)
 ; Returned id is formatted as <file #>-<ien>.
"RTN","RGSEFHIR",33,0)
 ;  VP = Variable pointer value
"RTN","RGSEFHIR",34,0)
VP2ID(VP) ;
"RTN","RGSEFHIR",35,0)
 Q:'$L(VP) ""
"RTN","RGSEFHIR",36,0)
 N X
"RTN","RGSEFHIR",37,0)
 S X=$P(VP,";",2)
"RTN","RGSEFHIR",38,0)
 S:X'["(" X=X_"("
"RTN","RGSEFHIR",39,0)
 S X=+$P($G(@(U_X_"0)")),U,2)
"RTN","RGSEFHIR",40,0)
 Q $S(X:X_"-"_+VP,1:"")
"RTN","RGSEFHIR",41,0)
 ; Value set iterator
"RTN","RGSEFHIR",42,0)
ITERVS(CTX) ;
"RTN","RGSEFHIR",43,0)
 I '$Q D ITER(CTX,"ValueSet_") Q
"RTN","RGSEFHIR",44,0)
 Q $$ITER(CTX)
"RTN","RGSEFHIR",45,0)
 ; Serialization file iterator
"RTN","RGSEFHIR",46,0)
ITER(CTX,ROOT) ;
"RTN","RGSEFHIR",47,0)
 N TMP,LAST,IEN,SER
"RTN","RGSEFHIR",48,0)
 S TMP=$$TMPGBL^RGNETWWW(CTX)
"RTN","RGSEFHIR",49,0)
 I '$Q D  Q
"RTN","RGSEFHIR",50,0)
 .S @TMP@("IEN")=0,^("SER")=RGSER("SER"),(^("LAST"),^("ROOT"))=ROOT
"RTN","RGSEFHIR",51,0)
 S LAST=@TMP@("LAST"),IEN=^("IEN"),SER=^("SER"),ROOT=^("ROOT")
"RTN","RGSEFHIR",52,0)
 F  D  Q:IEN
"RTN","RGSEFHIR",53,0)
 .I 'IEN D  Q:IEN
"RTN","RGSEFHIR",54,0)
 ..S LAST=$O(^RGSER(998.1,SER,10,"B",LAST))
"RTN","RGSEFHIR",55,0)
 ..I $E(LAST,1,$L(ROOT))=ROOT S @TMP@("LAST")=LAST
"RTN","RGSEFHIR",56,0)
 ..E  S IEN=-1
"RTN","RGSEFHIR",57,0)
 .S IEN=+$O(^RGSER(998.1,SER,10,"B",LAST,IEN)),@TMP@("IEN")=IEN
"RTN","RGSEFHIR",58,0)
 Q $S(IEN=-1:0,1:IEN)
"RTN","RGSEFHIR",59,0)
 ; List resources for conformance document.
"RTN","RGSEFHIR",60,0)
 ; Referenced within metadata.CONFORMANCE template to dynamically
"RTN","RGSEFHIR",61,0)
 ; generate supported resources.
"RTN","RGSEFHIR",62,0)
RESCONF() ;
"RTN","RGSEFHIR",63,0)
 N RESNAME,RESIEN,RESNUM
"RTN","RGSEFHIR",64,0)
 S RESNAME="",RESNUM=0
"RTN","RGSEFHIR",65,0)
 F  S RESNAME=$O(^RGSER(998.1,RGSER("SER"),10,"B",RESNAME)) Q:'$L(RESNAME)  S RESIEN=$O(^(RESNAME,0)) D
"RTN","RGSEFHIR",66,0)
 .Q:RESNAME="metadata"!(RESNAME["/")
"RTN","RGSEFHIR",67,0)
 .Q:$P(^RGSER(998.1,RGSER("SER"),10,RESIEN,0),U,2)
"RTN","RGSEFHIR",68,0)
 .D TEMPLATE^RGSERGET("CONFORMANCE_RESOURCE")
"RTN","RGSEFHIR",69,0)
 .S RESNUM=RESNUM+1
"RTN","RGSEFHIR",70,0)
 Q:$Q ""
"RTN","RGSEFHIR",71,0)
 Q
"RTN","RGSEFHIR",72,0)
 ; List search parameter conformance for a resource.
"RTN","RGSEFHIR",73,0)
 ; Referenced within metadata.CONFORMANCE_RESOURCE template.
"RTN","RGSEFHIR",74,0)
SRPCONF() ;
"RTN","RGSEFHIR",75,0)
 N SRPNAME,SRPIEN,SRPTYPE,SRPNUM
"RTN","RGSEFHIR",76,0)
 S SRPNAME="",SRPNUM=0
"RTN","RGSEFHIR",77,0)
 F  S SRPNAME=$O(^RGSER(998.1,RGSER("SER"),10,RESIEN,40,"B",SRPNAME)) Q:'$L(SRPNAME)  S SRPIEN=$O(^(SRPNAME,0)) D
"RTN","RGSEFHIR",78,0)
 .Q:$E(SRPNAME)="@"
"RTN","RGSEFHIR",79,0)
 .S SRPTYPE=$P(^RGSER(998.1,RGSER("SER"),10,RESIEN,40,SRPIEN,0),U,3)
"RTN","RGSEFHIR",80,0)
 .S SRPTYPE=$$LOW^XLFSTR($$EXTERNAL^DILFD(998.13,2,,SRPTYPE))
"RTN","RGSEFHIR",81,0)
 .I $L(SRPTYPE) D
"RTN","RGSEFHIR",82,0)
 ..D TEMPLATE^RGSERGET("CONFORMANCE_PARAMETER")
"RTN","RGSEFHIR",83,0)
 ..S SRPNUM=SRPNUM+1
"RTN","RGSEFHIR",84,0)
 Q:$Q ""
"RTN","RGSEFHIR",85,0)
 Q
"RTN","RGSEFHIR",86,0)
 ; Parses an identifier type.  Format is:
"RTN","RGSEFHIR",87,0)
 ;   <code>,<display>,<system>
"RTN","RGSEFHIR",88,0)
 ;   .TYPE = Identifier type to parse.
"RTN","RGSEFHIR",89,0)
 ; Returned as TYPE(0) = code, TYPE(1) = display, TYPE(2) = system
"RTN","RGSEFHIR",90,0)
PARSIDTP(TYPE) ;
"RTN","RGSEFHIR",91,0)
 S TYPE(0)=$P(TYPE,","),TYPE(1)=$P(TYPE,",",2),TYPE(2)=$P(TYPE,",",3)
"RTN","RGSEFHIR",92,0)
 S:'$L(TYPE(1)) TYPE(1)=TYPE(0)
"RTN","RGSEFHIR",93,0)
 S:'$L(TYPE(2)) TYPE(2)="http://va.gov/identifier"
"RTN","RGSEFHIR",94,0)
 S TYPE(2)=$$SYSTEM^RGSER(TYPE(2))
"RTN","RGSEFHIR",95,0)
 Q
"RTN","RGSEFHIX")
0^15^B40235182
"RTN","RGSEFHIX",1,0)
RGSEFHIX ;RI/CBMI/DKM - XML FHIR Support ;20-Oct-2017 11:32;DKM
"RTN","RGSEFHIX",2,0)
 ;;1.0;SERIALIZATION FRAMEWORK;;07-Feb-2015 08:51;Build 506
"RTN","RGSEFHIX",3,0)
 ;=================================================================
"RTN","RGSEFHIX",4,0)
 ; Implements Serializer interface
"RTN","RGSEFHIX",5,0)
 ; Serializer.PREINIT - Preinitialization
"RTN","RGSEFHIX",6,0)
PREINIT D PREINIT^RGSEXML
"RTN","RGSEFHIX",7,0)
 S RGSER("FHIR.VERSION")=$P(PATH,"/")
"RTN","RGSEFHIX",8,0)
 D:$$ISBROWSR^RGNETWWW SETCTYPE^RGNETWWW("text/xml")
"RTN","RGSEFHIX",9,0)
 Q
"RTN","RGSEFHIX",10,0)
 ; Serializer.PSTINIT - Postinitialization
"RTN","RGSEFHIX",11,0)
PSTINIT D PSTINIT^RGSEXML
"RTN","RGSEFHIX",12,0)
 Q
"RTN","RGSEFHIX",13,0)
 ; Serializer.PRELIST - List preprocessing
"RTN","RGSEFHIX",14,0)
PRELIST I TOP,'$$INBUNDLE D NEWBNDL("Search results for resource type "_PATH)
"RTN","RGSEFHIX",15,0)
 Q
"RTN","RGSEFHIX",16,0)
 ; Serializer.PSTLIST - List postprocessing
"RTN","RGSEFHIX",17,0)
PSTLIST I TOP,$$INBUNDLE,'$$ISERROR^RGNETWWW D ENDBNDL
"RTN","RGSEFHIX",18,0)
 Q
"RTN","RGSEFHIX",19,0)
 ; Serializer.COMPOSE - Compose an entry
"RTN","RGSEFHIX",20,0)
COMPOSE N ENTRY,TAG,ATR,DSTU1
"RTN","RGSEFHIX",21,0)
 S DSTU1=RGSER("FHIR.VERSION")="DSTU1"
"RTN","RGSEFHIX",22,0)
 S TAG=$$GETRTYPE^RGSERGET(PATH,PNAME)
"RTN","RGSEFHIX",23,0)
 S ENTRY='$L($G(PNAME))&$$INBUNDLE&'$$HASFLAG^RGSER("S")
"RTN","RGSEFHIX",24,0)
 D:ENTRY NEWENTRY(TAG,ID)
"RTN","RGSEFHIX",25,0)
 S:'$L(PNAME) ATR(0,"xmlns")="http://hl7.org/fhir"
"RTN","RGSEFHIX",26,0)
 S:$$HASFLAG^RGSER("I") ATR(1,"id")=ID
"RTN","RGSEFHIX",27,0)
 D PROP2ATR^RGSEFHIR(.PROP,.ATR)
"RTN","RGSEFHIX",28,0)
 S:$E(TAG)="@" TAG=""
"RTN","RGSEFHIX",29,0)
 D NEWTAG(TAG,.ATR):$L(TAG),PROCPROP^RGSERGET,ENDTAG(TAG):$L(TAG)
"RTN","RGSEFHIX",30,0)
 D:ENTRY ENDENTRY
"RTN","RGSEFHIX",31,0)
 Q
"RTN","RGSEFHIX",32,0)
 ; Serializer.FMTDATE - Serialize a date
"RTN","RGSEFHIX",33,0)
FMTDATE(DT) ;
"RTN","RGSEFHIX",34,0)
 Q $$FMTDATE^RGSEXML(.DT)
"RTN","RGSEFHIX",35,0)
 ; Serializer.ESCMAP - Location of escape map
"RTN","RGSEFHIX",36,0)
ESCMAP() Q $$ESCMAP^RGSEXML
"RTN","RGSEFHIX",37,0)
 ; Serializer.PROPF - Free text property
"RTN","RGSEFHIX",38,0)
PROPF G PROPF^RGSEXML
"RTN","RGSEFHIX",39,0)
 ; Serializer.PROPB - Boolean property
"RTN","RGSEFHIX",40,0)
PROPB G PROPB^RGSEXML
"RTN","RGSEFHIX",41,0)
 ; Serializer.PROPD - Date property
"RTN","RGSEFHIX",42,0)
PROPD G PROPD^RGSEXML
"RTN","RGSEFHIX",43,0)
 ; Serializer.PROPR - Raw value property
"RTN","RGSEFHIX",44,0)
PROPR G PROPR^RGSEXML
"RTN","RGSEFHIX",45,0)
 ; Serializer.PROPW - Word processing property
"RTN","RGSEFHIX",46,0)
PROPW G PROPW^RGSEXML
"RTN","RGSEFHIX",47,0)
 ; Serializer.PROPC - Custom property
"RTN","RGSEFHIX",48,0)
PROPC X CTL
"RTN","RGSEFHIX",49,0)
 Q
"RTN","RGSEFHIX",50,0)
 ; Serializer.PROPO - Object property
"RTN","RGSEFHIX",51,0)
PROPO G PROPO^RGSEXML
"RTN","RGSEFHIX",52,0)
 ; Serializer.PROPI - Inline property
"RTN","RGSEFHIX",53,0)
PROPI G PROPI^RGSEXML
"RTN","RGSEFHIX",54,0)
 ; Serializer.PROPS - Static property
"RTN","RGSEFHIX",55,0)
PROPS G PROPS^RGSEXML
"RTN","RGSEFHIX",56,0)
 ; Create a new bundle.
"RTN","RGSEFHIX",57,0)
NEWBNDL(TITLE,ID,LINK) ;
"RTN","RGSEFHIX",58,0)
 N ATR
"RTN","RGSEFHIX",59,0)
 I RGSER("FHIR.VERSION")="DSTU1" D
"RTN","RGSEFHIX",60,0)
 .D:'$$ISBROWSR^RGNETWWW SETCTYPE^RGNETWWW("application/atom+xml")
"RTN","RGSEFHIX",61,0)
 .S:'$D(ID) ID="urn:uuid:"_$$UUID^RGUT
"RTN","RGSEFHIX",62,0)
 .S ATR("xmlns")="http://www.w3.org/2005/Atom"
"RTN","RGSEFHIX",63,0)
 .D NEWTAG("feed",.ATR)
"RTN","RGSEFHIX",64,0)
 .D NEWTAG("title",$G(TITLE,"Query Results"),1)
"RTN","RGSEFHIX",65,0)
 .D NEWTAG("id",ID,1)
"RTN","RGSEFHIX",66,0)
 .S:$D(LINK)#2 ATR(1,"rel")="self",ATR(2,"href")=LINK
"RTN","RGSEFHIX",67,0)
 .D:$D(ATR) NEWTAG("link",.ATR,1)
"RTN","RGSEFHIX",68,0)
 .S ATR(1,"rel")="fhir-base",ATR(2,"href")=$$HOSTURL^RGNETWWW("*")
"RTN","RGSEFHIX",69,0)
 .D NEWTAG("link",.ATR,1)
"RTN","RGSEFHIX",70,0)
 .D NEWTAG("updated",$$FMTDATE,1)
"RTN","RGSEFHIX",71,0)
 .D NEWTAG("author"),NEWTAG("name",$P($G(^DIC(4,+$G(DUZ(2)),0),"Unknown"),U),1),ENDTAG("author")
"RTN","RGSEFHIX",72,0)
 .S ATR=0,ATR("xmlns")="http://a9.com/-/spec/opensearch/1.1/"
"RTN","RGSEFHIX",73,0)
 .D NEWTAG("totalResults",.ATR,1)
"RTN","RGSEFHIX",74,0)
 .S RGSER("FHIR.BUNDLE")=RGNETRSP("LAST")-1
"RTN","RGSEFHIX",75,0)
 E  D
"RTN","RGSEFHIX",76,0)
 .S:'$D(ID) ID=$$UUID^RGUT
"RTN","RGSEFHIX",77,0)
 .S ATR("xmlns")="http://hl7.org/fhir"
"RTN","RGSEFHIX",78,0)
 .D NEWTAG("Bundle",.ATR)
"RTN","RGSEFHIX",79,0)
 .D PUT("id",ID)
"RTN","RGSEFHIX",80,0)
 .D NEWTAG("meta"),PUT("versionId",1),PUT("lastUpdated",$$FMTDATE),ENDTAG("meta")
"RTN","RGSEFHIX",81,0)
 .D PUT("type","searchset")
"RTN","RGSEFHIX",82,0)
 .D PUT("total",0)
"RTN","RGSEFHIX",83,0)
 .S RGSER("FHIR.BUNDLE")=RGNETRSP("LAST")
"RTN","RGSEFHIX",84,0)
 .D:$D(LINK)#2 NEWTAG("link"),PUT("relation","self"),PUT("url",LINK),ENDTAG("link")
"RTN","RGSEFHIX",85,0)
 S RGSER("FHIR.COUNT")=0
"RTN","RGSEFHIX",86,0)
 Q
"RTN","RGSEFHIX",87,0)
 ; Close current bundle.
"RTN","RGSEFHIX",88,0)
ENDBNDL N POS
"RTN","RGSEFHIX",89,0)
 S POS=$$INBUNDLE
"RTN","RGSEFHIX",90,0)
 Q:'POS
"RTN","RGSEFHIX",91,0)
 I RGSER("FHIR.VERSION")="DSTU1" D
"RTN","RGSEFHIX",92,0)
 .D ENDTAG("feed")
"RTN","RGSEFHIX",93,0)
 .D REPLACE^RGNETWWW(POS,RGSER("FHIR.COUNT"))
"RTN","RGSEFHIX",94,0)
 E  D
"RTN","RGSEFHIX",95,0)
 .D ENDTAG("Bundle")
"RTN","RGSEFHIX",96,0)
 .D REPLACE^RGNETWWW(POS,"<total value="""_RGSER("FHIR.COUNT")_"""/>")
"RTN","RGSEFHIX",97,0)
 K RGSER("FHIR.BUNDLE"),RGSER("FHIR.COUNT")
"RTN","RGSEFHIX",98,0)
 Q
"RTN","RGSEFHIX",99,0)
 ; Returns true if in a bundle.
"RTN","RGSEFHIX",100,0)
INBUNDLE() Q $G(RGSER("FHIR.BUNDLE"))
"RTN","RGSEFHIX",101,0)
 ; Creates a new bundle entry.
"RTN","RGSEFHIX",102,0)
NEWENTRY(RTYP,IEN) ;
"RTN","RGSEFHIX",103,0)
 N ATR
"RTN","RGSEFHIX",104,0)
 S:IEN'["/" IEN=RTYP_"/"_IEN
"RTN","RGSEFHIX",105,0)
 D NEWTAG("entry")
"RTN","RGSEFHIX",106,0)
 I RGSER("FHIR.VERSION")="DSTU1" D
"RTN","RGSEFHIX",107,0)
 .D NEWTAG("id",IEN,1)
"RTN","RGSEFHIX",108,0)
 .D NEWTAG("updated",$$FMTDATE,1)
"RTN","RGSEFHIX",109,0)
 .S ATR("type")="text/xml"
"RTN","RGSEFHIX",110,0)
 .D NEWTAG("content",.ATR)
"RTN","RGSEFHIX",111,0)
 E  D
"RTN","RGSEFHIX",112,0)
 .;D PUT("status","match")
"RTN","RGSEFHIX",113,0)
 .S ATR("value")=$$HOSTURL^RGNETWWW("*/"_IEN)
"RTN","RGSEFHIX",114,0)
 .D NEWTAG("fullUrl",.ATR,1)
"RTN","RGSEFHIX",115,0)
 .D NEWTAG("resource")
"RTN","RGSEFHIX",116,0)
 S RGSER("FHIR.COUNT")=RGSER("FHIR.COUNT")+1
"RTN","RGSEFHIX",117,0)
 Q
"RTN","RGSEFHIX",118,0)
 ; Closes current bundle entry.
"RTN","RGSEFHIX",119,0)
ENDENTRY() ;
"RTN","RGSEFHIX",120,0)
 D ENDTAG("entry")
"RTN","RGSEFHIX",121,0)
 Q
"RTN","RGSEFHIX",122,0)
 ; Put a name/value pair to output buffer
"RTN","RGSEFHIX",123,0)
PUT(NM,VL) ;
"RTN","RGSEFHIX",124,0)
 D PUT^RGSEXML(.NM,.VL) Q
"RTN","RGSEFHIX",125,0)
 ; Put a date value to output buffer
"RTN","RGSEFHIX",126,0)
PUTDT(NM,DT) ;
"RTN","RGSEFHIX",127,0)
 D PUTDT^RGSEXML(.NM,.DT) Q
"RTN","RGSEFHIX",128,0)
 ; Write the text section
"RTN","RGSEFHIX",129,0)
 ; TXT = Scalar value (will be escaped) or
"RTN","RGSEFHIX",130,0)
 ;       array (will not be escaped)
"RTN","RGSEFHIX",131,0)
TEXT(TXT) ;
"RTN","RGSEFHIX",132,0)
 N ATR,LP
"RTN","RGSEFHIX",133,0)
 S ATR("xmlns")="http://www.w3.org/1999/xhtml"
"RTN","RGSEFHIX",134,0)
 D NEWTAG("text"),PUT("status","generated"),NEWTAG("div",.ATR)
"RTN","RGSEFHIX",135,0)
 I $D(TXT)=1 D
"RTN","RGSEFHIX",136,0)
 .D ADD^RGNETWWW($$ESCAPE^RGSER(TXT))
"RTN","RGSEFHIX",137,0)
 E  D
"RTN","RGSEFHIX",138,0)
 .S LP=""
"RTN","RGSEFHIX",139,0)
 .F  S LP=$O(TXT(LP)) Q:'$L(LP)  D ADD^RGNETWWW(TXT(LP))
"RTN","RGSEFHIX",140,0)
 D ENDTAG("text")
"RTN","RGSEFHIX",141,0)
 Q
"RTN","RGSEFHIX",142,0)
 ;Add opening tag (with optional attributes)
"RTN","RGSEFHIX",143,0)
 ; TAG = tag name
"RTN","RGSEFHIX",144,0)
 ; ATR = optional array of attributes and/or content
"RTN","RGSEFHIX",145,0)
 ; CLS = if true, tag is self-closing
"RTN","RGSEFHIX",146,0)
NEWTAG(TAG,ATR,CLS) ;
"RTN","RGSEFHIX",147,0)
 D NEWTAG^RGSEXML(.TAG,.ATR,.CLS) Q
"RTN","RGSEFHIX",148,0)
 ; Write closing tag
"RTN","RGSEFHIX",149,0)
 ;  TAG = If specified, write closing tags up to and including
"RTN","RGSEFHIX",150,0)
 ;    this one.  Otherwise, just write last pending closing tag.
"RTN","RGSEFHIX",151,0)
 ;  Returns true if there are more pending tag closures.
"RTN","RGSEFHIX",152,0)
ENDTAG(TAG) ;
"RTN","RGSEFHIX",153,0)
 D ENDTAG^RGSEXML(.TAG) Q
"RTN","RGSEFHIX",154,0)
 ; Reformats a variable pointer for use as a resource id.
"RTN","RGSEFHIX",155,0)
VP2ID(VP) ;
"RTN","RGSEFHIX",156,0)
 Q $$VP2ID^RGSEFHIR(.VP)
"RTN","RGSEFHIX",157,0)
 ; Identifier
"RTN","RGSEFHIX",158,0)
IDENT(SYSTEM,VALUE,TYPE,USE) ;
"RTN","RGSEFHIX",159,0)
 Q:'$L(VALUE)
"RTN","RGSEFHIX",160,0)
 D NEWTAG("identifier")
"RTN","RGSEFHIX",161,0)
 D PUT("use",.USE)
"RTN","RGSEFHIX",162,0)
 I DSTU1 D
"RTN","RGSEFHIX",163,0)
 .D PUT("label",.TYPE)
"RTN","RGSEFHIX",164,0)
 E  D:$D(TYPE)
"RTN","RGSEFHIX",165,0)
 .D PARSIDTP^RGSEFHIR(.TYPE),CODING("type",TYPE(2),TYPE(0),TYPE(1))
"RTN","RGSEFHIX",166,0)
 D PUT("system",$$SYSTEM^RGSER(.SYSTEM))
"RTN","RGSEFHIX",167,0)
 D PUT("value",VALUE)
"RTN","RGSEFHIX",168,0)
 D ENDTAG("identifier")
"RTN","RGSEFHIX",169,0)
 Q
"RTN","RGSEFHIX",170,0)
 ; Reference
"RTN","RGSEFHIX",171,0)
REF(TAG,RES,VL,PFX) ;
"RTN","RGSEFHIX",172,0)
 D REF2(TAG,RES,VL("I"),VL("E"),.PFX)
"RTN","RGSEFHIX",173,0)
 Q
"RTN","RGSEFHIX",174,0)
 ; Reference
"RTN","RGSEFHIX",175,0)
REF2(TAG,RES,VLI,VLE,PFX) ;
"RTN","RGSEFHIX",176,0)
 I $L(VLI)!$L(VLE) D
"RTN","RGSEFHIX",177,0)
 .D NEWTAG(TAG)
"RTN","RGSEFHIX",178,0)
 .D:$L(VLI) PUT("reference",RES_"/"_$G(PFX)_VLI)
"RTN","RGSEFHIX",179,0)
 .D:$L(VLE) PUT("display",VLE)
"RTN","RGSEFHIX",180,0)
 .D ENDTAG(TAG)
"RTN","RGSEFHIX",181,0)
 Q
"RTN","RGSEFHIX",182,0)
 ; Codeable concept
"RTN","RGSEFHIX",183,0)
CODING(TAG,SYSTEM,CODE,DISPLAY) ;
"RTN","RGSEFHIX",184,0)
 I '$L($G(CODE)),'$L($G(DISPLAY)) Q
"RTN","RGSEFHIX",185,0)
 D:$D(TAG) NEWTAG(TAG)
"RTN","RGSEFHIX",186,0)
 D NEWTAG("coding")
"RTN","RGSEFHIX",187,0)
 D PUT("system",$$SYSTEM^RGSER(.SYSTEM))
"RTN","RGSEFHIX",188,0)
 D PUT("code",.CODE)
"RTN","RGSEFHIX",189,0)
 D PUT("display",.DISPLAY)
"RTN","RGSEFHIX",190,0)
 D ENDTAG("coding")
"RTN","RGSEFHIX",191,0)
 D:$D(TAG) ENDTAG(TAG)
"RTN","RGSEFHIX",192,0)
 Q
"RTN","RGSEFHIX",193,0)
 ; Contact
"RTN","RGSEFHIX",194,0)
CONTACT(TAG,SYSTEM,VALUE,USE,START,END) ;
"RTN","RGSEFHIX",195,0)
 Q:'$L(VALUE)
"RTN","RGSEFHIX",196,0)
 D NEWTAG(TAG)
"RTN","RGSEFHIX",197,0)
 D PUT("system",$$SYSTEM^RGSER(.SYSTEM))
"RTN","RGSEFHIX",198,0)
 D PUT("use",.USE)
"RTN","RGSEFHIX",199,0)
 D PUT("value",VALUE)
"RTN","RGSEFHIX",200,0)
 D PERIOD(.START,.END)
"RTN","RGSEFHIX",201,0)
 D ENDTAG(TAG)
"RTN","RGSEFHIX",202,0)
 Q
"RTN","RGSEFHIX",203,0)
 ; Telecom
"RTN","RGSEFHIX",204,0)
TELECOM D:VL CONTACT(PN,$P(PN(0),":"),VL("E"),$P(PN(0),":",2))
"RTN","RGSEFHIX",205,0)
 Q
"RTN","RGSEFHIX",206,0)
 ; Period
"RTN","RGSEFHIX",207,0)
PERIOD(START,END) ;
"RTN","RGSEFHIX",208,0)
 I $G(START)!$G(END) D
"RTN","RGSEFHIX",209,0)
 .D NEWTAG("period")
"RTN","RGSEFHIX",210,0)
 .D:$G(START) PUTDT("start",START)
"RTN","RGSEFHIX",211,0)
 .D:$G(END) PUTDT("end",END)
"RTN","RGSEFHIX",212,0)
 .D ENDTAG("period")
"RTN","RGSEFHIX",213,0)
 Q
"RTN","RGSEFHIX",214,0)
NAME(NAME,USE) ;
"RTN","RGSEFHIX",215,0)
 N X
"RTN","RGSEFHIX",216,0)
 D NEWTAG("name")
"RTN","RGSEFHIX",217,0)
 D PUT("use",$G(USE,"usual"))
"RTN","RGSEFHIX",218,0)
 D PUT("text",$S($E(NAME)=",":$E(NAME,2,99),1:NAME))
"RTN","RGSEFHIX",219,0)
 S X=$P(NAME,","),NAME=$P(NAME,",",2,99)
"RTN","RGSEFHIX",220,0)
 D PUT("family",X)
"RTN","RGSEFHIX",221,0)
 F X=1:1:$L(NAME," ") D PUT("given",$P(NAME," ",X))
"RTN","RGSEFHIX",222,0)
 D ENDTAG("name")
"RTN","RGSEFHIX",223,0)
 Q
"RTN","RGSEINIT")
0^^B542163
"RTN","RGSEINIT",1,0)
RGSEINIT ;RI/CBMI/DKM - Installation Support ;19-Mar-2015 13:31;DKM
"RTN","RGSEINIT",2,0)
 ;;1.0;SERIALIZATION FRAMEWORK;;07-Feb-2015 08:51;Build 506
"RTN","RGSEINIT",3,0)
 ;=================================================================
"RTN","RGSEINIT",4,0)
 Q
"RTN","RGSEINIT",5,0)
 ; Pretransportation
"RTN","RGSEINIT",6,0)
 ; Save SERIALIZATION CONTROL names being transported.
"RTN","RGSEINIT",7,0)
PRETRANS N X,Y
"RTN","RGSEINIT",8,0)
 F X=0:0 S X=$O(^RGSER(998.1,X)) Q:'X  S Y=^(X,0) D
"RTN","RGSEINIT",9,0)
 .S @XPDGREF@(998.1,$P(Y,U))=""
"RTN","RGSEINIT",10,0)
 Q
"RTN","RGSEINIT",11,0)
 ; Pre-init
"RTN","RGSEINIT",12,0)
 ; Remove all SERIALIZATION CONTROL entries present in this transport.
"RTN","RGSEINIT",13,0)
PRE N SER,DIK,DA
"RTN","RGSEINIT",14,0)
 S SER="",DIK=$$ROOT^DILFD(998.1)
"RTN","RGSEINIT",15,0)
 F  S SER=$O(@XPDGREF@(998.1,SER)),DA=0 Q:'$L(SER)  D
"RTN","RGSEINIT",16,0)
 .F DA=0:0 S DA=$O(^RGSER(998.1,"B",SER,DA)) Q:'DA  D ^DIK
"RTN","RGSEINIT",17,0)
 Q
"RTN","RGSEINIT",18,0)
 ; Post-init
"RTN","RGSEINIT",19,0)
POST Q
"RTN","RGSEJSON")
0^2^B29696478
"RTN","RGSEJSON",1,0)
RGSEJSON ;RI/CBMI/DKM - JSON Serialization Support ;21-Mar-2017 15:43;DKM
"RTN","RGSEJSON",2,0)
 ;;1.0;SERIALIZATION FRAMEWORK;;14-March-2014;Build 506
"RTN","RGSEJSON",3,0)
 ;=================================================================
"RTN","RGSEJSON",4,0)
 ; Implements Serializer interface
"RTN","RGSEJSON",5,0)
 ; Serializer.PREINIT - Preinitialization
"RTN","RGSEJSON",6,0)
PREINIT Q
"RTN","RGSEJSON",7,0)
 ; Serializer.PSTINIT - Postinitialization
"RTN","RGSEJSON",8,0)
PSTINIT Q
"RTN","RGSEJSON",9,0)
 ; Serializer.PRELIST - List preprocessing
"RTN","RGSEJSON",10,0)
PRELIST D NEWARY
"RTN","RGSEJSON",11,0)
 Q
"RTN","RGSEJSON",12,0)
 ; Serializer.PSTLIST - List postprocessing
"RTN","RGSEJSON",13,0)
PSTLIST D ENDARY
"RTN","RGSEJSON",14,0)
 Q
"RTN","RGSEJSON",15,0)
 ; Serializer.COMPOSE - Compose an entry
"RTN","RGSEJSON",16,0)
COMPOSE D COMPOSEX("@compose","@class",$$GETRTYPE^RGSERGET(PATH,PNAME))
"RTN","RGSEJSON",17,0)
 Q
"RTN","RGSEJSON",18,0)
COMPOSEX(OLABEL,RLABEL,RTYPE,ATR,RAW) ;
"RTN","RGSEJSON",19,0)
 D NEWOBJ(OLABEL)
"RTN","RGSEJSON",20,0)
 S:$E(RTYPE)="@" RTYPE=""
"RTN","RGSEJSON",21,0)
 D:$L(RTYPE) PUT(RLABEL,RTYPE)
"RTN","RGSEJSON",22,0)
 D PUTATR(.ATR,.RAW)
"RTN","RGSEJSON",23,0)
 D PROCPROP^RGSERGET
"RTN","RGSEJSON",24,0)
 D ENDOBJ(OLABEL)
"RTN","RGSEJSON",25,0)
 Q
"RTN","RGSEJSON",26,0)
 ; Serializer.FMTDATE - Serialize a date
"RTN","RGSEJSON",27,0)
FMTDATE(DT) ;
"RTN","RGSEJSON",28,0)
 Q $S($D(DT):DT,1:$$NOW^XLFDT)
"RTN","RGSEJSON",29,0)
 ; Serializer.ESCMAP - Location of escape map
"RTN","RGSEJSON",30,0)
ESCMAP() Q "ESCMAPX^RGSEJSON"
"RTN","RGSEJSON",31,0)
ESCMAPX ;;Table of escape mappings
"RTN","RGSEJSON",32,0)
 ;;\;\\
"RTN","RGSEJSON",33,0)
 ;;/;\/
"RTN","RGSEJSON",34,0)
 ;;";\"
"RTN","RGSEJSON",35,0)
 ;;#8;\b
"RTN","RGSEJSON",36,0)
 ;;#12;\f
"RTN","RGSEJSON",37,0)
 ;;#10;\n
"RTN","RGSEJSON",38,0)
 ;;#13;\r
"RTN","RGSEJSON",39,0)
 ;;#9;\t
"RTN","RGSEJSON",40,0)
 ;;
"RTN","RGSEJSON",41,0)
 ; Serializer.PROPF - Free text property
"RTN","RGSEJSON",42,0)
PROPF D PUT(PN,$G(VL("E")))
"RTN","RGSEJSON",43,0)
 Q
"RTN","RGSEJSON",44,0)
 ; Serializer.PROPB - Boolean property
"RTN","RGSEJSON",45,0)
PROPB D PUTBL(PN,$G(VL("I")))
"RTN","RGSEJSON",46,0)
 Q
"RTN","RGSEJSON",47,0)
 ; Serializer.PROPD - Date property
"RTN","RGSEJSON",48,0)
PROPD D PUTDT(PN,$G(VL("I")))
"RTN","RGSEJSON",49,0)
 Q
"RTN","RGSEJSON",50,0)
 ; Serializer.PROPR - Raw value property
"RTN","RGSEJSON",51,0)
PROPR D PUT(PN,$G(VL("I")))
"RTN","RGSEJSON",52,0)
 Q
"RTN","RGSEJSON",53,0)
 ; Serializer.PROPW - Word processing property
"RTN","RGSEJSON",54,0)
PROPW K VL("E"),VL("I")
"RTN","RGSEJSON",55,0)
 D PUTARY(PN,.VL,$$UNESCURL^RGNETWWW(CTL),1)
"RTN","RGSEJSON",56,0)
 Q
"RTN","RGSEJSON",57,0)
 ; Serializer.PROPC - Custom property
"RTN","RGSEJSON",58,0)
PROPC X CTL
"RTN","RGSEJSON",59,0)
 Q
"RTN","RGSEJSON",60,0)
 ; Serializer.PROPO - Object property
"RTN","RGSEJSON",61,0)
PROPO D:$G(VL("I")) GET^RGSERGET(.RGSER,CTL,$G(VL("I")),PN)
"RTN","RGSEJSON",62,0)
 Q
"RTN","RGSEJSON",63,0)
 ; Serializer.PROPI - Inline property
"RTN","RGSEJSON",64,0)
PROPI D:$G(VL("I")) NEWARY(PN),GET^RGSERGET(.RGSER,CTL,VL("I"),,"S"),ENDARY(PN)
"RTN","RGSEJSON",65,0)
 Q
"RTN","RGSEJSON",66,0)
 ; Serializer.PROPS - Static property
"RTN","RGSEJSON",67,0)
PROPS D PUT(PN,$G(CTL))
"RTN","RGSEJSON",68,0)
 Q
"RTN","RGSEJSON",69,0)
 ; Format attribute name for output
"RTN","RGSEJSON",70,0)
NM(NM) Q $S($L($G(NM)):$$QT(NM)_":",1:"")
"RTN","RGSEJSON",71,0)
 ; Put a name/value pair to output buffer
"RTN","RGSEJSON",72,0)
 ; Value will be quoted
"RTN","RGSEJSON",73,0)
PUT(NM,VL) ;
"RTN","RGSEJSON",74,0)
 D:$L($G(VL)) PUTRAW(.NM,$$QT(.VL))
"RTN","RGSEJSON",75,0)
 Q
"RTN","RGSEJSON",76,0)
 ; Put a name/value pair to output buffer
"RTN","RGSEJSON",77,0)
 ; Value will be stored in raw form
"RTN","RGSEJSON",78,0)
PUTRAW(NM,VL) ;
"RTN","RGSEJSON",79,0)
 Q:'$L($G(VL))
"RTN","RGSEJSON",80,0)
 N LVLS
"RTN","RGSEJSON",81,0)
 S NM=$$PRSLVLS(.NM,.LVLS)
"RTN","RGSEJSON",82,0)
 D NEWLVLS(.LVLS)
"RTN","RGSEJSON",83,0)
 K:$$INARY NM
"RTN","RGSEJSON",84,0)
 S:$E(VL)="." VL="0"_VL
"RTN","RGSEJSON",85,0)
 D PUTELE($$NM(.NM)_VL),ENDLVLS(.LVLS)
"RTN","RGSEJSON",86,0)
 Q
"RTN","RGSEJSON",87,0)
 ; Put a name/value pair to output buffer
"RTN","RGSEJSON",88,0)
 ; Auto detect value type (or specify QT to force)
"RTN","RGSEJSON",89,0)
PUTAUTO(NM,VL,QT) ;
"RTN","RGSEJSON",90,0)
 S:$S($D(QT):QT,1:'$$ISNUM^RGUT(VL)) VL=$$QT(VL)
"RTN","RGSEJSON",91,0)
 D PUTRAW(NM,VL)
"RTN","RGSEJSON",92,0)
 Q
"RTN","RGSEJSON",93,0)
 ; Put an element in output buffer
"RTN","RGSEJSON",94,0)
PUTELE(X) ;
"RTN","RGSEJSON",95,0)
 N L,I
"RTN","RGSEJSON",96,0)
 S L=+$O(RGSER("L",""),-1),I=0
"RTN","RGSEJSON",97,0)
 S:L I=RGSER("L",L),RGSER("L",L)=I+1
"RTN","RGSEJSON",98,0)
 D ADD($S(I:",",1:"")_X)
"RTN","RGSEJSON",99,0)
 Q
"RTN","RGSEJSON",100,0)
 ; Put a date value to output buffer
"RTN","RGSEJSON",101,0)
PUTDT(NM,DT) ;
"RTN","RGSEJSON",102,0)
 D:DT PUT(NM,$$FMTDATE^RGSER(DT))
"RTN","RGSEJSON",103,0)
 Q
"RTN","RGSEJSON",104,0)
 ; Put a boolean value to output buffer
"RTN","RGSEJSON",105,0)
PUTBL(NM,BL) ;
"RTN","RGSEJSON",106,0)
 D PUTRAW(NM,$S(BL:"true",1:"false"))
"RTN","RGSEJSON",107,0)
 Q
"RTN","RGSEJSON",108,0)
 ; Put a set value to output buffer
"RTN","RGSEJSON",109,0)
PUTST(NM,VL,ST) ;
"RTN","RGSEJSON",110,0)
 D PUT(NM,$$SET^RGUT(VL,ST))
"RTN","RGSEJSON",111,0)
 Q
"RTN","RGSEJSON",112,0)
 ; Put an object to output buffer
"RTN","RGSEJSON",113,0)
PUTOBJ(NM,OBJ,RAW) ;
"RTN","RGSEJSON",114,0)
 N LP,LP1
"RTN","RGSEJSON",115,0)
 D NEWOBJ(.NM),PUTATR(.OBJ,.RAW),ENDOBJ(.NM)
"RTN","RGSEJSON",116,0)
 Q
"RTN","RGSEJSON",117,0)
 ; Put object attributes to output buffer
"RTN","RGSEJSON",118,0)
PUTATR(OBJ,RAW) ;
"RTN","RGSEJSON",119,0)
 N LP,LP1
"RTN","RGSEJSON",120,0)
 S LP=""
"RTN","RGSEJSON",121,0)
 F  S LP=$O(OBJ(LP)) Q:'$L(LP)  D
"RTN","RGSEJSON",122,0)
 .I $D(OBJ(LP))>1 D
"RTN","RGSEJSON",123,0)
 ..S LP1=""
"RTN","RGSEJSON",124,0)
 ..F  S LP1=$O(OBJ(LP,LP1)) Q:'$L(LP1)  D
"RTN","RGSEJSON",125,0)
 ...D PUTAUTO(LP1,OBJ(LP,LP1),.RAW)
"RTN","RGSEJSON",126,0)
 .E  D PUTAUTO(LP,OBJ(LP),.RAW)
"RTN","RGSEJSON",127,0)
 K OBJ
"RTN","RGSEJSON",128,0)
 Q
"RTN","RGSEJSON",129,0)
 ; Put an array to output buffer
"RTN","RGSEJSON",130,0)
 ;  NM  = Object/array name
"RTN","RGSEJSON",131,0)
 ; .ARY = Array passed by reference
"RTN","RGSEJSON",132,0)
 ;  LT  = Line terminator to append
"RTN","RGSEJSON",133,0)
 ;  CT  = Concatenate as single value
"RTN","RGSEJSON",134,0)
PUTARY(NM,ARY,LT,CT) ;
"RTN","RGSEJSON",135,0)
 N LP,LVLS,X
"RTN","RGSEJSON",136,0)
 S LP=$NA(ARY),LT=$G(LT),CT=$G(CT)
"RTN","RGSEJSON",137,0)
 S NM=$$PRSLVLS(.NM,.LVLS)
"RTN","RGSEJSON",138,0)
 D NEWLVLS(.LVLS)
"RTN","RGSEJSON",139,0)
 K:$$INARY NM
"RTN","RGSEJSON",140,0)
 I CT D
"RTN","RGSEJSON",141,0)
 .D PUTELE($$NM(.NM)_"""")
"RTN","RGSEJSON",142,0)
 E  D NEWARY(.NM)
"RTN","RGSEJSON",143,0)
 F  S LP=$Q(@LP) Q:'$L(LP)  D
"RTN","RGSEJSON",144,0)
 .S X=@LP_LT
"RTN","RGSEJSON",145,0)
 .D:'CT PUTELE($$QT(X))
"RTN","RGSEJSON",146,0)
 .D:CT ADD($$ESCAPE^RGSER(X))
"RTN","RGSEJSON",147,0)
 I CT D
"RTN","RGSEJSON",148,0)
 .D ADD("""")
"RTN","RGSEJSON",149,0)
 E  D ENDARY(.NM)
"RTN","RGSEJSON",150,0)
 D ENDLVLS(.LVLS)
"RTN","RGSEJSON",151,0)
 Q
"RTN","RGSEJSON",152,0)
 ; Start an array level
"RTN","RGSEJSON",153,0)
NEWARY(NM) ;
"RTN","RGSEJSON",154,0)
 D NEWLVL(.NM,0)
"RTN","RGSEJSON",155,0)
 Q
"RTN","RGSEJSON",156,0)
 ; End an array level
"RTN","RGSEJSON",157,0)
ENDARY(NM) ;
"RTN","RGSEJSON",158,0)
 D ENDLVL(.NM,0)
"RTN","RGSEJSON",159,0)
 Q
"RTN","RGSEJSON",160,0)
 ; Returns true if inside an array
"RTN","RGSEJSON",161,0)
INARY(NM) ;
"RTN","RGSEJSON",162,0)
 N LVL
"RTN","RGSEJSON",163,0)
 S LVL=$$GETLVL
"RTN","RGSEJSON",164,0)
 Q:'LVL 0
"RTN","RGSEJSON",165,0)
 Q:RGSER("L",LVL,0) 0
"RTN","RGSEJSON",166,0)
 Q $S('$D(NM):1,1:RGSER("L",LVL,1)=NM)
"RTN","RGSEJSON",167,0)
 ; Start an object level
"RTN","RGSEJSON",168,0)
NEWOBJ(NM) ;
"RTN","RGSEJSON",169,0)
 D NEWLVL(.NM,1)
"RTN","RGSEJSON",170,0)
 Q
"RTN","RGSEJSON",171,0)
 ; End an object level
"RTN","RGSEJSON",172,0)
ENDOBJ(NM) ;
"RTN","RGSEJSON",173,0)
 D ENDLVL(.NM,1)
"RTN","RGSEJSON",174,0)
 Q
"RTN","RGSEJSON",175,0)
 ; Start a new level
"RTN","RGSEJSON",176,0)
 ; TP: 0 = array; 1 = object
"RTN","RGSEJSON",177,0)
 ; The level stack is at RGSER("L"):
"RTN","RGSEJSON",178,0)
 ;   RGSER("L",LVL)   = # of elements at this level
"RTN","RGSEJSON",179,0)
 ;   RGSER("L",LVL,0) = 0 if array, 1 if object
"RTN","RGSEJSON",180,0)
 ;   RGSER("L",LVL,1) = Tag associated with level
"RTN","RGSEJSON",181,0)
 ;   RGSER("L",LVL,2) = Position of level in output stream
"RTN","RGSEJSON",182,0)
NEWLVL(NM,TP) ;
"RTN","RGSEJSON",183,0)
 N LVL,OUT,CNT,ARY
"RTN","RGSEJSON",184,0)
 S ARY=$$INARY,LVL=$$GETLVL,OUT=""
"RTN","RGSEJSON",185,0)
 I LVL S CNT=RGSER("L",LVL),OUT=$S(CNT:",",1:""),RGSER("L",LVL)=CNT+1
"RTN","RGSEJSON",186,0)
 S LVL=LVL+1,RGSER("L",LVL)=0,RGSER("L",LVL,0)=TP,RGSER("L",LVL,1)=$G(NM)
"RTN","RGSEJSON",187,0)
 I 'ARY,$L($G(NM)),$E(NM)'="@" S OUT=OUT_$$NM(NM)
"RTN","RGSEJSON",188,0)
 D ADD(OUT_$S(TP:"{",1:"["))
"RTN","RGSEJSON",189,0)
 S RGSER("L",LVL,2)=RGNETRSP("LAST")
"RTN","RGSEJSON",190,0)
 Q
"RTN","RGSEJSON",191,0)
 ; End a level
"RTN","RGSEJSON",192,0)
 ; If an empty level is ended, it is completely removed
"RTN","RGSEJSON",193,0)
 ; from the output stream.
"RTN","RGSEJSON",194,0)
ENDLVL(NM,TP) ;
"RTN","RGSEJSON",195,0)
 N LVL,OUT,MATCH
"RTN","RGSEJSON",196,0)
 F LVL=$$GETLVL:-1:1 D  Q:MATCH
"RTN","RGSEJSON",197,0)
 .I RGSER("L",LVL) D
"RTN","RGSEJSON",198,0)
 ..S OUT=$S(RGSER("L",LVL,0):"}",1:"]")
"RTN","RGSEJSON",199,0)
 ..D ADD(OUT)
"RTN","RGSEJSON",200,0)
 .E  D
"RTN","RGSEJSON",201,0)
 ..D REPLACE^RGNETWWW(RGSER("L",LVL,2),"")
"RTN","RGSEJSON",202,0)
 ..S:LVL>1 RGSER("L",LVL-1)=RGSER("L",LVL-1)-1
"RTN","RGSEJSON",203,0)
 .S MATCH=RGSER("L",LVL,0)=TP
"RTN","RGSEJSON",204,0)
 .S:MATCH MATCH=$G(NM)=RGSER("L",LVL,1)
"RTN","RGSEJSON",205,0)
 .K RGSER("L",LVL)
"RTN","RGSEJSON",206,0)
 Q
"RTN","RGSEJSON",207,0)
 ; Creates multiple levels as specified by the
"RTN","RGSEJSON",208,0)
 ; array returned by PRSLVLS.
"RTN","RGSEJSON",209,0)
NEWLVLS(LVLS) ;
"RTN","RGSEJSON",210,0)
 N LP
"RTN","RGSEJSON",211,0)
 F LP=1:1:LVLS-1 D NEWLVL(LVLS(LP,0),LVLS(LP,1))
"RTN","RGSEJSON",212,0)
 Q
"RTN","RGSEJSON",213,0)
 ; Ends multiple levels as specified by the
"RTN","RGSEJSON",214,0)
 ; array returned by PRSLVLS.
"RTN","RGSEJSON",215,0)
ENDLVLS(LVLS) ;
"RTN","RGSEJSON",216,0)
 N LP
"RTN","RGSEJSON",217,0)
 F LP=LVLS-1:-1:1 D ENDLVL(LVLS(LP,0),LVLS(LP,1))
"RTN","RGSEJSON",218,0)
 Q
"RTN","RGSEJSON",219,0)
 ; Parses a property name.  A property name can designate multiple levels by
"RTN","RGSEJSON",220,0)
 ; introducing a "." separator to indicate an object level or a ":" to indicate
"RTN","RGSEJSON",221,0)
 ; an array level.  For example, A:B.C, represents an attribute named "C" under
"RTN","RGSEJSON",222,0)
 ; an object named "B" under an array named "A".
"RTN","RGSEJSON",223,0)
 ;   NM   = The property name to parse
"RTN","RGSEJSON",224,0)
 ;  .LVLS = Array to receive parsed results
"RTN","RGSEJSON",225,0)
 ; Returns the attribute name (in the above example, "C").
"RTN","RGSEJSON",226,0)
PRSLVLS(NM,LVLS) ;
"RTN","RGSEJSON",227,0)
 N NM2,LN,POS,PC
"RTN","RGSEJSON",228,0)
 K LVLS
"RTN","RGSEJSON",229,0)
 S NM=$G(NM),NM2=$TR(NM,".",":"),LN=$L(NM2,":"),POS=0
"RTN","RGSEJSON",230,0)
 F LVLS=1:1:LN D
"RTN","RGSEJSON",231,0)
 .S PC=$P(NM2,":",LVLS),POS=POS+$L(PC)+1
"RTN","RGSEJSON",232,0)
 .S LVLS(LVLS,0)=PC,LVLS(LVLS,1)=$S(LVLS=LN:-1,1:$E(NM,POS)=".")
"RTN","RGSEJSON",233,0)
 Q:$Q PC
"RTN","RGSEJSON",234,0)
 Q
"RTN","RGSEJSON",235,0)
 ; Return current level
"RTN","RGSEJSON",236,0)
GETLVL() Q +$O(RGSER("L",""),-1)
"RTN","RGSEJSON",237,0)
 ; Enclose value in quotes (escape contents if necessary)
"RTN","RGSEJSON",238,0)
QT(X) Q """"_$$ESCAPE^RGSER($G(X))_""""
"RTN","RGSEJSON",239,0)
 ; Convenience method
"RTN","RGSEJSON",240,0)
ADD(X) D ADD^RGNETWWW(X)
"RTN","RGSEJSON",241,0)
 Q
"RTN","RGSER")
0^3^B14022816
"RTN","RGSER",1,0)
RGSER ;RI/CBMI/DKM - Core Serialization Support ;07-Aug-2016 04:44;DKM
"RTN","RGSER",2,0)
 ;;1.0;SERIALIZATION FRAMEWORK;;14-March-2014;Build 506
"RTN","RGSER",3,0)
 ; RPC: Perform a GET operation
"RTN","RGSER",4,0)
 ;=================================================================
"RTN","RGSER",5,0)
FETCH(DATA,PATH,SLCT,PARAMS) ;
"RTN","RGSER",6,0)
 N RGNETREQ,RGNETRSP
"RTN","RGSER",7,0)
 S RGNETREQ("PATH")=PATH_"/"_$G(SLCT)
"RTN","RGSER",8,0)
 D INIT^RGNETWWW,GET^RGSERGET(.PARAMS,.PATH,.SLCT,,"P"),CLEANUP^RGNETWWW
"RTN","RGSER",9,0)
 S DATA=RGNETRSP
"RTN","RGSER",10,0)
 Q
"RTN","RGSER",11,0)
 ; GET method handler
"RTN","RGSER",12,0)
MGET N X,ID,PATH,RGSER
"RTN","RGSER",13,0)
 D GETFMT
"RTN","RGSER",14,0)
 S PATH=RGNETREQ("PATH"),X=$L(PATH,"/")
"RTN","RGSER",15,0)
 S:X#2 ID=$P(PATH,"/",X),PATH=$P(PATH,"/",1,X-1)
"RTN","RGSER",16,0)
 K:$G(ID)="_search" ID
"RTN","RGSER",17,0)
 D GET^RGSERGET(.RGSER,PATH,.ID,,"P"),ADDHDRX(.RGSER)
"RTN","RGSER",18,0)
 Q
"RTN","RGSER",19,0)
 ; POST method
"RTN","RGSER",20,0)
MPOST D SETSTAT^RGNETWWW(405)
"RTN","RGSER",21,0)
 Q
"RTN","RGSER",22,0)
 ; PUT method
"RTN","RGSER",23,0)
MPUT D SETSTAT^RGNETWWW(405)
"RTN","RGSER",24,0)
 Q
"RTN","RGSER",25,0)
 ; DELETE method
"RTN","RGSER",26,0)
MDELETE D SETSTAT^RGNETWWW(405)
"RTN","RGSER",27,0)
 Q
"RTN","RGSER",28,0)
 ; Get expected response format
"RTN","RGSER",29,0)
GETFMT I $D(RGNETREQ("PARAMS","_format")) D
"RTN","RGSER",30,0)
 .S RGSER("FORMAT")=RGNETREQ("PARAMS","_format",1,1)
"RTN","RGSER",31,0)
 .K RGNETREQ("PARAMS","_format")
"RTN","RGSER",32,0)
 E  S RGSER("FORMAT")=$G(RGNETREQ("HDR","accept"))
"RTN","RGSER",33,0)
 Q
"RTN","RGSER",34,0)
 ; Returns the presence of specified flag(s).
"RTN","RGSER",35,0)
 ; If ALL is true, presence of all flags are required.
"RTN","RGSER",36,0)
 ; If false (the default), only one flag must be present.
"RTN","RGSER",37,0)
HASFLAG(FLG,ALL) ;
"RTN","RGSER",38,0)
 N X,T
"RTN","RGSER",39,0)
 S ALL='$G(ALL),T=1
"RTN","RGSER",40,0)
 F X=1:1:$L(FLG) S T=FLAGS[$E(FLG,X) Q:T=ALL
"RTN","RGSER",41,0)
 Q T
"RTN","RGSER",42,0)
 ; Escape reserved characters
"RTN","RGSER",43,0)
ESCAPE(X) ;
"RTN","RGSER",44,0)
 N Y,Z,C,R,L
"RTN","RGSER",45,0)
 S R=$$ESCMAP^@RGSER("INTF"),L=$P(R,U),R=$P(R,U,2)
"RTN","RGSER",46,0)
 F Z=1:1 S Y=$P($T(@L+Z^@R),";;",2) Q:'$L(Y)  D
"RTN","RGSER",47,0)
 .S C=$P(Y,";")
"RTN","RGSER",48,0)
 .S:$E(C)="#" C=$C(+$E(C,2,99))
"RTN","RGSER",49,0)
 .S:X[C X=$$SUBST^RGUT(X,C,$P(Y,";",2,9999))
"RTN","RGSER",50,0)
 Q X
"RTN","RGSER",51,0)
 ; Serialize a date.
"RTN","RGSER",52,0)
FMTDATE(DT) ;
"RTN","RGSER",53,0)
 Q $$FMTDATE^@(RGSER("INTF"))(.DT)
"RTN","RGSER",54,0)
 ; Concatenate array elements into a string
"RTN","RGSER",55,0)
ARY2STR(ARY,DLM) ;
"RTN","RGSER",56,0)
 N X,RES
"RTN","RGSER",57,0)
 S RES="",DLM=$G(DLM)
"RTN","RGSER",58,0)
 F X=0:0 S X=$O(ARY(X)) Q:'X  S RES=RES_$S($L(RES):DLM,1:"")_$G(ARY(X))_$G(ARY(X,0))
"RTN","RGSER",59,0)
 Q RES
"RTN","RGSER",60,0)
 ; Adds additional headers
"RTN","RGSER",61,0)
ADDHDRX(RGSER) ;
"RTN","RGSER",62,0)
 N LP,HDR
"RTN","RGSER",63,0)
 I $G(RGSER("SER")) D
"RTN","RGSER",64,0)
 .F LP=0:0 S LP=$O(^RGSER(998.1,RGSER("SER"),20,LP)) Q:'LP  S HDR=^(LP,0) D:$L(HDR) ADDHDR^RGNETWWW(HDR)
"RTN","RGSER",65,0)
 Q
"RTN","RGSER",66,0)
 ; Add array of values to output buffer.
"RTN","RGSER",67,0)
 ; AR may be by reference or indirection
"RTN","RGSER",68,0)
 ; FLG: B = encode as binary, L = add CRLF, W = is word processing root, R = don't escape
"RTN","RGSER",69,0)
ADDARY(AR,FLG) ;
"RTN","RGSER",70,0)
 N RT,B
"RTN","RGSER",71,0)
 S RT=$S($D(AR)=1:AR,1:$NA(AR)),FLG=$G(FLG),B=FLG["B"
"RTN","RGSER",72,0)
 D ADDTXT(RT,FLG):'B,ADDBIN(RT,FLG):B
"RTN","RGSER",73,0)
 Q
"RTN","RGSER",74,0)
ADDTXT(RT,FLG) ;
"RTN","RGSER",75,0)
 N LP,L,W,R,X
"RTN","RGSER",76,0)
 S L=$S(FLG["L":$C(13,10),1:""),W=FLG["W",R=FLG["R",LP=$S(W:0,1:"")
"RTN","RGSER",77,0)
 F  S LP=$O(@RT@(LP)) Q:$S(W:'LP,1:'$L(LP))  D
"RTN","RGSER",78,0)
 .S X=$S(W:@RT@(LP,0),1:@RT@(LP))_L
"RTN","RGSER",79,0)
 .S:'R X=$$ESCAPE(X)
"RTN","RGSER",80,0)
 .D ADD^RGNETWWW(X)
"RTN","RGSER",81,0)
 Q
"RTN","RGSER",82,0)
ADDBIN(RT,FLG) ;
"RTN","RGSER",83,0)
 N X,Z,VL,LP,I,L,W
"RTN","RGSER",84,0)
 S Z="=ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"
"RTN","RGSER",85,0)
 S (VL,X)="",L=$S(FLG["L":$C(13,10),1:""),W=FLG["W",LP=$S(W:0,1:"")
"RTN","RGSER",86,0)
 F  S LP=$O(@RT@(LP)) Q:'$L(LP)  D
"RTN","RGSER",87,0)
 .S X=X_$S(W:@RT@(LP,0),1:@RT@(LP))_L
"RTN","RGSER",88,0)
 .F  Q:$L(X)<3  D
"RTN","RGSER",89,0)
 ..S VL=VL_$$B64ENC($E(X,1,3)),X=$E(X,4,9999)
"RTN","RGSER",90,0)
 .I $L(VL)>131 D ADD^RGNETWWW(VL) S VL=""
"RTN","RGSER",91,0)
 S:$L(X) VL=VL_$$B64ENC(X)
"RTN","RGSER",92,0)
 D:$L(VL) ADD^RGNETWWW(VL)
"RTN","RGSER",93,0)
 Q
"RTN","RGSER",94,0)
 ; Encode input as Base 64
"RTN","RGSER",95,0)
B64ENC(X) N Z1,Z2,Z3,Z4
"RTN","RGSER",96,0)
 S Z3=0,Z1=""
"RTN","RGSER",97,0)
 F Z4=1:1:3 S Z2=$A(X,Z4),Z3=Z3*256+$S(Z2<0:0,1:Z2)
"RTN","RGSER",98,0)
 F Z4=1:1:4 S Z1=$E(Z,Z3#64+2)_Z1,Z3=Z3\64
"RTN","RGSER",99,0)
 Q Z1
"RTN","RGSER",100,0)
 ; Return table # given name
"RTN","RGSER",101,0)
TABLE(T) Q $S(T=+T:T,1:+$O(^DIC("B",TABLE,0)))
"RTN","RGSER",102,0)
 ; Format system attribute
"RTN","RGSER",103,0)
SYSTEM(SYSTEM) ;
"RTN","RGSER",104,0)
 N PATH
"RTN","RGSER",105,0)
 S:'($D(SYSTEM)#10) SYSTEM="@"
"RTN","RGSER",106,0)
 S PATH=$P(SYSTEM,"/",2,999),SYSTEM=$P(SYSTEM,"/")
"RTN","RGSER",107,0)
 S:$E(SYSTEM)="#" SYSTEM="@"_$TR($P(^DIC($E(SYSTEM,2,9999),0),U)," /","__")
"RTN","RGSER",108,0)
 S:$E(SYSTEM)="@" SYSTEM=$$LOCALSYS($E(SYSTEM,2,9999))
"RTN","RGSER",109,0)
 Q SYSTEM_$S($L(PATH):"/"_PATH,1:"")
"RTN","RGSER",110,0)
 ; Prepend local system root to path
"RTN","RGSER",111,0)
LOCALSYS(PATH) ;
"RTN","RGSER",112,0)
 Q $$CONCAT^RGNETWWW("http://"_$$LOW^XLFSTR($$KSP^XUPARAM("WHERE")),.PATH)
"RTN","RGSER",113,0)
 ; Returns true if path matches specified pattern
"RTN","RGSER",114,0)
ISMATCH(PATH,PTRN) ;
"RTN","RGSER",115,0)
 Q $TR(PATH,"-_","XX")?@PTRN
"RTN","RGSERDD")
0^12^B836104
"RTN","RGSERDD",1,0)
RGSERDD ;RI/CBMI/DKM - Data dictionary logic ;28-May-2015 09:34;DKM
"RTN","RGSERDD",2,0)
 ;;1.0;SERIALIZATION FRAMEWORK;;14-March-2014;Build 506
"RTN","RGSERDD",3,0)
 ;=================================================================
"RTN","RGSERDD",4,0)
 ; Convert to pattern (Used by B xref of 998.11:.01)
"RTN","RGSERDD",5,0)
TOPTRN(NM) ;
"RTN","RGSERDD",6,0)
 Q $$TOPTRN^RGNETWWW(NM)
"RTN","RGSERDD",7,0)
 ; Input transform for 998.12:10
"RTN","RGSERDD",8,0)
ITXCTRL(X,DA) ;
"RTN","RGSERDD",9,0)
 I '$L(X)!($L(X)>250) K X Q
"RTN","RGSERDD",10,0)
 N TYPE
"RTN","RGSERDD",11,0)
 S TYPE=$P($G(^RGSER(998.1,DA(2),10,DA(1),30,DA,0)),U,3)
"RTN","RGSERDD",12,0)
 I '$L(TYPE) K X Q
"RTN","RGSERDD",13,0)
 I TYPE="C" D ^DIM Q
"RTN","RGSERDD",14,0)
 I TYPE="T" K:'$O(^RGSER(998.1,DA(2),10,DA(1),50,"B",X,0)) X Q
"RTN","RGSERDD",15,0)
 I "NSW"[TYPE Q
"RTN","RGSERDD",16,0)
 I "IOM"[TYPE D  Q
"RTN","RGSERDD",17,0)
 .N RGSER
"RTN","RGSERDD",18,0)
 .S RGSER="RGSER",RGSER("SER")=DA(2),RGSER("SERNM")=$P(^RGSER(998.1,DA(2),0),U)
"RTN","RGSERDD",19,0)
 .K:'$L($$GETGBL^RGSERGET(X,1)) X
"RTN","RGSERDD",20,0)
 K X
"RTN","RGSERDD",21,0)
 Q
"RTN","RGSERDOC")
0^17^B340683
"RTN","RGSERDOC",1,0)
RGSERDOC ;RI/CBMI/DKM - Document Resource Support ;31-Mar-2015 22:52;DKM
"RTN","RGSERDOC",2,0)
 ;;1.0;SERIALIZATION FRAMEWORK;;07-Feb-2015 08:51;Build 506
"RTN","RGSERDOC",3,0)
 ;=================================================================
"RTN","RGSERDOC",4,0)
 ; Outputs a document in binary format
"RTN","RGSERDOC",5,0)
 ;  IEN = IEN of document
"RTN","RGSERDOC",6,0)
 ;  PRE = Prefix before binary content (optional)
"RTN","RGSERDOC",7,0)
 ;  PST = Postfix after binary content (optional)
"RTN","RGSERDOC",8,0)
TOBINARY(IEN,PRE,PST) ;
"RTN","RGSERDOC",9,0)
 N TXT,ERR
"RTN","RGSERDOC",10,0)
 D TGET^TIUSRVR1(.TXT,IEN)
"RTN","RGSERDOC",11,0)
 I $D(@TXT) D
"RTN","RGSERDOC",12,0)
 .D:$L($G(PRE)) ADD^RGNETWWW(PRE)
"RTN","RGSERDOC",13,0)
 .D ADDARY^RGSER(TXT,"BL")
"RTN","RGSERDOC",14,0)
 .D:$L($G(PST)) ADD^RGNETWWW(PST)
"RTN","RGSERDOC",15,0)
 .K @TXT
"RTN","RGSERDOC",16,0)
 E  D SETSTAT^RGNETWWW(404)
"RTN","RGSERDOC",17,0)
 Q
"RTN","RGSERENC")
0^4^B1699892
"RTN","RGSERENC",1,0)
RGSERENC ;RI/CBMI/DKM - Encounter Resource Support ;01-Apr-2015 16:50;DKM
"RTN","RGSERENC",2,0)
 ;;1.0;SERIALIZATION FRAMEWORK;;07-Feb-2015 08:51;Build 506
"RTN","RGSERENC",3,0)
 ;=================================================================
"RTN","RGSERENC",4,0)
 ; Get encounter types
"RTN","RGSERENC",5,0)
GETTYPES I '$D(RGSER("RGSERENC.SVCCAT")) D
"RTN","RGSERENC",6,0)
 .N SC,X
"RTN","RGSERENC",7,0)
 .S (SLCT,RGSER("RGSERENC.SVCCAT"))=$$TMPGBL^RGNETWWW,TP=1
"RTN","RGSERENC",8,0)
 .D GETLST^XPAR(.SC,"ALL","RGCWENCX VISIT TYPES","I")
"RTN","RGSERENC",9,0)
 .M @SLCT=SC
"RTN","RGSERENC",10,0)
 Q
"RTN","RGSERENC",11,0)
 ; Retrieve an encounter type
"RTN","RGSERENC",12,0)
RETRIEVE(IEN) ;
"RTN","RGSERENC",13,0)
 D RETRIEVE^RGSERGET(RGSER("RGSERENC.SVCCAT"),IEN,"~")
"RTN","RGSERENC",14,0)
 Q
"RTN","RGSERENC",15,0)
 ; Retrieve the encounter status
"RTN","RGSERENC",16,0)
GETSTAT(IEN) ;
"RTN","RGSERENC",17,0)
 N STATUS
"RTN","RGSERENC",18,0)
 I $L($T(ISLOCKED^BEHOENCX)) D
"RTN","RGSERENC",19,0)
 .S STATUS=$S($$ISLOCKED^BEHOENCX(IEN):"finished",1:"in progress")
"RTN","RGSERENC",20,0)
 E  D
"RTN","RGSERENC",21,0)
 .S STATUS=$S($$VISREFDT(IEN)\1'=$$DT^XLFDT:"finished",1:"in progress")
"RTN","RGSERENC",22,0)
 Q STATUS
"RTN","RGSERENC",23,0)
 ; Returns reference date for visit lock check
"RTN","RGSERENC",24,0)
VISREFDT(IEN) ;
"RTN","RGSERENC",25,0)
 N ADM,DIS,DAT
"RTN","RGSERENC",26,0)
 S DAT=$P($G(^AUPNVSIT(+IEN,0)),U,2)
"RTN","RGSERENC",27,0)
 Q:'DAT ""
"RTN","RGSERENC",28,0)
 S ADM=$O(^DGPM("AVISIT",IEN,0))
"RTN","RGSERENC",29,0)
 Q:'ADM DAT
"RTN","RGSERENC",30,0)
 S DIS=$P($G(^DGPM(ADM,0)),U,17)
"RTN","RGSERENC",31,0)
 Q $S(DIS:$P($G(^DGPM(DIS,0)),U),1:DT)
"RTN","RGSERGET")
0^11^B169776989
"RTN","RGSERGET",1,0)
RGSERGET ;RI/CBMI/DKM - GET method support ;07-Aug-2016 04:32;DKM
"RTN","RGSERGET",2,0)
 ;;1.0;SERIALIZATION FRAMEWORK;;14-March-2014;Build 506
"RTN","RGSERGET",3,0)
 ;=================================================================
"RTN","RGSERGET",4,0)
 ; Returns a serialized form of the requested object.
"RTN","RGSERGET",5,0)
 ; SLCT may be:
"RTN","RGSERGET",6,0)
 ;  - a single IEN (e.g., SLCT=123)
"RTN","RGSERGET",7,0)
 ;  - a unique key on the source file (e.g., SLCT=@XYZ)
"RTN","RGSERGET",8,0)
 ;  - an ordered array passed by ref whose values are IENs (e.g., SLCT(1)=123...)
"RTN","RGSERGET",9,0)
 ;  - a global root whose subscript is an IEN (e.g., ^XYZ("B","ABC"))
"RTN","RGSERGET",10,0)
 ;  - a reference to an iterator that returns IENs (e.g., $$NXT^XYZ)
"RTN","RGSERGET",11,0)
 ; FLAGS may contain:
"RTN","RGSERGET",12,0)
 ;  I - Add id attribute to resource
"RTN","RGSERGET",13,0)
 ;  L - Processing an entry returned from a selector
"RTN","RGSERGET",14,0)
 ;  M - Processing a multiple field (subfile)
"RTN","RGSERGET",15,0)
 ;  P - Process search parameters
"RTN","RGSERGET",16,0)
 ;  S - Selection of internal resources is allowed
"RTN","RGSERGET",17,0)
 ;  X - Suppress execution of custom serializer
"RTN","RGSERGET",18,0)
GET(RGSER,PATH,SLCT,PNAME,FLAGS) ;
"RTN","RGSERGET",19,0)
 N RTN,TOP,IEN,IENS,FILE,SER,TP,XSER,XPRE,MAX,ID,SER,INTRNL,X,N0
"RTN","RGSERGET",20,0)
 S:$E(PATH)="/" PATH=$E(PATH,2,9999)
"RTN","RGSERGET",21,0)
 I '$L(PATH) D GETDSC(SLCT) Q
"RTN","RGSERGET",22,0)
 S SER=$$GETGBL(PATH)
"RTN","RGSERGET",23,0)
 Q:'$L(SER)
"RTN","RGSERGET",24,0)
 S RGSER("CNT")=+$G(RGSER("CNT")),TOP='RGSER("CNT"),FLAGS=$G(FLAGS),PNAME=$G(PNAME),SLCT=$G(SLCT)
"RTN","RGSERGET",25,0)
 S N0=$G(@SER@(0)),XSER=$G(^(10)),XPRE=$G(^(20)),XPOST=$G(^(21)),INTRNL=+$P(N0,U,2),FILE=+$P(N0,U,3),IENS="",TP=-1
"RTN","RGSERGET",26,0)
 I $D(SLCT)=1,'$L(SLCT) D                                              ; No selector
"RTN","RGSERGET",27,0)
 .I $D(RGNETREQ("PARAMS","_id",1)) D
"RTN","RGSERGET",28,0)
 ..M SLCT=RGNETREQ("PARAMS","_id",1)
"RTN","RGSERGET",29,0)
 ..K RGNETREQ("PARAMS","_id",1)
"RTN","RGSERGET",30,0)
 I $$GETPARAM^RGNETWWW("_count")>0 D
"RTN","RGSERGET",31,0)
 .S RGSER("MAX")=+RGNETREQ("PARAMS","_count",1,1)
"RTN","RGSERGET",32,0)
 .K RGNETREQ("PARAMS","_count",1,1)
"RTN","RGSERGET",33,0)
 I $$HASFLAG^RGSER("M") S IENS=SLCT,SLCT=$$ROOT^DILFD(FILE,SLCT,1),TP=2 Q:'$O(@SLCT@(0))
"RTN","RGSERGET",34,0)
 E  I $E(SLCT)="@" S SLCT=$$FIND1^DIC(FILE,,"X",$E(SLCT,2,9999))
"RTN","RGSERGET",35,0)
 E  I $E(SLCT)=U S TP=1
"RTN","RGSERGET",36,0)
 E  I $E(SLCT,1,2)="$$" S SLCT=$$NEWITER(SLCT),TP=3
"RTN","RGSERGET",37,0)
 E  I $D(SLCT)>9 S TP=0
"RTN","RGSERGET",38,0)
 S MAX=$G(RGSER("MAX"),$S(TP:999999,1:1000))
"RTN","RGSERGET",39,0)
 I '$D(RGSER("PREINIT")) D PREINIT^@RGSER("INTF") S RGSER("PREINIT")=$ESTACK
"RTN","RGSERGET",40,0)
 I $L(XSER),'$$HASFLAG^RGSER("X") X XSER Q:$D(XSER)
"RTN","RGSERGET",41,0)
 D BYIEN:TP=-1,BYSLCT:TP'=-1
"RTN","RGSERGET",42,0)
 I '$$ISERROR^RGNETWWW,$ESTACK=RGSER("PREINIT") D PSTINIT^@RGSER("INTF")
"RTN","RGSERGET",43,0)
 Q
"RTN","RGSERGET",44,0)
 ; By selector
"RTN","RGSERGET",45,0)
BYSLCT N LP,FL
"RTN","RGSERGET",46,0)
 D PRELIST^@RGSER("INTF")
"RTN","RGSERGET",47,0)
 F LP=0:0 Q:MAX'>RGSER("CNT")  S:TP=3 @("LP="_SLCT) S:TP'=3 LP=$S('TP:$O(SLCT(LP)),1:$O(@SLCT@(LP))) Q:'LP  D  Q:$$ISERROR^RGNETWWW
"RTN","RGSERGET",48,0)
 .S IEN=$S(TP:LP,1:SLCT(LP)),FL=$S($$HASFLAG^RGSER("P"):"P",1:"")_$S(TP=2:"S",1:"L")
"RTN","RGSERGET",49,0)
 .D GET(.RGSER,PATH,IEN_IENS,PNAME,FL)
"RTN","RGSERGET",50,0)
 D PSTLIST^@RGSER("INTF")
"RTN","RGSERGET",51,0)
 Q
"RTN","RGSERGET",52,0)
 ; By IEN
"RTN","RGSERGET",53,0)
BYIEN N LP,PROP,PARM,FLD,VALS
"RTN","RGSERGET",54,0)
 I INTRNL,'$L(PNAME),'$$HASFLAG^RGSER("S") D OPEROUT^RGSEFHIR(3) Q
"RTN","RGSERGET",55,0)
 D:$$HASFLAG^RGSER("P") PROCPARM
"RTN","RGSERGET",56,0)
 Q:$$ISERROR^RGNETWWW
"RTN","RGSERGET",57,0)
 I '$L(SLCT) D  Q:$L(SLCT)
"RTN","RGSERGET",58,0)
 .S SLCT=$$GETSLCT
"RTN","RGSERGET",59,0)
 .S:'$L(SLCT) SLCT=$$ROOT^DILFD(FILE,,1)
"RTN","RGSERGET",60,0)
 .D:$L(SLCT) GET(.RGSER,PATH,SLCT,.PNAME,FLAGS)
"RTN","RGSERGET",61,0)
 I '$L(SLCT) D OPEROUT^RGSEFHIR(4) Q
"RTN","RGSERGET",62,0)
 M PROP=@SER@(30)
"RTN","RGSERGET",63,0)
 S (ID,IEN)=SLCT
"RTN","RGSERGET",64,0)
 I FILE!$L(XPRE)!$L(XPOST) D  Q:$$ISERROR^RGNETWWW  I '$$FILTER D:'$$HASFLAG^RGSER("L") OPEROUT^RGSEFHIR(6) Q
"RTN","RGSERGET",65,0)
 .S IENS=IEN_","
"RTN","RGSERGET",66,0)
 .D BLDFLDS(FILE,.PROP,.FLD),BLDFLDS(FILE,.PARM,.FLD)
"RTN","RGSERGET",67,0)
 .I $L($G(FLD(0))) D
"RTN","RGSERGET",68,0)
 ..N ERR
"RTN","RGSERGET",69,0)
 ..X XPRE
"RTN","RGSERGET",70,0)
 ..I FILE D
"RTN","RGSERGET",71,0)
 ...D GETS^DIQ(FILE,IENS,FLD(0),"IEZ","VALS","ERR")
"RTN","RGSERGET",72,0)
 ...I '$D(ERR) F LP=0:0 S LP=$O(FLD(LP)) Q:'LP  D
"RTN","RGSERGET",73,0)
 ....N TMP,IENS2,FILE2,LP2
"RTN","RGSERGET",74,0)
 ....S FILE2=FLD(LP,0),IENS2=VALS(FILE,IENS,LP,"I")_","
"RTN","RGSERGET",75,0)
 ....Q:'IENS2
"RTN","RGSERGET",76,0)
 ....D GETS^DIQ(FILE2,IENS2,FLD(LP),"IEZ","TMP","ERR")
"RTN","RGSERGET",77,0)
 ....F LP2=0:0 S LP2=$O(TMP(FILE2,IENS2,LP2)) Q:'LP2  D
"RTN","RGSERGET",78,0)
 .....M VALS(FILE,IENS,LP_"~"_LP2)=TMP(FILE2,IENS2,LP2)
"RTN","RGSERGET",79,0)
 ..X XPOST
"RTN","RGSERGET",80,0)
 ..I '$D(VALS),'$$ISERROR^RGNETWWW D OPEROUT^RGSEFHIR(1,$G(ERR("DIERR",1,"TEXT",1),$G(ERR,"Unknown error"))_" ("_FILE_":"_IEN_")")
"RTN","RGSERGET",81,0)
 .I $D(PROP("B","@id")) D
"RTN","RGSERGET",82,0)
 ..N X
"RTN","RGSERGET",83,0)
 ..S X=+$O(PROP("B","@id",0)),X=$P($G(PROP(X,0)),U,2)
"RTN","RGSERGET",84,0)
 ..S X=$S('$L(X):"",1:$G(VALS(FILE,IENS,X,"E")))
"RTN","RGSERGET",85,0)
 ..S:$L(X) ID=X
"RTN","RGSERGET",86,0)
 .S VALS(FILE,IENS,"@ien","I")=IEN
"RTN","RGSERGET",87,0)
 .S VALS(FILE,IENS,"@ienx","I")=FILE_"-"_IEN
"RTN","RGSERGET",88,0)
 .S VALS(FILE,IENS,"@id","I")=ID
"RTN","RGSERGET",89,0)
 I '$L(PNAME),'$$HASFLAG^RGSER("S") S RGSER("CNT")=RGSER("CNT")+1
"RTN","RGSERGET",90,0)
 D COMPOSE^@RGSER("INTF")
"RTN","RGSERGET",91,0)
 Q
"RTN","RGSERGET",92,0)
 ; Retrieval logic for custom source.
"RTN","RGSERGET",93,0)
RETRIEVE(SRC,IEN,DLM) ;
"RTN","RGSERGET",94,0)
 N X,Y
"RTN","RGSERGET",95,0)
 S X=$G(@SRC@(IEN)),DLM=$G(DLM,U)
"RTN","RGSERGET",96,0)
 F Y=1:1:$L(X,DLM) S (VALS(FILE,IENS,Y,"I"),VALS(FILE,IENS,Y,"E"))=$P(X,DLM,Y)
"RTN","RGSERGET",97,0)
 Q
"RTN","RGSERGET",98,0)
 ; Get resource type
"RTN","RGSERGET",99,0)
GETRTYPE(PATH,PNAME) ;
"RTN","RGSERGET",100,0)
 Q $P($S($L(PNAME):PNAME,1:$P(PATH,"/",$L(PATH,"/"))),"_")
"RTN","RGSERGET",101,0)
 ; Get preferred global selector
"RTN","RGSERGET",102,0)
GETSLCT() ;
"RTN","RGSERGET",103,0)
 N LP,SQ,NM,X,PN
"RTN","RGSERGET",104,0)
 S X=""
"RTN","RGSERGET",105,0)
 F SQ=0:0 S SQ=$O(PARM("ASEQ",SQ)) Q:'SQ  D  Q:$L(X)
"RTN","RGSERGET",106,0)
 .F LP=0:0 S LP=$O(PARM("ASEQ",SQ,LP)) Q:'LP  D  Q:$L(X)
"RTN","RGSERGET",107,0)
 ..S PN=$P(PARM(LP,0),U)
"RTN","RGSERGET",108,0)
 ..X $G(PARM(LP,20))
"RTN","RGSERGET",109,0)
 Q X
"RTN","RGSERGET",110,0)
 ; Process parameters
"RTN","RGSERGET",111,0)
PROCPARM N LP
"RTN","RGSERGET",112,0)
 S LP=""
"RTN","RGSERGET",113,0)
 F  S LP=$O(RGNETREQ("PARAMS",LP)) D  Q:'$L(LP)
"RTN","RGSERGET",114,0)
 .S PARM=$O(@SER@(40,"B",$S($L(LP):LP,1:"@selector"),0))
"RTN","RGSERGET",115,0)
 .I 'PARM D:$L(LP) OPEROUT^RGSEFHIR(5,LP) S LP="" Q
"RTN","RGSERGET",116,0)
 .M PARM(PARM)=@SER@(40,PARM)
"RTN","RGSERGET",117,0)
 .S PARM("ASEQ",+$P(PARM(PARM,0),U,4),PARM)=""
"RTN","RGSERGET",118,0)
 Q
"RTN","RGSERGET",119,0)
 ; Process properties
"RTN","RGSERGET",120,0)
PROCPROP N LP,SQ
"RTN","RGSERGET",121,0)
 F SQ=0:0 S SQ=$O(PROP("ASEQ",SQ)) Q:'SQ  D
"RTN","RGSERGET",122,0)
 .F LP=0:0 S LP=$O(PROP("ASEQ",SQ,LP)) Q:'LP  D
"RTN","RGSERGET",123,0)
 ..N PN,FN,TP,VL,CTL
"RTN","RGSERGET",124,0)
 ..D EXTRP(.PROP,LP)
"RTN","RGSERGET",125,0)
 ..Q:TP="N"
"RTN","RGSERGET",126,0)
 ..I TP="M" D PROPM Q
"RTN","RGSERGET",127,0)
 ..I TP="T" D PROPT Q
"RTN","RGSERGET",128,0)
 ..D:$L(TP) @("PROP"_TP)^@RGSER("INTF")
"RTN","RGSERGET",129,0)
 Q
"RTN","RGSERGET",130,0)
 ; Process a multiple field
"RTN","RGSERGET",131,0)
PROPM D GET(.RGSER,CTL,","_IEN,PN,"M")
"RTN","RGSERGET",132,0)
 Q
"RTN","RGSERGET",133,0)
 ; Process a template property
"RTN","RGSERGET",134,0)
PROPT D TEMPLATE(CTL)
"RTN","RGSERGET",135,0)
 Q
"RTN","RGSERGET",136,0)
 ; Extracts property values
"RTN","RGSERGET",137,0)
EXTRP(SRC,LP) ;
"RTN","RGSERGET",138,0)
 N X,Y,Z,P
"RTN","RGSERGET",139,0)
 S X=SRC(LP,0),PN=$P(X,U),FN=$P(X,U,2),TP=$P(X,U,3),CTL=$G(SRC(LP,10))
"RTN","RGSERGET",140,0)
 S PN(0)=$P(PN,"!",2,9999),PN=$P(PN,"!")
"RTN","RGSERGET",141,0)
 F X=1:1:$L(FN,",") D
"RTN","RGSERGET",142,0)
 .S Y=$P(FN,",",X)
"RTN","RGSERGET",143,0)
 .I $L(Y) D
"RTN","RGSERGET",144,0)
 ..S VALS(FILE,IENS,Y)=$L($G(VALS(FILE,IENS,Y,"I")))
"RTN","RGSERGET",145,0)
 ..M:X=1 VL=VALS(FILE,IENS,Y)
"RTN","RGSERGET",146,0)
 ..M:X>1 VL(X)=VALS(FILE,IENS,Y)
"RTN","RGSERGET",147,0)
 Q
"RTN","RGSERGET",148,0)
 ; Returns the global root for the specified resource.
"RTN","RGSERGET",149,0)
 ;  PATH = Path of resource
"RTN","RGSERGET",150,0)
 ;  TEST = If true, just testing for a match.
"RTN","RGSERGET",151,0)
GETGBL(PATH,TEST) ;
"RTN","RGSERGET",152,0)
 N SER,RES,N0
"RTN","RGSERGET",153,0)
 S SER=$$GETSER(PATH),TEST=+$G(TEST)
"RTN","RGSERGET",154,0)
 I SER<0 D:'TEST OPEROUT^RGSEFHIR($S(SER=-2:2,1:0)) Q ""
"RTN","RGSERGET",155,0)
 I '$G(RGSER("SER")) D
"RTN","RGSERGET",156,0)
 .S RGSER("SER")=SER,N0=^RGSER(998.1,SER,0)
"RTN","RGSERGET",157,0)
 .S RGSER("SERNM")=$P(N0,U),RGSER("INTF")=$P(N0,U,3),RGSER("VER")=$P(N0,U,4)
"RTN","RGSERGET",158,0)
 .D:'TEST SETCTYPE^RGNETWWW($P($P(N0,U,2),","))
"RTN","RGSERGET",159,0)
 S RES=$$GETRES(PATH)
"RTN","RGSERGET",160,0)
 I 'RES D:'TEST OPEROUT^RGSEFHIR(0) Q ""
"RTN","RGSERGET",161,0)
 Q $NA(^RGSER(998.1,SER,10,RES))
"RTN","RGSERGET",162,0)
 ; Lookup serializer for path and content type.
"RTN","RGSERGET",163,0)
 ; Returns IEN of serializer, or
"RTN","RGSERGET",164,0)
 ;   -1 if no match by name
"RTN","RGSERGET",165,0)
 ;   -2 if no match by content type
"RTN","RGSERGET",166,0)
 ;   -3 if no match to active serializer
"RTN","RGSERGET",167,0)
GETSER(PATH) ;
"RTN","RGSERGET",168,0)
 N SERNM,SER,SERX,MTYPE,ACCPT,FND,WT,MWT,IEN
"RTN","RGSERGET",169,0)
 S SERNM=$P(PATH,"/"),SER=+$G(RGSER("SER"))
"RTN","RGSERGET",170,0)
 Q:'$L(SERNM) -1
"RTN","RGSERGET",171,0)
 Q:SER $S(SERNM="*":SER,SERNM=RGSER("SERNM"):SER,1:-3)
"RTN","RGSERGET",172,0)
 S ACCPT=$G(RGSER("FORMAT")),(FND,MWT,SERX)=0
"RTN","RGSERGET",173,0)
 F IEN=0:0 S IEN=$S(SER:SER,1:$O(^RGSER(998.1,"B",SERNM,IEN))) Q:'IEN  D  Q:MWT=1!SER
"RTN","RGSERGET",174,0)
 .S MTYPE=$P(^RGSER(998.1,IEN,0),U,2),WT=$$ISCTYPE^RGNETWWW(MTYPE,ACCPT),FND=1
"RTN","RGSERGET",175,0)
 .S:WT>MWT SERX=IEN,MWT=$S(WT>1:1,1:WT)
"RTN","RGSERGET",176,0)
 Q $S(SERX:SERX,FND:-2,1:-1)
"RTN","RGSERGET",177,0)
 ; Lookup resource for selected serializer
"RTN","RGSERGET",178,0)
 ; Returns IEN of resource or 0 if not found
"RTN","RGSERGET",179,0)
GETRES(PATH) ;
"RTN","RGSERGET",180,0)
 N START,IEN,LEN,LP,RES,PTRN,D1,D2
"RTN","RGSERGET",181,0)
 S (START,LP)=$P(PATH,"/",2),PATH=$P(PATH,"/",2,999),D1=RGSER("SER"),RES=0,LEN=$L(START)
"RTN","RGSERGET",182,0)
 Q:'$L(START) 0
"RTN","RGSERGET",183,0)
 F  D  Q:RES  S LP=$O(^RGSER(998.1,D1,10,"B",LP)) Q:$E(LP,1,LEN)'=START
"RTN","RGSERGET",184,0)
 .F D2=0:0 S D2=$O(^RGSER(998.1,D1,10,"B",LP,D2)) Q:'D2  S PTRN=^(D2) D  Q:RES
"RTN","RGSERGET",185,0)
 ..S:$S($L(PTRN):$$ISMATCH^RGSER(PATH,PTRN),1:LP=PATH) RES=D2
"RTN","RGSERGET",186,0)
 Q RES
"RTN","RGSERGET",187,0)
 ; Build the list of fields to retrieve from
"RTN","RGSERGET",188,0)
 ; property or parameter list.
"RTN","RGSERGET",189,0)
BLDFLDS(FILE,SRC,FLD) ;
"RTN","RGSERGET",190,0)
 N PC,LP,FN,FN1,FN2,FNS
"RTN","RGSERGET",191,0)
 F LP=0:0 S LP=$O(SRC(LP)) Q:'LP  D
"RTN","RGSERGET",192,0)
 .S FNS=$P(SRC(LP,0),U,2)
"RTN","RGSERGET",193,0)
 .F PC=1:1:$L(FNS,",") D
"RTN","RGSERGET",194,0)
 ..S FN=$P(FNS,",",PC),FN1=$P(FN,"~"),FN2=$P(FN,"~",2)
"RTN","RGSERGET",195,0)
 ..D:$L(FN2) BLDFLD($$PTRTGT(FILE,FN1),FN1,FN2,.FLD)
"RTN","RGSERGET",196,0)
 ..D:$L(FN1) BLDFLD(FILE,0,FN1,.FLD)
"RTN","RGSERGET",197,0)
 Q
"RTN","RGSERGET",198,0)
BLDFLD(FILE,SB,FN,FLD) ;
"RTN","RGSERGET",199,0)
 Q:$E(FN)["@"
"RTN","RGSERGET",200,0)
 I FILE,FN'=+FN S FN=$$FLDNUM^DILFD(FILE,FN)
"RTN","RGSERGET",201,0)
 S FLD(SB)=$G(FLD(SB)),FLD(SB,0)=FILE
"RTN","RGSERGET",202,0)
 S:'$D(FLD(SB,FN)) FLD(SB)=FLD(SB)_$S($L(FLD(SB)):";",1:"")_FN,FLD(SB,FN)=1
"RTN","RGSERGET",203,0)
 Q
"RTN","RGSERGET",204,0)
 ; Get target file of pointer
"RTN","RGSERGET",205,0)
 ; Note: GET1^DID does not work on all files, so go straight to DD.
"RTN","RGSERGET",206,0)
PTRTGT(FILE,FLD) ;
"RTN","RGSERGET",207,0)
 Q +$P($P($G(^DD(FILE,FLD,0)),U,2),"P",2)
"RTN","RGSERGET",208,0)
 ; Search/filter logic.  Returns true if successful match.
"RTN","RGSERGET",209,0)
FILTER() N LP,SQ,PR,MATCH
"RTN","RGSERGET",210,0)
 S MATCH=1
"RTN","RGSERGET",211,0)
 F SQ=0:0 Q:'MATCH  S SQ=$O(PARM("ASEQ",SQ)) Q:'SQ  D
"RTN","RGSERGET",212,0)
 .F LP=0:0 Q:'MATCH  S LP=$O(PARM("ASEQ",SQ,LP)) Q:'LP  D
"RTN","RGSERGET",213,0)
 ..N PN,PN1,PN2,FN,TP,VL,CTL
"RTN","RGSERGET",214,0)
 ..D EXTRP(.PARM,LP)
"RTN","RGSERGET",215,0)
 ..I PN="@selector" X CTL Q
"RTN","RGSERGET",216,0)
 ..F PN1=0:0 Q:'MATCH  S PN1=$O(RGNETREQ("PARAMS",PN,PN1)) Q:'PN1  D
"RTN","RGSERGET",217,0)
 ...S MATCH=1
"RTN","RGSERGET",218,0)
 ...F PN2=0:0 S PN2=$O(RGNETREQ("PARAMS",PN,PN1,PN2)) Q:'PN2  D  Q:MATCH
"RTN","RGSERGET",219,0)
 ....N PVAL
"RTN","RGSERGET",220,0)
 ....M PVAL=RGNETREQ("PARAMS",PN,PN1,PN2)
"RTN","RGSERGET",221,0)
 ....I '$D(PVAL("I")) D
"RTN","RGSERGET",222,0)
 .....S PVAL("I")=1
"RTN","RGSERGET",223,0)
 .....D:$L(TP) @("INIT"_TP)
"RTN","RGSERGET",224,0)
 .....M RGNETREQ("PARAMS",PN,PN1,PN2)=PVAL
"RTN","RGSERGET",225,0)
 ....X CTL
"RTN","RGSERGET",226,0)
 ....D:$L(TP)&$D(PVAL) @("FILTER"_TP)
"RTN","RGSERGET",227,0)
 Q MATCH
"RTN","RGSERGET",228,0)
 ; Number
"RTN","RGSERGET",229,0)
INITN D EXTOPR("<>m")
"RTN","RGSERGET",230,0)
 Q
"RTN","RGSERGET",231,0)
FILTERN I PVAL'=+PVAL S MATCH=0
"RTN","RGSERGET",232,0)
 E  D DOCOMP("I")
"RTN","RGSERGET",233,0)
 Q
"RTN","RGSERGET",234,0)
 ; Date
"RTN","RGSERGET",235,0)
INITD D EXTOPR("<>m")
"RTN","RGSERGET",236,0)
 N DAT,TIM,TZ,X
"RTN","RGSERGET",237,0)
 I PVAL?4N1"-"2N1"-"2N.E D
"RTN","RGSERGET",238,0)
 .S TIM=$P(PVAL,"T",2,9999),DAT=$P(PVAL,"T"),DAT=$P(DAT,"-",2,3)_"-"_$P(DAT,"-")
"RTN","RGSERGET",239,0)
 .S X=$S($E(TIM,$L(TIM))="Z":"Z",TIM["-":"-",TIM["+":"+",1:"")
"RTN","RGSERGET",240,0)
 .S TZ=X_$P(TIM,X,2,9999),TIM=$P(TIM,X),PVAL=DAT
"RTN","RGSERGET",241,0)
 .S:$L(TIM) PVAL=PVAL_"@"_TIM
"RTN","RGSERGET",242,0)
 .I $L(TIM),$L(TZ) D
"RTN","RGSERGET",243,0)
 ..S X=$$TZ^XLFDT,TZ=X-$TR(TZ,":"),TZ(0)=TZ\100,TZ(1)=TZ-(TZ(0)*100)
"RTN","RGSERGET",244,0)
 D DT^DILF($S(PVAL["@":"TS",1:""),PVAL,.DAT)
"RTN","RGSERGET",245,0)
 I DAT>0,$D(TZ)>1 D
"RTN","RGSERGET",246,0)
 .S DAT=$$FMADD^XLFDT(DAT,0,TZ(0),TZ(1),0)
"RTN","RGSERGET",247,0)
 S PVAL=DAT
"RTN","RGSERGET",248,0)
 Q
"RTN","RGSERGET",249,0)
FILTERD I '$D(VL(2)) D DOCOMP("I") Q
"RTN","RGSERGET",250,0)
 D DOCOMPP("I")
"RTN","RGSERGET",251,0)
 Q
"RTN","RGSERGET",252,0)
 ; String
"RTN","RGSERGET",253,0)
INITS D EXTOPR("me","s")
"RTN","RGSERGET",254,0)
 S:PVAL("OPR")="s" PVAL=$$UP^XLFSTR(PVAL)
"RTN","RGSERGET",255,0)
 Q
"RTN","RGSERGET",256,0)
FILTERS D DOCOMP("E")
"RTN","RGSERGET",257,0)
 Q
"RTN","RGSERGET",258,0)
 ; Token
"RTN","RGSERGET",259,0)
INITT D EXTOPR("mt")
"RTN","RGSERGET",260,0)
 S:PVAL["|" PVAL(0)=$P(PVAL,"|"),PVAL=$P(PVAL,"|",2)
"RTN","RGSERGET",261,0)
 S:PVAL("OPR")="t" PVAL=$$UP^XLFSTR(PVAL)
"RTN","RGSERGET",262,0)
 Q
"RTN","RGSERGET",263,0)
FILTERT D DOCOMP($S(PVAL("OPR")="t":"E",1:"I"))
"RTN","RGSERGET",264,0)
 Q
"RTN","RGSERGET",265,0)
 ; Reference
"RTN","RGSERGET",266,0)
INITR D EXTOPR("m")
"RTN","RGSERGET",267,0)
 Q
"RTN","RGSERGET",268,0)
FILTERR D DOCOMP("I")
"RTN","RGSERGET",269,0)
 Q
"RTN","RGSERGET",270,0)
 ; Quantity
"RTN","RGSERGET",271,0)
INITQ D EXTOPR("<>m~")
"RTN","RGSERGET",272,0)
 Q
"RTN","RGSERGET",273,0)
FILTERQ D FILTERN
"RTN","RGSERGET",274,0)
 Q
"RTN","RGSERGET",275,0)
DOCOMP(IE) ;
"RTN","RGSERGET",276,0)
 D DOCOMPX($G(VL(IE)))
"RTN","RGSERGET",277,0)
 Q
"RTN","RGSERGET",278,0)
 ; Perform comparison against a period
"RTN","RGSERGET",279,0)
DOCOMPP(IE) ;
"RTN","RGSERGET",280,0)
 N START,END,OPR
"RTN","RGSERGET",281,0)
 S START=$G(VL(IE)),END=$G(VL(2,IE)),OPR=PVAL("OPR"),MATCH=0
"RTN","RGSERGET",282,0)
 I 'START,'END Q
"RTN","RGSERGET",283,0)
 I 'START D DOCOMPX(END) Q
"RTN","RGSERGET",284,0)
 I 'END D DOCOMPX(START) Q
"RTN","RGSERGET",285,0)
 I OPR["=" S MATCH=PVAL'<START&(PVAL'>END) Q:MATCH
"RTN","RGSERGET",286,0)
 I OPR["<" S MATCH=START<PVAL Q
"RTN","RGSERGET",287,0)
 I OPR[">" S MATCH=END>PVAL Q
"RTN","RGSERGET",288,0)
 Q
"RTN","RGSERGET",289,0)
 ; Perform comparison against search value
"RTN","RGSERGET",290,0)
DOCOMPX(VAL) ;
"RTN","RGSERGET",291,0)
 N OPR
"RTN","RGSERGET",292,0)
 S MATCH=0,OPR=PVAL("OPR")
"RTN","RGSERGET",293,0)
 I OPR["m" S MATCH='$L(VAL)=(PVAL="true") Q
"RTN","RGSERGET",294,0)
 I OPR["=" S MATCH=VAL=PVAL Q:MATCH
"RTN","RGSERGET",295,0)
 I OPR["<" S MATCH=VAL<PVAL Q
"RTN","RGSERGET",296,0)
 I OPR[">" S MATCH=VAL>PVAL Q
"RTN","RGSERGET",297,0)
 I OPR["e" S MATCH=VAL=PVAL Q
"RTN","RGSERGET",298,0)
 I OPR["~" D  Q
"RTN","RGSERGET",299,0)
 .N X1,X2,Y
"RTN","RGSERGET",300,0)
 .S Y=PVAL/10,X1=PVAL-Y,X2=PVAL+Y,MATCH=VAL'<X1&(X'>X2)
"RTN","RGSERGET",301,0)
 I OPR["s" D  Q
"RTN","RGSERGET",302,0)
 .S VAL=$$UP^XLFSTR($E(VAL,1,$L(PVAL))),MATCH=VAL=PVAL
"RTN","RGSERGET",303,0)
 I OPR["t" D  Q
"RTN","RGSERGET",304,0)
 .S MATCH=$$UP^XLFSTR(VAL)[PVAL
"RTN","RGSERGET",305,0)
 Q
"RTN","RGSERGET",306,0)
 ; Name comparison
"RTN","RGSERGET",307,0)
OPRNAME(VAL,PC) ;
"RTN","RGSERGET",308,0)
 N X,Y
"RTN","RGSERGET",309,0)
 S VAL=$P(VAL,",",PC)
"RTN","RGSERGET",310,0)
 F X=1:1:$L(VAL," ") D  Q:MATCH
"RTN","RGSERGET",311,0)
 .S Y=$P(VAL," ",X)
"RTN","RGSERGET",312,0)
 .D:$L(Y) DOCOMPX(Y)
"RTN","RGSERGET",313,0)
 Q
"RTN","RGSERGET",314,0)
 ; Extract optional operator from search parameter
"RTN","RGSERGET",315,0)
EXTOPR(ALLOWED,DFLT) ;
"RTN","RGSERGET",316,0)
 N X,OPR
"RTN","RGSERGET",317,0)
 S OPR=$G(PVAL("OPR"))
"RTN","RGSERGET",318,0)
 F X="<=",">=","<",">","~" I ALLOWED[$E(X),$E(PVAL,1,$L(X))=X D  Q
"RTN","RGSERGET",319,0)
 .I '$L(OPR) S OPR=X,PVAL=$E(PVAL,$L(X)+1,9999)
"RTN","RGSERGET",320,0)
 .E  D OPEROUT^RGSEFHIR(7,X,PVAL)
"RTN","RGSERGET",321,0)
 S PVAL("OPR")=$S($L(OPR):OPR,1:$G(DFLT,"="))
"RTN","RGSERGET",322,0)
 Q
"RTN","RGSERGET",323,0)
 ; Creates a new instance of an iterator
"RTN","RGSERGET",324,0)
 ; EP = entry point (tag or tag^routine)
"RTN","RGSERGET",325,0)
 ; Note: entry point will be invoked immediately via a DO
"RTN","RGSERGET",326,0)
 ; to permit initialization.
"RTN","RGSERGET",327,0)
NEWITER(EP) ;
"RTN","RGSERGET",328,0)
 S:$E(EP,1,2)="$$" EP=$E(EP,3,99)
"RTN","RGSERGET",329,0)
 S EP=EP_"("_$QS($$TMPGBL^RGNETWWW,3)_")"
"RTN","RGSERGET",330,0)
 D @EP
"RTN","RGSERGET",331,0)
 Q "$$"_EP
"RTN","RGSERGET",332,0)
 ; Iterator implementation for traversing a cross reference
"RTN","RGSERGET",333,0)
XREFITER(CTX,ROOT,START,TST) ;
"RTN","RGSERGET",334,0)
 S CTX=$$TMPGBL^RGNETWWW(CTX)
"RTN","RGSERGET",335,0)
 I '$Q D  Q
"RTN","RGSERGET",336,0)
 .S START=$$UP^XLFSTR(START)
"RTN","RGSERGET",337,0)
 .S @CTX@("IEN")=0,^("ROOT")=ROOT,(^("START"),^("LAST"))=START,^("TST")=$G(TST,"I 1")
"RTN","RGSERGET",338,0)
 N LAST,IEN
"RTN","RGSERGET",339,0)
 S IEN=@CTX@("IEN"),START=^("START"),LAST=^("LAST"),TST=^("TST"),ROOT=^("ROOT")
"RTN","RGSERGET",340,0)
 F  D  Q:IEN
"RTN","RGSERGET",341,0)
 .S:$L(LAST) IEN=+$O(@ROOT@(LAST,IEN)),@CTX@("IEN")=IEN
"RTN","RGSERGET",342,0)
 .Q:IEN
"RTN","RGSERGET",343,0)
 .S LAST=$O(@ROOT@(LAST)),@CTX@("LAST")=LAST
"RTN","RGSERGET",344,0)
 .I 0
"RTN","RGSERGET",345,0)
 .X:$L(LAST) TST
"RTN","RGSERGET",346,0)
 .S:'$T IEN=-1
"RTN","RGSERGET",347,0)
 Q $S(IEN>0:IEN,1:0)
"RTN","RGSERGET",348,0)
 ; Iterator implementation for traversing a name cross references
"RTN","RGSERGET",349,0)
NAMEITER(CTX,ROOT) ;
"RTN","RGSERGET",350,0)
 I '$Q D XREFITER(CTX,ROOT,$$GETPARAM^RGNETWWW("family"),"I $E($P(LAST,"",""),1,$L(START))=START") Q
"RTN","RGSERGET",351,0)
 Q $$XREFITER(CTX)
"RTN","RGSERGET",352,0)
 ; Return a cohort based on a xref
"RTN","RGSERGET",353,0)
 ; PARAM = Name of search parameter
"RTN","RGSERGET",354,0)
 ; GBL = Root of xref
"RTN","RGSERGET",355,0)
 ; OFF = Offset to subscript containing IEN (defaults to 0)
"RTN","RGSERGET",356,0)
COHORT(PARAM,GBL,OFF) ;
"RTN","RGSERGET",357,0)
 N LP,TMP
"RTN","RGSERGET",358,0)
 S OFF=+$G(OFF),LP=$O(RGNETREQ("PARAMS",PARAM,1,0)),TMP=$$TMPGBL^RGNETWWW
"RTN","RGSERGET",359,0)
 I 'OFF,LP,'$O(RGNETREQ("PARAMS",PARAM,1,LP)) Q $$GBLROOT(RGNETREQ("PARAMS",PARAM,1,LP),GBL)
"RTN","RGSERGET",360,0)
 F LP=0:0 S LP=$O(RGNETREQ("PARAMS",PARAM,1,LP)) Q:'LP  D COHORT2(RGNETREQ("PARAMS",PARAM,1,LP),GBL,OFF,TMP)
"RTN","RGSERGET",361,0)
 Q TMP
"RTN","RGSERGET",362,0)
 ; Return a cohort based on a xref
"RTN","RGSERGET",363,0)
 ; IDX = Value of indexed entry
"RTN","RGSERGET",364,0)
 ; GBL = Root of xref
"RTN","RGSERGET",365,0)
 ; OFF = Offset to subscript containing IEN (defaults to 0)
"RTN","RGSERGET",366,0)
COHORT2(IDX,GBL,OFF,TMP) ;
"RTN","RGSERGET",367,0)
 S TMP=$$COHORT3($$GBLROOT(IDX,GBL),.OFF,.TMP)
"RTN","RGSERGET",368,0)
 Q:$Q TMP
"RTN","RGSERGET",369,0)
 Q
"RTN","RGSERGET",370,0)
 ; Return a cohort from a global root
"RTN","RGSERGET",371,0)
 ; GBL = Root of global
"RTN","RGSERGET",372,0)
 ; OFF = Offset to subscript containing IEN (defaults to 0)
"RTN","RGSERGET",373,0)
 ; Internal entry point
"RTN","RGSERGET",374,0)
COHORT3(GBL,OFF,TMP) ;
"RTN","RGSERGET",375,0)
 N X,L,S,I,QL
"RTN","RGSERGET",376,0)
 S:'$D(TMP) TMP=$$TMPGBL^RGNETWWW
"RTN","RGSERGET",377,0)
 S OFF=+$G(OFF),QL=$QL(GBL)+OFF+1
"RTN","RGSERGET",378,0)
 I OFF D
"RTN","RGSERGET",379,0)
 .S X=GBL,L=$QL(X),S=""
"RTN","RGSERGET",380,0)
 .F  S X=$Q(@X) Q:'$L(X)  Q:$NA(@X,L)'=GBL  D
"RTN","RGSERGET",381,0)
 ..S I=$QS(X,QL)
"RTN","RGSERGET",382,0)
 ..I $L(I),I'=S S S=I,@TMP@(S)=""
"RTN","RGSERGET",383,0)
 .E  M @TMP=@GBL
"RTN","RGSERGET",384,0)
 Q:$Q TMP
"RTN","RGSERGET",385,0)
 Q
"RTN","RGSERGET",386,0)
 ; Returns global root for indexed entries.
"RTN","RGSERGET",387,0)
 ; IDX = Index of entries
"RTN","RGSERGET",388,0)
 ; GBL = Global root.  If contains "*", index value is placed there.
"RTN","RGSERGET",389,0)
 ;       Otherwise, index value is placed at end.
"RTN","RGSERGET",390,0)
GBLROOT(IDX,GBL) ;
"RTN","RGSERGET",391,0)
 Q:GBL'["*" $NA(@GBL@(IDX))
"RTN","RGSERGET",392,0)
 S GBL=$P(GBL,"*")_IDX_$P(GBL,"*",2,9999)
"RTN","RGSERGET",393,0)
 Q $NA(@GBL)
"RTN","RGSERGET",394,0)
 ; Process a compartment request
"RTN","RGSERGET",395,0)
COMPRT(GBL,EXC,OFF) ;
"RTN","RGSERGET",396,0)
 D:$L(SLCT) PARSEQS^RGNETWWW("_id="_SLCT)
"RTN","RGSERGET",397,0)
 S:'$G(EXC) GBL=$NA(@GBL@($P(PATH,"/",3)))
"RTN","RGSERGET",398,0)
 S:$G(OFF) GBL=$$COHORT3(GBL,OFF)
"RTN","RGSERGET",399,0)
 D GET(.RGSER,$P(PATH,"/")_"/"_$P(PATH,"/",4),GBL,.PNAME,FLAGS)
"RTN","RGSERGET",400,0)
 Q
"RTN","RGSERGET",401,0)
 ; Process a compound id (#-#) selector
"RTN","RGSERGET",402,0)
COMPID N ID1,ID2
"RTN","RGSERGET",403,0)
 S ID1=$P(SLCT,"-"),ID2=$P(SLCT,"-",2,9999)
"RTN","RGSERGET",404,0)
 I '$L(ID1)!'$L(ID2) D
"RTN","RGSERGET",405,0)
 .D OPEROUT^RGSEFHIR(8,SLCT)
"RTN","RGSERGET",406,0)
 E  D GET(.RGSER,PATH_"_"_ID1,ID2,.PNAME,"S")
"RTN","RGSERGET",407,0)
 Q
"RTN","RGSERGET",408,0)
 ; Retrieve description for end point
"RTN","RGSERGET",409,0)
GETDSC(SERNM) ;
"RTN","RGSERGET",410,0)
 N SER,LP
"RTN","RGSERGET",411,0)
 S SER=$$GETSER(SERNM)
"RTN","RGSERGET",412,0)
 I SER'>0 D OPEROUT^RGSEFHIR(0) Q
"RTN","RGSERGET",413,0)
 D SETCTYPE^RGNETWWW("text/html")
"RTN","RGSERGET",414,0)
 D ADDARY^RGSER($NA(^RGSER(998.1,SER,99)),"WR")
"RTN","RGSERGET",415,0)
 Q
"RTN","RGSERGET",416,0)
 ; Process a template
"RTN","RGSERGET",417,0)
 ;   NAME = Template name
"RTN","RGSERGET",418,0)
 ;   RESN = The resource name or ien (defaults to current resource)
"RTN","RGSERGET",419,0)
 ; Template may contain replaceable fields using |xxx| format, where xxx may be:
"RTN","RGSERGET",420,0)
 ;   A field reference in the format: name or name,[I, E or W]
"RTN","RGSERGET",421,0)
 ;     where I indicates the internal value, E the external, and W for word processing.
"RTN","RGSERGET",422,0)
 ;   An expression in the format: @expression or #expression
"RTN","RGSERGET",423,0)
 ;     where @ causes the result to be escaped, # does not.
"RTN","RGSERGET",424,0)
TEMPLATE(NAME,RESN) ;
"RTN","RGSERGET",425,0)
 N TMPL,SERX,LP,LN,X,Y
"RTN","RGSERGET",426,0)
 I $D(RESN)#2 D  Q:'$D(SERX)
"RTN","RGSERGET",427,0)
 .S:RESN'=+RESN RESN=$O(^RGSER(998.1,RGSER("SER"),10,"B",RESN,0))
"RTN","RGSERGET",428,0)
 .S:RESN SERX=$NA(^RGSER(998.1,RGSER("SER"),10,RESN))
"RTN","RGSERGET",429,0)
 E  S SERX=SER
"RTN","RGSERGET",430,0)
 S TMPL=$O(@SERX@(50,"B",NAME,0))
"RTN","RGSERGET",431,0)
 D:TMPL TEMPL1($NA(@SERX@(50,TMPL,1)))
"RTN","RGSERGET",432,0)
 Q
"RTN","RGSERGET",433,0)
 ; Process template at specified array root
"RTN","RGSERGET",434,0)
TEMPL1(ROOT) ;
"RTN","RGSERGET",435,0)
 N LP
"RTN","RGSERGET",436,0)
 F LP=0:0 S LP=$O(@ROOT@(LP)) Q:'LP  D TEMPL2(^(LP,0),0)
"RTN","RGSERGET",437,0)
 Q
"RTN","RGSERGET",438,0)
 ; Process a line from a template
"RTN","RGSERGET",439,0)
TEMPL2(LN,ESC) ;
"RTN","RGSERGET",440,0)
 N PAR,VAL,FLG,SB
"RTN","RGSERGET",441,0)
 F  Q:LN'["|"  D
"RTN","RGSERGET",442,0)
 .D TEMPL3($P(LN,"|"),ESC)
"RTN","RGSERGET",443,0)
 .S PAR=$P(LN,"|",2),LN=$P(LN,"|",3,9999)
"RTN","RGSERGET",444,0)
 .S FLG=$E(PAR)
"RTN","RGSERGET",445,0)
 .I FLG="@"!(FLG="#") D
"RTN","RGSERGET",446,0)
 ..S @("VAL="_$E(PAR,2,9999))
"RTN","RGSERGET",447,0)
 ..D TEMPL2(VAL,FLG="@")
"RTN","RGSERGET",448,0)
 .E  D
"RTN","RGSERGET",449,0)
 ..S:FLG="\" PAR=$E(PAR,2,9999)
"RTN","RGSERGET",450,0)
 ..S SB=$P(PAR,",",2),PAR=$P(PAR,",")
"RTN","RGSERGET",451,0)
 ..D F(PAR,SB,ESC)
"RTN","RGSERGET",452,0)
 D TEMPL3(LN,ESC)
"RTN","RGSERGET",453,0)
 Q
"RTN","RGSERGET",454,0)
 ; Output template text
"RTN","RGSERGET",455,0)
TEMPL3(OUT,ESC) ;
"RTN","RGSERGET",456,0)
 Q:'$L(OUT)
"RTN","RGSERGET",457,0)
 S:ESC OUT=$$ESCAPE^RGSER(OUT)
"RTN","RGSERGET",458,0)
 D ADD^RGNETWWW(OUT)
"RTN","RGSERGET",459,0)
 Q
"RTN","RGSERGET",460,0)
 ; Outputs a field value
"RTN","RGSERGET",461,0)
F(FN,SB,ESC) ;
"RTN","RGSERGET",462,0)
 N LP
"RTN","RGSERGET",463,0)
 S:'$L($G(SB)) SB=$O(VALS(FILE,IENS,FN,""))
"RTN","RGSERGET",464,0)
 Q:'$L(SB)
"RTN","RGSERGET",465,0)
 S ESC=+$G(ESC,1)
"RTN","RGSERGET",466,0)
 I "IE"[SB D TEMPL2($G(VALS(FILE,IENS,FN,SB)),ESC) Q
"RTN","RGSERGET",467,0)
 Q:SB'="W"
"RTN","RGSERGET",468,0)
 F LP=0:0 S LP=$O(VALS(FILE,IENS,PAR,LP)) Q:'LP  D
"RTN","RGSERGET",469,0)
 .D TEMPL2(VALS(FILE,IENS,FN,LP,0),ESC)
"RTN","RGSERGET",470,0)
 .D TEMPL3($C(13,10),1)
"RTN","RGSERGET",471,0)
 Q:$Q ""
"RTN","RGSERGET",472,0)
 Q
"RTN","RGSERLAB")
0^6^B13497906
"RTN","RGSERLAB",1,0)
RGSERLAB ;RI/CBMI/DKM - Return lab observations. ;04-Aug-2016 22:02;DKM
"RTN","RGSERLAB",2,0)
 ;;1.0;SERIALIZATION FRAMEWORK;;07-Feb-2015 08:51;Build 506
"RTN","RGSERLAB",3,0)
 ;=================================================================
"RTN","RGSERLAB",4,0)
 ; Return lab results
"RTN","RGSERLAB",5,0)
EN(RESULTS,DFN,ID,BEG,END,MAX) ;
"RTN","RGSERLAB",6,0)
 N LRDFN,LRIDT,LRSUB,LRSEQ,LR0
"RTN","RGSERLAB",7,0)
 I $L($G(ID)) D
"RTN","RGSERLAB",8,0)
 .S LRSUB=$P(ID,"-")
"RTN","RGSERLAB",9,0)
 .I "^CH^MI^AP^"'[(U_LRSUB_U) S DFN=0 Q
"RTN","RGSERLAB",10,0)
 .S LRDFN=+$P(ID,"-",3),LRIDT=$P(ID,"-",2),LR0=$G(^LR(LRDFN,0))
"RTN","RGSERLAB",11,0)
 .I $P(LR0,U,2)'=2 S DFN=0 Q
"RTN","RGSERLAB",12,0)
 .I '$G(DFN) S DFN=+$P(LR0,U,3) Q
"RTN","RGSERLAB",13,0)
 .I DFN'=$P(LR0,U,3) S DFN=0 Q
"RTN","RGSERLAB",14,0)
 .S (BEG,END)=9999999-LRIDT
"RTN","RGSERLAB",15,0)
 E  S DFN=+$G(DFN),LRDFN=$G(^DPT(DFN,"LR")),LRSUB=""
"RTN","RGSERLAB",16,0)
 Q:'DFN
"RTN","RGSERLAB",17,0)
 Q:'LRDFN
"RTN","RGSERLAB",18,0)
 K ^TMP("LRRR",$J,DFN)
"RTN","RGSERLAB",19,0)
 D RR^LR7OR1(DFN,,BEG,END,LRSUB,,,MAX)
"RTN","RGSERLAB",20,0)
 S LRSUB=""
"RTN","RGSERLAB",21,0)
 F  S LRSUB=$O(^TMP("LRRR",$J,DFN,LRSUB)),LRIDT=0 Q:LRSUB=""  D  Q:MAX'>0
"RTN","RGSERLAB",22,0)
 .F  S LRIDT=$O(^TMP("LRRR",$J,DFN,LRSUB,LRIDT)) Q:'LRIDT  D  Q:MAX'>0
"RTN","RGSERLAB",23,0)
 ..S LR0=$G(^LR(LRDFN,LRSUB,LRIDT,0)),LRSEQ=0
"RTN","RGSERLAB",24,0)
 ..F  S LRSEQ=$O(^TMP("LRRR",$J,DFN,LRSUB,LRIDT,LRSEQ)) Q:'LRSEQ  D PROCESS(^(LRSEQ)) Q:MAX'>0
"RTN","RGSERLAB",25,0)
 K ^TMP("LRRR",$J,DFN)
"RTN","RGSERLAB",26,0)
 Q
"RTN","RGSERLAB",27,0)
 ; Process an entry
"RTN","RGSERLAB",28,0)
 ; AU: LUNG,LT (gm)^200^^^^F^^^^^^^^^LUNG,LT (gm)^200^^^;AU;
"RTN","RGSERLAB",29,0)
 ; CH: 179^2^L*^meq/L^23 - 31^F^^^82830.0000^Carbon Dioxide Content^99NLT^11733^^^CO2^CH 0917 3^1209^^72"
"RTN","RGSERLAB",30,0)
 ; CY: GROSS DESCRIPTION^Swab for PAP smear^^^^I^^TX^^^&GDT^^^^GROSS DESCRIPTION^^^;CY;7039672.99999
"RTN","RGSERLAB",31,0)
 ; EM: ORGAN/TISSUE^LYMPH NODE^^^^F^1^CE^08000^SNM^&ANT^^^^ORG/TISS^^^;EM;7049691
"RTN","RGSERLAB",32,0)
 ; MI: URINE SCREEN^Positive^^^^P^^^^^^^^^URINE SCREEN^^^;MI;7079882.8562^71
"RTN","RGSERLAB",33,0)
 ; MI: ORGANISM^ESCHERICHIA COLI;3+ ^^^^P^^^^^^^^^ORGANISM^^^;MI;7079882.8562^71
"RTN","RGSERLAB",34,0)
 ; MI: R^R^^^^P^^^^^^^^^R^^^;MI;7079882.8562^71
"RTN","RGSERLAB",35,0)
 ; SP: MORPHOLOGY^NEGATIVE FOR MALIGNANT CELLS^^^^F^1^CE^09460^SNM^&IMP^^^^_MORPH^^^;SP;7049482
"RTN","RGSERLAB",36,0)
PROCESS(LRX) ;
"RTN","RGSERLAB",37,0)
 N ANID,ARY,LRN,X
"RTN","RGSERLAB",38,0)
 S LRN=+$P($P($G(^LAB(60,+LRX,0)),U,5),";",2)
"RTN","RGSERLAB",39,0)
 S ANID=LRSUB_"-"_LRIDT_"-"_LRDFN_"-"_$S(LRN:LRN,1:LRSEQ)
"RTN","RGSERLAB",40,0)
 I $L($G(ID)),ID'=ANID Q
"RTN","RGSERLAB",41,0)
 S ARY=$$ARY^RGSEROBS(RESULTS),MAX=MAX-1
"RTN","RGSERLAB",42,0)
 D PUT("id",ANID)
"RTN","RGSERLAB",43,0)
 D PUT("collected",9999999-LRIDT)
"RTN","RGSERLAB",44,0)
 S X=$P(LR0,U,3)
"RTN","RGSERLAB",45,0)
 D PUT("issued",X)
"RTN","RGSERLAB",46,0)
 D PUT("status","final")
"RTN","RGSERLAB",47,0)
 D PUT("reliability","ok")
"RTN","RGSERLAB",48,0)
 D PUT("value",$P(LRX,U,2))
"RTN","RGSERLAB",49,0)
 D PUT("interpretation",$P(LRX,U,3))
"RTN","RGSERLAB",50,0)
 D PUT("units",$P(LRX,U,4))
"RTN","RGSERLAB",51,0)
 S X=$P(LRX,U,5)
"RTN","RGSERLAB",52,0)
 D PUT("low",$P(X," - ")),PUT("high",$P(X," - ",2))
"RTN","RGSERLAB",53,0)
 D PUT("localName",$P(LRX,U,15))
"RTN","RGSERLAB",54,0)
 S LOINC=$S(LRN:+$P($P($G(^LR(LRDFN,LRSUB,LRIDT,LRN)),U,3),"!",3),1:"")
"RTN","RGSERLAB",55,0)
 S X=+$P(LRX,U,19)
"RTN","RGSERLAB",56,0)
 I X D  ;specimen
"RTN","RGSERLAB",57,0)
 .D PUT("specimen",$$GET1^DIQ(61,X_",",2),$$GET1^DIQ(61,X_",",4.1)) ;SNOMED
"RTN","RGSERLAB",58,0)
 .D PUT("sample",$$GET1^DIQ(61,X_",",4.1))
"RTN","RGSERLAB",59,0)
 .S:'LOINC LOINC=$$GET1^DIQ(60.01,X_","_+LRX_",",95.3)
"RTN","RGSERLAB",60,0)
 I LOINC D
"RTN","RGSERLAB",61,0)
 .D PUT("code",$$GET1^DIQ(95.3,LOINC_",",.01),$$GET1^DIQ(95.3,LOINC_",",80))
"RTN","RGSERLAB",62,0)
 .D PUT("code_system","http://loinc.org/")
"RTN","RGSERLAB",63,0)
 E  I LRX D
"RTN","RGSERLAB",64,0)
 .D FILE^RGSEROBS("code",+LRX,60)
"RTN","RGSERLAB",65,0)
 .D PUT("code_system",$$LOCALSYS^RGSER("lab"))
"RTN","RGSERLAB",66,0)
 E  D
"RTN","RGSERLAB",67,0)
 .S X=$P(LRX,U)
"RTN","RGSERLAB",68,0)
 .S:'$L(X) X=$P(LRX,U,15)
"RTN","RGSERLAB",69,0)
 .D PUT("code",$S($L(X):X,1:"UNKNOWN"))
"RTN","RGSERLAB",70,0)
 .D PUT("code_system",$$LOCALSYS^RGSER("lab"))
"RTN","RGSERLAB",71,0)
 S X=$P(LRX,U,16)
"RTN","RGSERLAB",72,0)
 D PUT("groupID",X)
"RTN","RGSERLAB",73,0)
 D PUT("type",$S(LRSUB="CH":$$TYPE($P(X," ")),1:LRSUB))
"RTN","RGSERLAB",74,0)
 S X=+$P(LRX,U,17)
"RTN","RGSERLAB",75,0)
 D:X PUT("labOrderID",X)
"RTN","RGSERLAB",76,0)
 S X=$$ORDER(X,+LRX)
"RTN","RGSERLAB",77,0)
 D:X PUT("orderID",X)
"RTN","RGSERLAB",78,0)
 D FILE^RGSEROBS("patient",DFN,2)
"RTN","RGSERLAB",79,0)
 D FACILITY^RGSEROBS($P(LR0,U,14))
"RTN","RGSERLAB",80,0)
 D COMMENT
"RTN","RGSERLAB",81,0)
 Q
"RTN","RGSERLAB",82,0)
 ; Return #100 order given order # and test.
"RTN","RGSERLAB",83,0)
ORDER(LABORD,TEST) ;
"RTN","RGSERLAB",84,0)
 N Y,D,S,T
"RTN","RGSERLAB",85,0)
 S Y="",D=$O(^LRO(69,"C",LABORD,0))
"RTN","RGSERLAB",86,0)
 I D D
"RTN","RGSERLAB",87,0)
 .S S=0
"RTN","RGSERLAB",88,0)
 .F  S S=$O(^LRO(69,"C",LABORD,D,S)),T=0 Q:S<1  D  Q:Y
"RTN","RGSERLAB",89,0)
 ..F  S T=$O(^LRO(69,D,1,S,2,T)) Q:T<1  I +$G(^(T,0))=TEST S Y=+$P(^(0),U,7) Q
"RTN","RGSERLAB",90,0)
 Q Y
"RTN","RGSERLAB",91,0)
 ; Process comment (if any)
"RTN","RGSERLAB",92,0)
COMMENT N CMNT,LP,X
"RTN","RGSERLAB",93,0)
 S (LP,CMNT)=""
"RTN","RGSERLAB",94,0)
 F  S LP=$O(^TMP("LRRR",$J,DFN,LRSUB,LRIDT,"N",LP)) Q:'$L(LP)  S X=$G(^(LP))_$G(^(LP,0)) D
"RTN","RGSERLAB",95,0)
 .S CMNT=CMNT_$S($L(CMNT):$C(13,10),1:"")_X
"RTN","RGSERLAB",96,0)
 D PUT("comments",CMNT)
"RTN","RGSERLAB",97,0)
 Q
"RTN","RGSERLAB",98,0)
 ; Return name of lab section
"RTN","RGSERLAB",99,0)
TYPE(X) N LPY,Y
"RTN","RGSERLAB",100,0)
 S Y=X
"RTN","RGSERLAB",101,0)
 D FIND^DIC(68,,.01,"PQX",X,,"B",,,"LPY")
"RTN","RGSERLAB",102,0)
 S:$G(LPY("DILIST",1,0)) Y=$P(LPY("DILIST",1,0),U,2) ;name
"RTN","RGSERLAB",103,0)
 Q Y
"RTN","RGSERLAB",104,0)
 ; Write to target array
"RTN","RGSERLAB",105,0)
PUT(NAME,INTERNAL,EXTERNAL) ;
"RTN","RGSERLAB",106,0)
 D PUT^RGSEROBS(.NAME,.INTERNAL,.EXTERNAL)
"RTN","RGSERLAB",107,0)
 Q
"RTN","RGSERLOC")
0^18^B496850
"RTN","RGSERLOC",1,0)
RGSERLOC ;RI/CBMI/DKM - Location Resource Support ;04-Aug-2016 23:16;DKM
"RTN","RGSERLOC",2,0)
 ;;1.0;SERIALIZATION FRAMEWORK;;07-Feb-2015 08:51;Build 506
"RTN","RGSERLOC",3,0)
 ;=================================================================
"RTN","RGSERLOC",4,0)
 ; Return location type
"RTN","RGSERLOC",5,0)
GETTYPE(TYPE,SERVICE) ;
"RTN","RGSERLOC",6,0)
 N TP
"RTN","RGSERLOC",7,0)
 S TP=""
"RTN","RGSERLOC",8,0)
 I TYPE="C" D  Q TP
"RTN","RGSERLOC",9,0)
 .S TP=$$SET^RGUT(SERVICE,"P:PSY;S:SU;M:GIM;R:RH;N:NEUR")
"RTN","RGSERLOC",10,0)
 .S:'$L(TP) TP="OF"
"RTN","RGSERLOC",11,0)
 Q:TYPE="I" "HRAD"
"RTN","RGSERLOC",12,0)
 Q:TYPE="W" "HOSP"
"RTN","RGSERLOC",13,0)
 Q ""
"RTN","RGSERLOC",14,0)
 ; Return location status
"RTN","RGSERLOC",15,0)
GETSTAT(INACT,REACT) ;
"RTN","RGSERLOC",16,0)
 N AC,IN
"RTN","RGSERLOC",17,0)
 S AC="active",IN="inactive"
"RTN","RGSERLOC",18,0)
 Q:'INACT AC
"RTN","RGSERLOC",19,0)
 Q:INACT>DT AC
"RTN","RGSERLOC",20,0)
 Q:'REACT IN
"RTN","RGSERLOC",21,0)
 Q:REACT>INACT AC
"RTN","RGSERLOC",22,0)
 Q IN
"RTN","RGSEROBS")
0^7^B16358628
"RTN","RGSEROBS",1,0)
RGSEROBS ;RI/CBMI/DKM - Return observations in intermediate format. ;21-Mar-2017 15:13;DKM
"RTN","RGSEROBS",2,0)
 ;;1.0;SERIALIZATION FRAMEWORK;;07-Feb-2015 08:51;Build 506
"RTN","RGSEROBS",3,0)
 ;=================================================================
"RTN","RGSEROBS",4,0)
OBS(DFN,ID,BEG,END,MAX) ;
"RTN","RGSEROBS",5,0)
 N RTN
"RTN","RGSEROBS",6,0)
 S RTN=$$TMPGBL^RGNETWWW,DFN=$G(DFN),ID=$G(ID),BEG=$G(BEG,1410101),END=$G(END,9999998)
"RTN","RGSEROBS",7,0)
 S MAX=$S($L(ID):1,1:$G(MAX,999999))
"RTN","RGSEROBS",8,0)
 D:'$$ISMAX EN^RGSERLAB(RTN,DFN,ID,BEG,END,MAX)
"RTN","RGSEROBS",9,0)
 D:'$$ISMAX EN^RGSERVIT(RTN,DFN,ID,BEG,END,MAX)
"RTN","RGSEROBS",10,0)
 S RGSER("RGSEROBS")=RTN
"RTN","RGSEROBS",11,0)
 Q RTN
"RTN","RGSEROBS",12,0)
 ; Retrieve data
"RTN","RGSEROBS",13,0)
RETRIEVE ; Merge into VALS
"RTN","RGSEROBS",14,0)
 S:'$D(RGSER("RGSEROBS")) RGSER("RGSEROBS")=$$OBS(,ID),IEN=1
"RTN","RGSEROBS",15,0)
 M VALS(0,IENS)=@RGSER("RGSEROBS")@(IEN)
"RTN","RGSEROBS",16,0)
 Q
"RTN","RGSEROBS",17,0)
 ; Return true if maximum observations returned
"RTN","RGSEROBS",18,0)
ISMAX() Q $O(@RTN@(""),-1)'<MAX
"RTN","RGSEROBS",19,0)
 ; Return vuid
"RTN","RGSEROBS",20,0)
VUID(IEN,FILE) ;
"RTN","RGSEROBS",21,0)
 Q $$GET1^DIQ(FILE,IEN_",",99.99)
"RTN","RGSEROBS",22,0)
 ; Ouput a file entry
"RTN","RGSEROBS",23,0)
FILE(NAME,IEN,FILE,FLD) ;
"RTN","RGSEROBS",24,0)
 D:IEN PUT(NAME,IEN,$$GET1^DIQ(FILE,+IEN,$G(FLD,.01)))
"RTN","RGSEROBS",25,0)
 Q
"RTN","RGSEROBS",26,0)
 ; Output facility
"RTN","RGSEROBS",27,0)
FACILITY(X) ;
"RTN","RGSEROBS",28,0)
 N P1,P2
"RTN","RGSEROBS",29,0)
 I $G(X) S P1=$$STA^XUAF4(X),P2=$P($$NS^XUAF4(X),U)
"RTN","RGSEROBS",30,0)
 E  S X=$$SITE^VASITE,P1=$P(X,U,2),P2=$P(X,U)
"RTN","RGSEROBS",31,0)
 D PUT("facility",P1,P2)
"RTN","RGSEROBS",32,0)
 Q
"RTN","RGSEROBS",33,0)
 ; Get array base
"RTN","RGSEROBS",34,0)
ARY(ARY) ;
"RTN","RGSEROBS",35,0)
 N X
"RTN","RGSEROBS",36,0)
 S X=$O(@ARY@(""),-1)+1
"RTN","RGSEROBS",37,0)
 Q $NA(@ARY@(X))
"RTN","RGSEROBS",38,0)
 ; Write to target array
"RTN","RGSEROBS",39,0)
PUT(NAME,INTERNAL,EXTERNAL) ;
"RTN","RGSEROBS",40,0)
 I $L($G(INTERNAL)) D
"RTN","RGSEROBS",41,0)
 .S @ARY@(NAME,"I")=INTERNAL
"RTN","RGSEROBS",42,0)
 .S @ARY@(NAME,"E")=$S($D(EXTERNAL)#2:EXTERNAL,1:INTERNAL)
"RTN","RGSEROBS",43,0)
 Q
"RTN","RGSEROBS",44,0)
 ; Output value (XML)
"RTN","RGSEROBS",45,0)
VALUEXML(VALUE,UNITS) ;
"RTN","RGSEROBS",46,0)
 Q:'$L($G(VALUE))
"RTN","RGSEROBS",47,0)
 I '$$ISNUM^RGUT(VALUE) D
"RTN","RGSEROBS",48,0)
 .D PUT^RGSEXML("valueString",VALUE)
"RTN","RGSEROBS",49,0)
 E  D
"RTN","RGSEROBS",50,0)
 .D NEWTAG^RGSEXML("valueQuantity")
"RTN","RGSEROBS",51,0)
 .D PUT^RGSEXML("value",VALUE)
"RTN","RGSEROBS",52,0)
 .I $L($G(UNITS)) D
"RTN","RGSEROBS",53,0)
 ..D PUT^RGSEXML("units",UNITS)
"RTN","RGSEROBS",54,0)
 ..D PUT^RGSEXML("code",UNITS)
"RTN","RGSEROBS",55,0)
 ..D PUT^RGSEXML("system","http://unitsofmeasure.org/")
"RTN","RGSEROBS",56,0)
 .D ENDTAG^RGSEXML("valueQuantity")
"RTN","RGSEROBS",57,0)
 Q
"RTN","RGSEROBS",58,0)
 ; Output value (JSON)
"RTN","RGSEROBS",59,0)
VALUEJSN(VALUE,UNITS) ;
"RTN","RGSEROBS",60,0)
 Q:'$L($G(VALUE))
"RTN","RGSEROBS",61,0)
 I '$$ISNUM^RGUT(VALUE) D
"RTN","RGSEROBS",62,0)
 .D PUT^RGSEJSON("valueString",VALUE)
"RTN","RGSEROBS",63,0)
 E  D
"RTN","RGSEROBS",64,0)
 .D NEWOBJ^RGSEJSON("valueQuantity")
"RTN","RGSEROBS",65,0)
 .D PUTRAW^RGSEJSON("value",VALUE)
"RTN","RGSEROBS",66,0)
 .I $L($G(UNITS)) D
"RTN","RGSEROBS",67,0)
 ..D PUT^RGSEJSON("units",UNITS)
"RTN","RGSEROBS",68,0)
 ..D PUT^RGSEJSON("code",UNITS)
"RTN","RGSEROBS",69,0)
 ..D PUT^RGSEJSON("system","http://unitsofmeasure.org/")
"RTN","RGSEROBS",70,0)
 .D ENDOBJ^RGSEJSON("valueQuantity")
"RTN","RGSEROBS",71,0)
 Q
"RTN","RGSEROBS",72,0)
 ; Return adusted reference range
"RTN","RGSEROBS",73,0)
REFRANGE(LOW,HIGH) ;
"RTN","RGSEROBS",74,0)
 S LOW=$G(VL("I")),HIGH=$G(VL(2,"I"))
"RTN","RGSEROBS",75,0)
 I $L(LOW),'$$ISNUM^RGUT(LOW) S LOW=""
"RTN","RGSEROBS",76,0)
 I $L(HIGH),'$$ISNUM^RGUT(HIGH) S HIGH=""
"RTN","RGSEROBS",77,0)
 Q $L(LOW)!$L(HIGH)
"RTN","RGSEROBS",78,0)
 ; Output reference range (XML)
"RTN","RGSEROBS",79,0)
RANGEXML(LOW,HIGH) ;
"RTN","RGSEROBS",80,0)
 Q:'$$REFRANGE(.LOW,.HIGH)
"RTN","RGSEROBS",81,0)
 D NEWTAG^RGSEXML(PN)
"RTN","RGSEROBS",82,0)
 D:$L(LOW) NEWTAG^RGSEXML("low"),PUT^RGSEXML("value",LOW),ENDTAG^RGSEXML("low")
"RTN","RGSEROBS",83,0)
 D:$L(HIGH) NEWTAG^RGSEXML("high"),PUT^RGSEXML("value",HIGH),ENDTAG^RGSEXML("high")
"RTN","RGSEROBS",84,0)
 D ENDTAG^RGSEXML(PN)
"RTN","RGSEROBS",85,0)
 Q
"RTN","RGSEROBS",86,0)
 ; Output reference range (JSON)
"RTN","RGSEROBS",87,0)
RANGEJSN(LOW,HIGH) ;
"RTN","RGSEROBS",88,0)
 Q:'$$REFRANGE(.LOW,.HIGH)
"RTN","RGSEROBS",89,0)
 D NEWARY^RGSEJSON(PN),NEWOBJ^RGSEJSON
"RTN","RGSEROBS",90,0)
 D:$L(LOW) NEWOBJ^RGSEJSON("low"),PUTAUTO^RGSEJSON("value",LOW),ENDOBJ^RGSEJSON("low")
"RTN","RGSEROBS",91,0)
 D:$L(HIGH) NEWOBJ^RGSEJSON("high"),PUTAUTO^RGSEJSON("value",HIGH),ENDOBJ^RGSEJSON("high")
"RTN","RGSEROBS",92,0)
 D ENDARY^RGSEJSON(PN)
"RTN","RGSEROBS",93,0)
 Q
"RTN","RGSEROBS",94,0)
 ; Output related observations (XML)
"RTN","RGSEROBS",95,0)
RELXML(RELATED) ;
"RTN","RGSEROBS",96,0)
 N LP
"RTN","RGSEROBS",97,0)
 F LP=1:1:$L(RELATED,",") D
"RTN","RGSEROBS",98,0)
 .D NEWTAG^RGSEXML("related")
"RTN","RGSEROBS",99,0)
 .D PUT^RGSEXML("type","has-component")
"RTN","RGSEROBS",100,0)
 .D PUT^RGSEXML("target:reference","Observation/"_$P(RELATED,",",LP))
"RTN","RGSEROBS",101,0)
 .D ENDTAG^RGSEXML("related")
"RTN","RGSEROBS",102,0)
 Q
"RTN","RGSEROBS",103,0)
 ; Output related observations (JSON)
"RTN","RGSEROBS",104,0)
RELJSN(RELATED) ;
"RTN","RGSEROBS",105,0)
 N LP
"RTN","RGSEROBS",106,0)
 D NEWARY^RGSEJSON("related")
"RTN","RGSEROBS",107,0)
 F LP=1:1:$L(RELATED,",") D
"RTN","RGSEROBS",108,0)
 .D NEWOBJ^RGSEJSON("related")
"RTN","RGSEROBS",109,0)
 .D PUT^RGSEJSON("type","has-component")
"RTN","RGSEROBS",110,0)
 .D NEWOBJ^RGSEJSON("target")
"RTN","RGSEROBS",111,0)
 .D PUT^RGSEJSON("reference","Observation/"_$P(RELATED,",",LP))
"RTN","RGSEROBS",112,0)
 .D ENDOBJ^RGSEJSON("related")
"RTN","RGSEROBS",113,0)
 D ENDARY^RGSEJSON("related")
"RTN","RGSEROBS",114,0)
 Q
"RTN","RGSERPAT")
0^8^B1084407
"RTN","RGSERPAT",1,0)
RGSERPAT ;RI/CBMI/DKM - Patient Resource Support ;04-Aug-2016 18:18;DKM
"RTN","RGSERPAT",2,0)
 ;;1.0;SERIALIZATION FRAMEWORK;;07-Feb-2015 08:51;Build 506
"RTN","RGSERPAT",3,0)
 ;=================================================================
"RTN","RGSERPAT",4,0)
HRN(DFN) ; Return HRN given DFN
"RTN","RGSERPAT",5,0)
 N X
"RTN","RGSERPAT",6,0)
 S X=$G(^AUPNPAT(DFN,41,+$G(DUZ(2)),0))
"RTN","RGSERPAT",7,0)
 Q $S($P(X,U,3):"",1:$P(X,U,2))
"RTN","RGSERPAT",8,0)
ICN(DFN) ; Return ICN given DFN
"RTN","RGSERPAT",9,0)
 N X
"RTN","RGSERPAT",10,0)
 S X=$$GETICN^MPIF001(DFN)
"RTN","RGSERPAT",11,0)
 Q $S(X<0:"",1:X)
"RTN","RGSERPAT",12,0)
 ; Iterator for traversing name xref
"RTN","RGSERPAT",13,0)
NAMEITER(CTX) ;
"RTN","RGSERPAT",14,0)
 I '$Q D NAMEITER^RGSERGET(CTX,$NA(^DPT("B"))) Q
"RTN","RGSERPAT",15,0)
 Q $$NAMEITER^RGSERGET(CTX)
"RTN","RGSERPAT",16,0)
 ; Convert marital status to HL7-compliant code
"RTN","RGSERPAT",17,0)
MARITAL(C) ;
"RTN","RGSERPAT",18,0)
 Q:C="MARRIED" "M^Married"
"RTN","RGSERPAT",19,0)
 Q:C="DIVORCED" "D^Divorced"
"RTN","RGSERPAT",20,0)
 Q:C="NEVER MARRIED" "S^Never Married"
"RTN","RGSERPAT",21,0)
 Q:C="SEPARATED" "L^Legally Separated"
"RTN","RGSERPAT",22,0)
 Q:C="WIDOWED" "W^Widowed"
"RTN","RGSERPAT",23,0)
 Q "UNK^Unknown"
"RTN","RGSERPAT",24,0)
 ; Convert county IEN to name
"RTN","RGSERPAT",25,0)
COUNTY(STATE,COUNTY) ;
"RTN","RGSERPAT",26,0)
 Q $S('COUNTY:"",1:$P($G(^DIC(5,STATE,1,COUNTY,0)),U))
"RTN","RGSERPER")
0^13^B151306
"RTN","RGSERPER",1,0)
RGSERPER ;RI/CBMI/DKM - User/Practitioner/Person Resource Support ;31-Mar-2015 18:40;DKM
"RTN","RGSERPER",2,0)
 ;;1.0;SERIALIZATION FRAMEWORK;;07-Feb-2015 08:51;Build 506
"RTN","RGSERPER",3,0)
 ;=================================================================
"RTN","RGSERPER",4,0)
 ; Iterator for traversing name xref
"RTN","RGSERPER",5,0)
NAMEITER(CTX) ;
"RTN","RGSERPER",6,0)
 I '$Q D NAMEITER^RGSERGET(CTX,$NA(^VA(200,"B"))) Q
"RTN","RGSERPER",7,0)
 Q $$NAMEITER^RGSERGET(CTX)
"RTN","RGSERVIT")
0^9^B12346872
"RTN","RGSERVIT",1,0)
RGSERVIT ;RI/CBMI/DKM - Return vital observations. ;17-Apr-2015 12:44;DKM
"RTN","RGSERVIT",2,0)
 ;;1.0;SERIALIZATION FRAMEWORK;;07-Feb-2015 08:51;Build 506
"RTN","RGSERVIT",3,0)
 ;=================================================================
"RTN","RGSERVIT",4,0)
 ; Return vital measurements
"RTN","RGSERVIT",5,0)
EN(RESULTS,DFN,ID,BEG,END,MAX) ;
"RTN","RGSERVIT",6,0)
 N ARY,GMRVSTR,IEN,IDT,ANID,TYPE,QUAL,VALUE,PROC,RANGE,SEQ,X0,X,Y
"RTN","RGSERVIT",7,0)
 I $L($G(ID)) D
"RTN","RGSERVIT",8,0)
 .I $P(ID,"-")'="VT" S DFN=0 Q
"RTN","RGSERVIT",9,0)
 .S IEN=+$P(ID,"-",2),X0=$G(^GMR(120.5,IEN,0)),X=+$P(X0,U,2)
"RTN","RGSERVIT",10,0)
 .I $G(DFN),DFN'=X S DFN=0 Q
"RTN","RGSERVIT",11,0)
 .S DFN=X,MAX=9999,BEG=X0\1-.1,END=X0\1+.9
"RTN","RGSERVIT",12,0)
 .S GMRVSTR=$$GET1^DIQ(120.51,$P(X0,U,3),1)
"RTN","RGSERVIT",13,0)
 E  S GMRVSTR="BP;T;R;P;HT;WT;CVP;CG;PO2;PN"
"RTN","RGSERVIT",14,0)
 Q:'$G(DFN)
"RTN","RGSERVIT",15,0)
 S GMRVSTR(0)=BEG_U_END_U_MAX_"^1"
"RTN","RGSERVIT",16,0)
 K ^UTILITY($J,"GMRVD")
"RTN","RGSERVIT",17,0)
 D EN1^GMRVUT0,RANGES
"RTN","RGSERVIT",18,0)
 S IDT=0
"RTN","RGSERVIT",19,0)
 F  S IDT=$O(^UTILITY($J,"GMRVD",IDT)),TYPE="" Q:'IDT  D  Q:MAX'>0
"RTN","RGSERVIT",20,0)
 .F  S TYPE=$O(^UTILITY($J,"GMRVD",IDT,TYPE)),IEN=0 Q:TYPE=""  D  Q:MAX'>0
"RTN","RGSERVIT",21,0)
 ..S PROC=$$EP(TYPE)
"RTN","RGSERVIT",22,0)
 ..F  S IEN=$O(^UTILITY($J,"GMRVD",IDT,TYPE,IEN)) Q:'IEN  S X0=^(IEN) D  Q:MAX'>0
"RTN","RGSERVIT",23,0)
 ...S SEQ=0,VALUE=$P(X0,U,8),VALUE(0)=$P(X0,U,13),NAME=$$GET1^DIQ(120.5,IEN_",",.03)
"RTN","RGSERVIT",24,0)
 ...D @PROC
"RTN","RGSERVIT",25,0)
 K ^UTILITY($J,"GMRVD")
"RTN","RGSERVIT",26,0)
 Q
"RTN","RGSERVIT",27,0)
PROC(NAME,VALUE,UNITS,LOINC,HI,LO,RELATED) ;
"RTN","RGSERVIT",28,0)
 N ANID
"RTN","RGSERVIT",29,0)
 S SEQ=SEQ+1,ANID="VT-"_IEN_"-"_SEQ
"RTN","RGSERVIT",30,0)
 I '$L(VALUE),'$D(RELATED) Q
"RTN","RGSERVIT",31,0)
 I $L(ID) Q:ANID'=ID  S MAX=1
"RTN","RGSERVIT",32,0)
 S ARY=$$ARY^RGSEROBS(RESULTS),MAX=MAX-1,HI=+$G(HI),LO=+$G(LO),UNITS=$G(UNITS),LOINC=$G(LOINC)
"RTN","RGSERVIT",33,0)
 D PUT("id",ANID)
"RTN","RGSERVIT",34,0)
 D FILE^RGSEROBS("patient",DFN,2)
"RTN","RGSERVIT",35,0)
 D PUT("collected",9999999-IDT)
"RTN","RGSERVIT",36,0)
 D PUT("issued",$P(X0,U,4))                                            ;use last one
"RTN","RGSERVIT",37,0)
 D PUT("status","final")
"RTN","RGSERVIT",38,0)
 D PUT("reliability","ok")
"RTN","RGSERVIT",39,0)
 D:LOINC PUT("code",LOINC,NAME),PUT("code_system","http://loinc.org/")
"RTN","RGSERVIT",40,0)
 D:'LOINC PUT("code",$$VUID^RGSEROBS(+$P(X0,U,3),120.51),NAME),PUT("code_system",$$LOCALSYS^RGSER("vitals"))
"RTN","RGSERVIT",41,0)
 D PUT("value",VALUE)
"RTN","RGSERVIT",42,0)
 D PUT("units",UNITS)
"RTN","RGSERVIT",43,0)
 D PUT("low",RANGE(LO))
"RTN","RGSERVIT",44,0)
 D PUT("high",RANGE(HI))
"RTN","RGSERVIT",45,0)
 D FACILITY^RGSEROBS($P(X0,U,5))
"RTN","RGSERVIT",46,0)
 S QUAL=$P(X0,U,17)
"RTN","RGSERVIT",47,0)
 I $L(QUAL) F I=1:1:$L(QUAL,";") D
"RTN","RGSERVIT",48,0)
 .S X=$P(QUAL,";",I),Y=$$FIND1^DIC(120.52,,"QX",X)
"RTN","RGSERVIT",49,0)
 .D:Y PUT("qualifier."_I,$$VUID^RGSEROBS(Y,120.52),X)
"RTN","RGSERVIT",50,0)
 D:$D(RELATED) PUT("related",RELATED)
"RTN","RGSERVIT",51,0)
 Q
"RTN","RGSERVIT",52,0)
 ; Write to target array
"RTN","RGSERVIT",53,0)
PUT(NAME,INTERNAL,EXTERNAL) ;
"RTN","RGSERVIT",54,0)
 D PUT^RGSEROBS(.NAME,.INTERNAL,.EXTERNAL)
"RTN","RGSERVIT",55,0)
 Q
"RTN","RGSERVIT",56,0)
 ; Blood pressure
"RTN","RGSERVIT",57,0)
PROCBP D PROC("BLOOD PRESSURE","","","55284-4","","","VT-"_IEN_"-2,VT-"_IEN_"-3")
"RTN","RGSERVIT",58,0)
 D PROC("SYSTOLIC "_NAME,$P(VALUE,"/"),"mmHg","8480-6",5.7,5.71)
"RTN","RGSERVIT",59,0)
 D PROC("DIASTOLIC "_NAME,$P(VALUE,"/",2),"mmHg","8462-4",5.8,5.81)
"RTN","RGSERVIT",60,0)
 Q
"RTN","RGSERVIT",61,0)
 ; Temperature
"RTN","RGSERVIT",62,0)
PROCT D PROC(NAME,VALUE,"F","8310-5",5.1,5.2)
"RTN","RGSERVIT",63,0)
 D PROC(NAME,VALUE(0),"C","8310-5")
"RTN","RGSERVIT",64,0)
 Q
"RTN","RGSERVIT",65,0)
 ; Respiratory rate
"RTN","RGSERVIT",66,0)
PROCR D PROC(NAME,VALUE,"/min","9279-1",5.5,5.6)
"RTN","RGSERVIT",67,0)
 Q
"RTN","RGSERVIT",68,0)
 ; Pulse
"RTN","RGSERVIT",69,0)
PROCP D PROC(NAME,VALUE,"/min","8867-4",5.3,5.4)
"RTN","RGSERVIT",70,0)
 Q
"RTN","RGSERVIT",71,0)
 ; Height
"RTN","RGSERVIT",72,0)
PROCHT D PROC(NAME,VALUE,"in","8302-2")
"RTN","RGSERVIT",73,0)
 D PROC(NAME,VALUE(0),"cm","8302-2")
"RTN","RGSERVIT",74,0)
 Q
"RTN","RGSERVIT",75,0)
 ; Weight
"RTN","RGSERVIT",76,0)
PROCWT D PROC(NAME,VALUE,"lb","29463-7")
"RTN","RGSERVIT",77,0)
 D PROC(NAME,VALUE(0),"kg","29463-7")
"RTN","RGSERVIT",78,0)
 Q
"RTN","RGSERVIT",79,0)
 ; Central venous pressure
"RTN","RGSERVIT",80,0)
PROCCVP D PROC(NAME,VALUE,"cmH2O","8591-0",6.1,6.2)
"RTN","RGSERVIT",81,0)
 Q
"RTN","RGSERVIT",82,0)
 ; Circumference/girth
"RTN","RGSERVIT",83,0)
PROCCG D PROC(NAME,VALUE,"in","9844-2")
"RTN","RGSERVIT",84,0)
 D PROC(NAME,VALUE(0),"cm","9844-2")
"RTN","RGSERVIT",85,0)
 Q
"RTN","RGSERVIT",86,0)
 ; Pulse oximetry
"RTN","RGSERVIT",87,0)
PROCPO2 D PROC(NAME,VALUE,"%","59408-5",6.31,6.3)
"RTN","RGSERVIT",88,0)
 Q
"RTN","RGSERVIT",89,0)
 ; Pain
"RTN","RGSERVIT",90,0)
PROCPN D PROC(NAME,VALUE,,"57696-7")
"RTN","RGSERVIT",91,0)
 Q
"RTN","RGSERVIT",92,0)
 ; All other types
"RTN","RGSERVIT",93,0)
PROCOTH D PROC(NAME,VALUE)
"RTN","RGSERVIT",94,0)
 Q
"RTN","RGSERVIT",95,0)
 ; Return entry point for processing measurement
"RTN","RGSERVIT",96,0)
EP(TYPE) S TYPE="PROC"_TYPE
"RTN","RGSERVIT",97,0)
 Q $S($L($T(@TYPE)):TYPE,1:"PROCOTH")
"RTN","RGSERVIT",98,0)
 ; Load normal ranges
"RTN","RGSERVIT",99,0)
RANGES N VAL
"RTN","RGSERVIT",100,0)
 D GETS^DIQ(120.57,"1,","5:7","","VAL")
"RTN","RGSERVIT",101,0)
 M RANGE=VAL(120.57,"1,")
"RTN","RGSERVIT",102,0)
 S RANGE(6.31)=100,RANGE(0)=""
"RTN","RGSERVIT",103,0)
 Q
"RTN","RGSEXML")
0^10^B12679345
"RTN","RGSEXML",1,0)
RGSEXML ;RI/CBMI/DKM - XML Support ;08-Apr-2015 17:02;DKM
"RTN","RGSEXML",2,0)
 ;;1.0;SERIALIZATION FRAMEWORK;;14-March-2014;Build 506
"RTN","RGSEXML",3,0)
 ;=================================================================
"RTN","RGSEXML",4,0)
 ; Implements Serializer interface (abstract)
"RTN","RGSEXML",5,0)
 ; Serializer.PREINIT - Preinitialization
"RTN","RGSEXML",6,0)
PREINIT D ADD^RGNETWWW("<?xml version=""1.0"" encoding=""UTF-8""?>")
"RTN","RGSEXML",7,0)
 Q
"RTN","RGSEXML",8,0)
 ; Serializer.PSTINIT - Postinitialization
"RTN","RGSEXML",9,0)
PSTINIT D ENDALL
"RTN","RGSEXML",10,0)
 Q
"RTN","RGSEXML",11,0)
 ; Serializer.PRELIST - List preprocessing
"RTN","RGSEXML",12,0)
PRELIST Q
"RTN","RGSEXML",13,0)
 ; Serializer.PSTLIST - List postprocessing
"RTN","RGSEXML",14,0)
PSTLIST Q
"RTN","RGSEXML",15,0)
 ; Serializer.COMPOSE - Compose an entry
"RTN","RGSEXML",16,0)
COMPOSE Q
"RTN","RGSEXML",17,0)
 ; Serializer.FMTDATE - Serialize a date
"RTN","RGSEXML",18,0)
FMTDATE(DT) ;
"RTN","RGSEXML",19,0)
 N X
"RTN","RGSEXML",20,0)
 S:'$G(DT) DT=$$NOW^XLFDT
"RTN","RGSEXML",21,0)
 S X=$$FMTDATE^RGUTDATF(DT,"YYYY-MM-dd"_$S(DT#1:"'T'HH:mm:ssXXXX",1:""))
"RTN","RGSEXML",22,0)
 S:X["-00" X=$$SUBST^RGUT(X,"-00")
"RTN","RGSEXML",23,0)
 Q X
"RTN","RGSEXML",24,0)
 ; Serializer.ESCMAP - Location of escape map
"RTN","RGSEXML",25,0)
ESCMAP() Q "ESCMAPX^RGSEXML"
"RTN","RGSEXML",26,0)
ESCMAPX ;;Table of escape mappings
"RTN","RGSEXML",27,0)
 ;;&;&amp;
"RTN","RGSEXML",28,0)
 ;;";&quot;
"RTN","RGSEXML",29,0)
 ;;';&apos;
"RTN","RGSEXML",30,0)
 ;;<;&lt;
"RTN","RGSEXML",31,0)
 ;;>;&gt;
"RTN","RGSEXML",32,0)
 ;;
"RTN","RGSEXML",33,0)
 ; Serializer.PROPF - Free text property
"RTN","RGSEXML",34,0)
PROPF D PUT(PN,$G(VL("E")))
"RTN","RGSEXML",35,0)
 Q
"RTN","RGSEXML",36,0)
 ; Serializer.PROPB - Boolean property
"RTN","RGSEXML",37,0)
PROPB D PUTBL(PN,$G(VL("I")))
"RTN","RGSEXML",38,0)
 Q
"RTN","RGSEXML",39,0)
 ; Serializer.PROPD - Date property
"RTN","RGSEXML",40,0)
PROPD D PUTDT(PN,$G(VL("I")))
"RTN","RGSEXML",41,0)
 Q
"RTN","RGSEXML",42,0)
 ; Serializer.PROPR - Raw value property
"RTN","RGSEXML",43,0)
PROPR D PUT(PN,$G(VL("I")))
"RTN","RGSEXML",44,0)
 Q
"RTN","RGSEXML",45,0)
 ; Serializer.PROPW - Word processing property
"RTN","RGSEXML",46,0)
PROPW D PUT(PN,$$ARY2STR^RGSER(.VL,$$UNESCURL^RGNETWWW(CTL)))
"RTN","RGSEXML",47,0)
 Q
"RTN","RGSEXML",48,0)
 ; Serializer.PROPC - Custom property
"RTN","RGSEXML",49,0)
PROPC X CTL
"RTN","RGSEXML",50,0)
 Q
"RTN","RGSEXML",51,0)
 ; Serializer.PROPO - Object property
"RTN","RGSEXML",52,0)
PROPO D:$G(VL("I")) GET^RGSERGET(.RGSER,CTL,VL("I"),PN)
"RTN","RGSEXML",53,0)
 Q
"RTN","RGSEXML",54,0)
 ; Serializer.PROPI - Inline object property
"RTN","RGSEXML",55,0)
PROPI D:$G(VL("I")) NEWTAG(PN),GET^RGSERGET(.RGSER,CTL,VL("I"),,"I"),ENDTAG(PN)
"RTN","RGSEXML",56,0)
 Q
"RTN","RGSEXML",57,0)
 ; Serializer.PROPS - Static property
"RTN","RGSEXML",58,0)
PROPS D PUT(PN,$G(CTL))
"RTN","RGSEXML",59,0)
 Q
"RTN","RGSEXML",60,0)
 ; Put a name/value pair to output buffer
"RTN","RGSEXML",61,0)
 ; If name is ":"-delimited, it is assumed to be a sequenced list of
"RTN","RGSEXML",62,0)
 ; enclosing tags, the last one being the recipient of the value.
"RTN","RGSEXML",63,0)
PUT(NM,VL) ;
"RTN","RGSEXML",64,0)
 I $L($G(VL)) D
"RTN","RGSEXML",65,0)
 .N ATR
"RTN","RGSEXML",66,0)
 .S ATR("value")=VL
"RTN","RGSEXML",67,0)
 .D NEWTAG(NM,.ATR,1)
"RTN","RGSEXML",68,0)
 Q
"RTN","RGSEXML",69,0)
 ; Put a date value to output buffer
"RTN","RGSEXML",70,0)
PUTDT(NM,DT) ;
"RTN","RGSEXML",71,0)
 D:DT PUT(NM,$$FMTDATE^RGSER(DT))
"RTN","RGSEXML",72,0)
 Q
"RTN","RGSEXML",73,0)
 ; Put a boolean value to output buffer
"RTN","RGSEXML",74,0)
PUTBL(NM,BL) ;
"RTN","RGSEXML",75,0)
 D PUT(NM,$S(BL:"true",1:"false"))
"RTN","RGSEXML",76,0)
 Q
"RTN","RGSEXML",77,0)
 ; Put a set value to output buffer
"RTN","RGSEXML",78,0)
PUTST(NM,VL,ST) ;
"RTN","RGSEXML",79,0)
 D PUT(NM,$$SET^RGUT(VL,ST))
"RTN","RGSEXML",80,0)
 Q
"RTN","RGSEXML",81,0)
 ; Put an array to output buffer
"RTN","RGSEXML",82,0)
PUTAR(NM,AR) ;
"RTN","RGSEXML",83,0)
 D NEWTAG(NM),ADDARY^RGSER(.AR),ENDTAG(NM)
"RTN","RGSEXML",84,0)
 Q
"RTN","RGSEXML",85,0)
 ;Add opening tag (with optional attributes)
"RTN","RGSEXML",86,0)
 ; TAG = tag name (separate multiple names with ":")
"RTN","RGSEXML",87,0)
 ; ATR = optional array of attributes and/or content
"RTN","RGSEXML",88,0)
 ; CLS = if true, tag is self-closing
"RTN","RGSEXML",89,0)
NEWTAG(TAG,ATR,CLS) ;
"RTN","RGSEXML",90,0)
 N X,Y,A,CNT,TGC
"RTN","RGSEXML",91,0)
 S CLS=+$G(CLS),CNT=$G(ATR),CLS(0)=$S(CLS&'$L(CNT):"/>",1:">"),TGC=0
"RTN","RGSEXML",92,0)
 I TAG[":" D
"RTN","RGSEXML",93,0)
 .S X=$L(TAG,":")
"RTN","RGSEXML",94,0)
 .F TGC=1:1:X-1 D NEWTAG($P(TAG,":",TGC))
"RTN","RGSEXML",95,0)
 .S TAG=$P(TAG,":",X)
"RTN","RGSEXML",96,0)
 I $D(ATR)'>1 D
"RTN","RGSEXML",97,0)
 .S X="<"_TAG_CLS(0)
"RTN","RGSEXML",98,0)
 E  D
"RTN","RGSEXML",99,0)
 .S X="<"_TAG
"RTN","RGSEXML",100,0)
 .S ATR=""
"RTN","RGSEXML",101,0)
 .F  S ATR=$O(ATR(ATR)) Q:'$L(ATR)  D
"RTN","RGSEXML",102,0)
 ..S:$D(ATR(ATR))>1 Y=$O(ATR(ATR,"")),X=X_" "_Y_"="_$$QT(ATR(ATR,Y))
"RTN","RGSEXML",103,0)
 ..S:$D(ATR(ATR))#10 X=X_" "_ATR_"="_$$QT(ATR(ATR))
"RTN","RGSEXML",104,0)
 .S X=X_CLS(0)
"RTN","RGSEXML",105,0)
 D ADD^RGNETWWW(X)
"RTN","RGSEXML",106,0)
 I $L(CNT) D
"RTN","RGSEXML",107,0)
 .D ADD^RGNETWWW($$ESCAPE^RGSER(CNT))
"RTN","RGSEXML",108,0)
 .D:CLS ADD^RGNETWWW("</"_$P(TAG," ")_">")
"RTN","RGSEXML",109,0)
 S Y=+$G(RGSER("T"))
"RTN","RGSEXML",110,0)
 S:Y RGSER("T",Y,0)=RGSER("T",Y,0)+1
"RTN","RGSEXML",111,0)
 S:'CLS Y=Y+1,RGSER("T")=Y,RGSER("T",Y)=TAG,RGSER("T",Y,0)=0
"RTN","RGSEXML",112,0)
 I CLS F  Q:'TGC  D ENDTAG S TGC=TGC-1
"RTN","RGSEXML",113,0)
 K ATR
"RTN","RGSEXML",114,0)
 Q
"RTN","RGSEXML",115,0)
 ; Write closing tag
"RTN","RGSEXML",116,0)
 ;  TAG = If specified, write closing tags up to and including
"RTN","RGSEXML",117,0)
 ;    this one.  Otherwise, just write last pending closing tag.
"RTN","RGSEXML",118,0)
 ;  Returns true if there are more pending tag closures.
"RTN","RGSEXML",119,0)
ENDTAG(TAG) ;
"RTN","RGSEXML",120,0)
 N Y,T
"RTN","RGSEXML",121,0)
 I $G(TAG)[":" D  Q
"RTN","RGSEXML",122,0)
 .F Y=$L(TAG,":"):-1:1 Q:'$$ENDTAG($P(TAG,":",Y))
"RTN","RGSEXML",123,0)
 S Y=+$G(RGSER("T"))
"RTN","RGSEXML",124,0)
 F  Q:'Y  D  Q:TAG=T
"RTN","RGSEXML",125,0)
 .S T=RGSER("T",Y)
"RTN","RGSEXML",126,0)
 .D ADD^RGNETWWW("</"_T_">")
"RTN","RGSEXML",127,0)
 .S Y=Y-1,RGSER("T")=Y
"RTN","RGSEXML",128,0)
 .S:'$D(TAG) TAG=T
"RTN","RGSEXML",129,0)
 Q:$Q Y
"RTN","RGSEXML",130,0)
 Q
"RTN","RGSEXML",131,0)
 ; Close all open tags
"RTN","RGSEXML",132,0)
ENDALL F  Q:'$$ENDTAG
"RTN","RGSEXML",133,0)
 Q
"RTN","RGSEXML",134,0)
 ; Return # of siblings at specified tag level.
"RTN","RGSEXML",135,0)
 ; LVL: 0 = Current level (default); >0 = Absolute; <0 = Relative to current
"RTN","RGSEXML",136,0)
SIBS(LVL) ;
"RTN","RGSEXML",137,0)
 N X
"RTN","RGSEXML",138,0)
 S X=+$G(RGSER("T")),LVL=+$G(LVL),LVL=$S(LVL>X:X,LVL>0:LVL,1:X-LVL)
"RTN","RGSEXML",139,0)
 Q +$G(RGSER("T",LVL,0))
"RTN","RGSEXML",140,0)
 ; Enclose value in quotes (escape contents if necessary)
"RTN","RGSEXML",141,0)
QT(X) Q """"_$$ESCAPE^RGSER(X)_""""
"SEC","^DIC",996.52,996.52,0,"AUDIT")
@
"SEC","^DIC",996.52,996.52,0,"DD")
@
"SEC","^DIC",996.52,996.52,0,"DEL")
@
"SEC","^DIC",996.52,996.52,0,"LAYGO")
@
"SEC","^DIC",996.52,996.52,0,"RD")
@
"SEC","^DIC",996.52,996.52,0,"WR")
@
"SEC","^DIC",998.1,998.1,0,"AUDIT")
@
"SEC","^DIC",998.1,998.1,0,"DD")
@
"SEC","^DIC",998.1,998.1,0,"DEL")
@
"SEC","^DIC",998.1,998.1,0,"LAYGO")
@
"SEC","^DIC",998.1,998.1,0,"RD")
@
"SEC","^DIC",998.1,998.1,0,"WR")
@
"TEMP",998.1,"CWF")

"TEMP",998.1,"DSTU1")

"TEMP",998.1,"DSTU2")

"TEMP",998.1,"STU3")

"VER")
8.0^22.0
"^DD",996.52,996.52,0)
FIELD^^20^6
"^DD",996.52,996.52,0,"DDA")
N
"^DD",996.52,996.52,0,"DT")
3150423
"^DD",996.52,996.52,0,"IX","ACE",996.52,20)

"^DD",996.52,996.52,0,"IX","B",996.52,.01)

"^DD",996.52,996.52,0,"NM","NETSERV HTTP ENDPOINT")

"^DD",996.52,996.52,.01,0)
URL^RF^^0;1^K:$L(X)>150!($L(X)<1) X
"^DD",996.52,996.52,.01,1,0)
^.1
"^DD",996.52,996.52,.01,1,1,0)
996.52^B
"^DD",996.52,996.52,.01,1,1,1)
S ^RGNET(996.52,"B",$E(X,1,30),DA)=""
"^DD",996.52,996.52,.01,1,1,2)
K ^RGNET(996.52,"B",$E(X,1,30),DA)
"^DD",996.52,996.52,.01,3)
Enter URL pattern for this endpoint.
"^DD",996.52,996.52,.01,21,0)
^^6^6^3150330.151834
"^DD",996.52,996.52,.01,21,1,0)
This is the pattern to which a request URL is to be matched.  It may contain
"^DD",996.52,996.52,.01,21,2,0)
the following wildcard characters:
"^DD",996.52,996.52,.01,21,3,0)

"^DD",996.52,996.52,.01,21,4,0)
       * Matches any character sequence.
"^DD",996.52,996.52,.01,21,5,0)
       # Matches any sequence of digits.
"^DD",996.52,996.52,.01,21,6,0)

"^DD",996.52,996.52,.01,"DT")
3150330
"^DD",996.52,996.52,1,0)
METHOD^S^GET:GET;HEAD:HEAD;POST:POST;PUT:PUT;DELETE:DELETE;^0;2^Q
"^DD",996.52,996.52,1,"DT")
3150330
"^DD",996.52,996.52,2,0)
AUTH^S^BASIC:BASIC AUTHENTICATION;BEARER:OAUTH2 AUTHENTICATION;ANY:ANY METHOD;^0;3^Q
"^DD",996.52,996.52,2,3)
Enter authentication type (or no entry for none).
"^DD",996.52,996.52,2,21,0)
^^6^6^3150331.200154
"^DD",996.52,996.52,2,21,1,0)
This determines the type of authentication required for the associated endpoint.
"^DD",996.52,996.52,2,21,2,0)

"^DD",996.52,996.52,2,21,3,0)
       BASIC - Basic authentication (username/password)
"^DD",996.52,996.52,2,21,4,0)
       OAUTH - OAuth2 authentication (bearer)
"^DD",996.52,996.52,2,21,5,0)

"^DD",996.52,996.52,2,21,6,0)
No entry means that no authentication is required.
"^DD",996.52,996.52,2,"DT")
3150423
"^DD",996.52,996.52,10,0)
HANDLER^FX^^10;E1,250^K:X'?.8AN1"^"1.8AN X
"^DD",996.52,996.52,10,3)
Enter the handler entry point as TAG^ROUTINE.
"^DD",996.52,996.52,10,"DT")
3150330
"^DD",996.52,996.52,20,0)
ACCESS CONTROL^FX^^20;E1,250^I $$ACECOMP^RGNETWWW(.X)
"^DD",996.52,996.52,20,1,0)
^.1
"^DD",996.52,996.52,20,1,1,0)
996.52^ACE^MUMPS
"^DD",996.52,996.52,20,1,1,1)
S ^RGNET(996.52,DA,20,"ACE")=$$ACECOMP^RGNETWWW(.X,1)
"^DD",996.52,996.52,20,1,1,2)
K ^RGNET(996.52,DA,20,"ACE")
"^DD",996.52,996.52,20,1,1,"DT")
3150413
"^DD",996.52,996.52,20,3)
Enter an access control expression to constrain access.
"^DD",996.52,996.52,20,21,0)
^^16^16^3150413.114739
"^DD",996.52,996.52,20,21,1,0)
An access control expression allows you to constrain access to an endpoint based
"^DD",996.52,996.52,20,21,2,0)
upon security keys, parameters, and options held (or not held) by a user.  An
"^DD",996.52,996.52,20,21,3,0)
expression can contain the operators:
"^DD",996.52,996.52,20,21,4,0)

"^DD",996.52,996.52,20,21,5,0)
       & = Logical AND of two results
"^DD",996.52,996.52,20,21,6,0)
       ! = Logical OR of two results
"^DD",996.52,996.52,20,21,7,0)
       ' = Negate a logical result
"^DD",996.52,996.52,20,21,8,0)

"^DD",996.52,996.52,20,21,9,0)
An expression can contain operands in one of the following formats:
"^DD",996.52,996.52,20,21,10,0)

"^DD",996.52,996.52,20,21,11,0)
       K.<name> = Security key of the specified name
"^DD",996.52,996.52,20,21,12,0)
       O.<name> = Option of the specified name
"^DD",996.52,996.52,20,21,13,0)
       P.<name> = Parameter of the specified name
"^DD",996.52,996.52,20,21,14,0)

"^DD",996.52,996.52,20,21,15,0)
Finally, an expression can contain parentheses to control the sequence of
"^DD",996.52,996.52,20,21,16,0)
subexpression evaluation.
"^DD",996.52,996.52,20,"DT")
3150413
"^DD",996.52,996.52,99,0)
DESCRIPTION^996.52099^^99;0
"^DD",996.52,996.52099,0)
DESCRIPTION SUB-FIELD^^.01^1
"^DD",996.52,996.52099,0,"DT")
3150330
"^DD",996.52,996.52099,0,"NM","DESCRIPTION")

"^DD",996.52,996.52099,0,"UP")
996.52
"^DD",996.52,996.52099,.01,0)
DESCRIPTION^WL^^0;1^Q
"^DD",996.52,996.52099,.01,21,0)
^^1^1^3150330.181043
"^DD",996.52,996.52099,.01,21,1,0)
Provides a detailed description of this end point.
"^DD",996.52,996.52099,.01,"DT")
3150330
"^DD",998.1,998.1,0)
FIELD^^99^7
"^DD",998.1,998.1,0,"DDA")
N
"^DD",998.1,998.1,0,"DT")
3150316
"^DD",998.1,998.1,0,"ID",1)
W "   ",$P(^(0),U,2)
"^DD",998.1,998.1,0,"IX","B",998.1,.01)

"^DD",998.1,998.1,0,"NM","SERIALIZATION CONTROL")

"^DD",998.1,998.1,0,"PT",999.991,.01)

"^DD",998.1,998.1,.01,0)
NAME^RF^^0;1^K:$L(X)>30!($L(X)<1)!'(X'?1P.E) X
"^DD",998.1,998.1,.01,1,0)
^.1
"^DD",998.1,998.1,.01,1,1,0)
998.1^B
"^DD",998.1,998.1,.01,1,1,1)
S ^RGSER(998.1,"B",$E(X,1,30),DA)=""
"^DD",998.1,998.1,.01,1,1,2)
K ^RGSER(998.1,"B",$E(X,1,30),DA)
"^DD",998.1,998.1,.01,3)
Replace Name of the serialization type (1-30 characters).
"^DD",998.1,998.1,.01,21,0)
^.001^3^3^3150420^
"^DD",998.1,998.1,.01,21,1,0)
This is the portion of the request URL that identifies the serialization format
"^DD",998.1,998.1,.01,21,2,0)
of the requested resource.  It is first part of the path portion of the URL.
"^DD",998.1,998.1,.01,21,3,0)
The name and associated content type together should be unique within the file.
"^DD",998.1,998.1,.01,"DT")
3150211
"^DD",998.1,998.1,1,0)
CONTENT TYPE^F^^0;2^K:$L(X)>100!($L(X)<1) X
"^DD",998.1,998.1,1,3)
Content type(s) generated by this serializer.
"^DD",998.1,998.1,1,21,0)
^^6^6^3150315.140532
"^DD",998.1,998.1,1,21,1,0)
These are the content types (separated by commas) that are used to match 
"^DD",998.1,998.1,1,21,2,0)
against the requested content type.  It is used to match the requestor's 
"^DD",998.1,998.1,1,21,3,0)
desired content type.  This allows having multiple entries with the same name, 
"^DD",998.1,998.1,1,21,4,0)
but different content types.  By default, the first value of this entry is 
"^DD",998.1,998.1,1,21,5,0)
returned as the Content-Type in the response header.  However, the serializer 
"^DD",998.1,998.1,1,21,6,0)
may opt to override this value with a more specific MIME type. 
"^DD",998.1,998.1,1,"DT")
3150315
"^DD",998.1,998.1,2,0)
SERIALIZER^F^^0;3^K:$L(X)>10!($L(X)<1)!'(X?1.A0.AN) X
"^DD",998.1,998.1,2,3)
Name of serialization routine.
"^DD",998.1,998.1,2,21,0)
^.001^1^1^3150310^
"^DD",998.1,998.1,2,21,1,0)
The specified serializer routine must implement the Serializer interface.
"^DD",998.1,998.1,2,"DT")
3150211
"^DD",998.1,998.1,3,0)
VERSION^F^^0;4^K:$L(X)>20!($L(X)<1) X
"^DD",998.1,998.1,3,3)
Version of this serializer (1-20 characters).
"^DD",998.1,998.1,3,21,0)
^^1^1^3150312.172833
"^DD",998.1,998.1,3,21,1,0)
This represents the version of the format the serializer is generating.
"^DD",998.1,998.1,3,"DT")
3150312
"^DD",998.1,998.1,10,0)
RESOURCE^998.11^^10;0
"^DD",998.1,998.1,10,21,0)
^.001^4^4^3150310^^
"^DD",998.1,998.1,10,21,1,0)
This is the portion of the path of the request URL that follows the 
"^DD",998.1,998.1,10,21,2,0)
serialization specifier.  It may include the wildcard characters # (for 
"^DD",998.1,998.1,10,21,3,0)
matching any sequence of digits) and * (for matching any sequence of 
"^DD",998.1,998.1,10,21,4,0)
characters).
"^DD",998.1,998.1,20,0)
HEADER FIELDS^998.14^^20;0
"^DD",998.1,998.1,20,"DT")
3150228
"^DD",998.1,998.1,99,0)
DESCRIPTION^998.199^^99;0
"^DD",998.1,998.11,0)
RESOURCE SUB-FIELD^^21^10
"^DD",998.1,998.11,0,"DT")
3150310
"^DD",998.1,998.11,0,"IX","B",998.11,.01)

"^DD",998.1,998.11,0,"IX","C",998.11,.01)

"^DD",998.1,998.11,0,"NM","RESOURCE")

"^DD",998.1,998.11,0,"UP")
998.1
"^DD",998.1,998.11,.01,0)
RESOURCE^MF^^0;1^K:$L(X)>100!($L(X)<1) X
"^DD",998.1,998.11,.01,1,0)
^.1^^-1
"^DD",998.1,998.11,.01,1,1,0)
998.11^B^MUMPS
"^DD",998.1,998.11,.01,1,1,1)
S ^RGSER(998.1,DA(1),10,"B",X,DA)=$$TOPTRN^RGSERDD(X)
"^DD",998.1,998.11,.01,1,1,2)
K ^RGSER(998.1,DA(1),10,"B",X,DA)
"^DD",998.1,998.11,.01,1,1,"DT")
3150308
"^DD",998.1,998.11,.01,1,2,0)
998.11^C^MUMPS
"^DD",998.1,998.11,.01,1,2,1)
S ^RGSER(998.1,DA(1),10,"C",$$UP^XLFSTR(X),DA)=""
"^DD",998.1,998.11,.01,1,2,2)
K ^RGSER(998.1,DA(1),10,"C",$$UP^XLFSTR(X),DA)
"^DD",998.1,998.11,.01,1,2,"DT")
3150211
"^DD",998.1,998.11,.01,3)
Enter path name for the resource.
"^DD",998.1,998.11,.01,"DT")
3150308
"^DD",998.1,998.11,1,0)
INTERNAL^S^0:NO;1:YES;^0;2^Q
"^DD",998.1,998.11,1,3)
Enter YES if this is an internal resource.
"^DD",998.1,998.11,1,21,0)
^^3^3^3150310.205212
"^DD",998.1,998.11,1,21,1,0)
If set to YES, this resource is internal to the server and may not be 
"^DD",998.1,998.11,1,21,2,0)
referenced directly.  Any attempt to request an internal resource will return 
"^DD",998.1,998.11,1,21,3,0)
an error.
"^DD",998.1,998.11,1,"DT")
3150221
"^DD",998.1,998.11,2,0)
SOURCE^NJ10,4XO^^0;3^K:'$$VFILE^DILFD(X) X
"^DD",998.1,998.11,2,2)
S Y(0)=Y S Y=Y_" ("_$P($G(^DIC(Y,0),^DD(Y,0)),U)_")"
"^DD",998.1,998.11,2,2.1)
S Y=Y_" ("_$P($G(^DIC(Y,0),^DD(Y,0)),U)_")"
"^DD",998.1,998.11,2,3)
Enter a file or subfile number.
"^DD",998.1,998.11,2,21,0)
^^2^2^3150310.205524
"^DD",998.1,998.11,2,21,1,0)
This is the number of the file or subfile from which the resource will be
"^DD",998.1,998.11,2,21,2,0)
extracted.  For resources that are derived, this field may be null.
"^DD",998.1,998.11,2,"DT")
3150211
"^DD",998.1,998.11,10,0)
CUSTOM SERIALIZER^K^^10;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",998.1,998.11,10,3)
M code to invoke custom serializer.
"^DD",998.1,998.11,10,9)
@
"^DD",998.1,998.11,10,21,0)
^^4^4^3150310.205835
"^DD",998.1,998.11,10,21,1,0)
For resources that use a custom serializer, this field contains executable M 
"^DD",998.1,998.11,10,21,2,0)
code that performs the serialization.  When this field is non-null, the 
"^DD",998.1,998.11,10,21,3,0)
default serialization code is not executed unless the custom serializer kills 
"^DD",998.1,998.11,10,21,4,0)
the XSER variable before returning control.
"^DD",998.1,998.11,10,"DT")
3150211
"^DD",998.1,998.11,20,0)
PREFETCH LOGIC^K^^20;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",998.1,998.11,20,3)
M code to invoke prior to executing FileMan retrieval logic.
"^DD",998.1,998.11,20,9)
@
"^DD",998.1,998.11,20,21,0)
^^19^19^3150420.104014
"^DD",998.1,998.11,20,21,1,0)
This field contains logic to be executed prior to invoking the FileMan logic 
"^DD",998.1,998.11,20,21,2,0)
for retrieving data.  This logic may modify input parameters for the FileMan 
"^DD",998.1,998.11,20,21,3,0)
logic or may act as a custom reader in place of or in addition to the FileMan 
"^DD",998.1,998.11,20,21,4,0)
logic.  If the latter, it should return a single instance of a resource given 
"^DD",998.1,998.11,20,21,5,0)
its unique identifier using the VALS array in the format:
"^DD",998.1,998.11,20,21,6,0)

"^DD",998.1,998.11,20,21,7,0)
       VALS(FILE,IENS,<property>,<int/ext>)=<value>
"^DD",998.1,998.11,20,21,8,0)

"^DD",998.1,998.11,20,21,9,0)
where
"^DD",998.1,998.11,20,21,10,0)

"^DD",998.1,998.11,20,21,11,0)
       <property> = The property's name.
"^DD",998.1,998.11,20,21,12,0)
       <int/ext>  = "I" or "E" for representing internal and external values,
"^DD",998.1,998.11,20,21,13,0)
                    respectively.
"^DD",998.1,998.11,20,21,14,0)
       <value>    = The property's value.
"^DD",998.1,998.11,20,21,15,0)

"^DD",998.1,998.11,20,21,16,0)
Note that even if custom retrieval logic is provided, the default FileMan 
"^DD",998.1,998.11,20,21,17,0)
retrieval logic will also be executed if the value of the FILE variable (from 
"^DD",998.1,998.11,20,21,18,0)
the SOURCE field) is non-zero.  Thus, setting the FILE variable to zero will 
"^DD",998.1,998.11,20,21,19,0)
suppress execution of the FileMan retrieval logic.
"^DD",998.1,998.11,20,"DT")
3150420
"^DD",998.1,998.11,21,0)
POSTFETCH LOGIC^K^^21;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",998.1,998.11,21,3)
M code to invoke after executing FileMan retrieval logic.
"^DD",998.1,998.11,21,9)
@
"^DD",998.1,998.11,21,21,0)
^^14^14^3150420.103903
"^DD",998.1,998.11,21,21,1,0)
This field contains logic to be executed after invoking the FileMan logic for 
"^DD",998.1,998.11,21,21,2,0)
retrieving data.  This logic may modify values returned by the FileMan 
"^DD",998.1,998.11,21,21,3,0)
retrieval logic or may act as a custom reader in place of or in addition to 
"^DD",998.1,998.11,21,21,4,0)
the FileMan logic.  If the latter, it should return a single instance of a 
"^DD",998.1,998.11,21,21,5,0)
resource given its unique identifier using the VALS array in the format:
"^DD",998.1,998.11,21,21,6,0)

"^DD",998.1,998.11,21,21,7,0)
       VALS(FILE,IENS,<property>,<int/ext>)=<value>
"^DD",998.1,998.11,21,21,8,0)

"^DD",998.1,998.11,21,21,9,0)
where
"^DD",998.1,998.11,21,21,10,0)

"^DD",998.1,998.11,21,21,11,0)
       <property> = The property's name.
"^DD",998.1,998.11,21,21,12,0)
       <int/ext>  = "I" or "E" for representing internal and external values,
"^DD",998.1,998.11,21,21,13,0)
                    respectively.
"^DD",998.1,998.11,21,21,14,0)
       <value>    = The property's value.
"^DD",998.1,998.11,21,"DT")
3150420
"^DD",998.1,998.11,30,0)
PROPERTY^998.12I^^30;0
"^DD",998.1,998.11,30,21,0)
^.001^1^1^3150310^
"^DD",998.1,998.11,30,21,1,0)
This is the list of properties for the given resource.
"^DD",998.1,998.11,40,0)
PARAMETER^998.13I^^40;0
"^DD",998.1,998.11,40,21,0)
^^5^5^3150310.211659
"^DD",998.1,998.11,40,21,1,0)
This is the list of searchable parameters supported for the resource.  These 
"^DD",998.1,998.11,40,21,2,0)
serve two purposes.  First, they define the logic for determining a match for 
"^DD",998.1,998.11,40,21,3,0)
the given search parameter.  Second, they may define a cohort selector for a 
"^DD",998.1,998.11,40,21,4,0)
given search parameter.  Cohort selectors optimize search strategy depending 
"^DD",998.1,998.11,40,21,5,0)
on which search parameters are selected.
"^DD",998.1,998.11,50,0)
TEMPLATE^998.15^^50;0
"^DD",998.1,998.11,50,21,0)
^^8^8^3150312.154427
"^DD",998.1,998.11,50,21,1,0)
Templates may be referenced by properties to generate output from the 
"^DD",998.1,998.11,50,21,2,0)
serializer. They may contain replaceable parameters enclosed between "|" 
"^DD",998.1,998.11,50,21,3,0)
characters.  If a replaceable parameter starts with an "@" or "#" character, 
"^DD",998.1,998.11,50,21,4,0)
it is assumed to be an M expression whose value is inserted into the 
"^DD",998.1,998.11,50,21,5,0)
generated output.  Otherwise, it is assumed to be a field identifier whose 
"^DD",998.1,998.11,50,21,6,0)
value is inserted.  Except for "#"-prefixed expressions, any reserved 
"^DD",998.1,998.11,50,21,7,0)
characters in the replacement value will be escaped according to the rules
"^DD",998.1,998.11,50,21,8,0)
specified by the serializer.
"^DD",998.1,998.11,99,0)
DESCRIPTION^F^^99;E1,250^K:$L(X)>250!($L(X)<1) X
"^DD",998.1,998.11,99,3)
Enter brief description of this resource.
"^DD",998.1,998.11,99,21,0)
^^1^1^3150310.21222
"^DD",998.1,998.11,99,21,1,0)
Provides a detailed description of the associated resource.
"^DD",998.1,998.11,99,"DT")
3150211
"^DD",998.1,998.12,0)
PROPERTY SUB-FIELD^^10^5
"^DD",998.1,998.12,0,"DT")
3150310
"^DD",998.1,998.12,0,"ID",3)
W "   ",$P(^(0),U,4)
"^DD",998.1,998.12,0,"IX","ASEQ",998.12,3)

"^DD",998.1,998.12,0,"IX","B",998.12,.01)

"^DD",998.1,998.12,0,"NM","PROPERTY")

"^DD",998.1,998.12,0,"UP")
998.11
"^DD",998.1,998.12,.01,0)
PROPERTY^MF^^0;1^K:$L(X)>100!($L(X)<1) X
"^DD",998.1,998.12,.01,1,0)
^.1
"^DD",998.1,998.12,.01,1,1,0)
998.12^B
"^DD",998.1,998.12,.01,1,1,1)
S ^RGSER(998.1,DA(2),10,DA(1),30,"B",$E(X,1,30),DA)=""
"^DD",998.1,998.12,.01,1,1,2)
K ^RGSER(998.1,DA(2),10,DA(1),30,"B",$E(X,1,30),DA)
"^DD",998.1,998.12,.01,3)
Property name to be used in serialization.
"^DD",998.1,998.12,.01,21,0)
^^8^8^3150311.183527
"^DD",998.1,998.12,.01,21,1,0)
This is the name that identifies the property.  It is typically the name that 
"^DD",998.1,998.12,.01,21,2,0)
is emitted by the serializer, but this is not a requirement. An arbitrary tag 
"^DD",998.1,998.12,.01,21,3,0)
may also be appended to the property name using the "!" character as a 
"^DD",998.1,998.12,.01,21,4,0)
delimiter.  This may be used to provide additional information about the 
"^DD",998.1,998.12,.01,21,5,0)
entry.  For example, if a property requires multiple entries to implement the 
"^DD",998.1,998.12,.01,21,6,0)
logic required to emit it, the tag can provide information to the user as to 
"^DD",998.1,998.12,.01,21,7,0)
the role each entry plays.  For any given entry, the serializer may choose to 
"^DD",998.1,998.12,.01,21,8,0)
apply additional significance to the tag.
"^DD",998.1,998.12,.01,"DT")
3150311
"^DD",998.1,998.12,1,0)
FIELD^F^^0;2^K:$L(X)>40!($L(X)<1) X
"^DD",998.1,998.12,1,3)
Field name or # corresponding to this property
"^DD",998.1,998.12,1,21,0)
^^11^11^3150420.10123
"^DD",998.1,998.12,1,21,1,0)
This is the source identifier that identifies the data field to be retrieved 
"^DD",998.1,998.12,1,21,2,0)
from the source.  Separate multiple field designations with commas.  Values 
"^DD",998.1,998.12,1,21,3,0)
retrieved for the specified fields are available to the serializer.  Where the
"^DD",998.1,998.12,1,21,4,0)
SOURCE is a FileMan file or subfile, the field is the field # (or name).  For 
"^DD",998.1,998.12,1,21,5,0)
resources using custom retrieval logic, the field is the identifier assigned 
"^DD",998.1,998.12,1,21,6,0)
by that logic.  For pointer fields, you may reference a field in the target 
"^DD",998.1,998.12,1,21,7,0)
file by specifying the pointer field and the target field separated by a tilde
"^DD",998.1,998.12,1,21,8,0)
character.
"^DD",998.1,998.12,1,21,9,0)

"^DD",998.1,998.12,1,21,10,0)
For properties that do not require source data (such as a static property), 
"^DD",998.1,998.12,1,21,11,0)
this entry may be left blank.
"^DD",998.1,998.12,1,"DT")
3150311
"^DD",998.1,998.12,2,0)
TYPE^RS^F:FREE TEXT;R:RAW;B:BOOLEAN;D:DATE;M:MULTIPLE;C:CUSTOM;O:OBJECT;W:WORD PROCESSING;I:INLINE;T:TEMPLATE;S:STATIC;N:NOP;^0;3^Q
"^DD",998.1,998.12,2,3)
Encoding type for this property.
"^DD",998.1,998.12,2,21,0)
^^15^15^3150310.21405
"^DD",998.1,998.12,2,21,1,0)
Represents the type of property.  Possible values are:
"^DD",998.1,998.12,2,21,2,0)
   B = BOOLEAN         - Emits a property value that is true or false.
"^DD",998.1,998.12,2,21,3,0)
   C = CUSTOM          - The associated custom code emits the property value.
"^DD",998.1,998.12,2,21,4,0)
   D = DATE            - Emits a property value that is a date.
"^DD",998.1,998.12,2,21,5,0)
   F = FREE TEXT       - Emits the external value of the property.
"^DD",998.1,998.12,2,21,6,0)
   I = INLINE          - Inserts a serialized object inline.
"^DD",998.1,998.12,2,21,7,0)
   N = NOP             - Causes the property to be ignored.
"^DD",998.1,998.12,2,21,8,0)
   M = MULTIPLE        - The property is a subfile multiple.
"^DD",998.1,998.12,2,21,9,0)
   O = OBJECT          - Invokes serialization logic for the specified object.
"^DD",998.1,998.12,2,21,10,0)
   R = RAW             - Emits the internal value of the property.
"^DD",998.1,998.12,2,21,11,0)
   S = STATIC          - Emits a static value for the property.
"^DD",998.1,998.12,2,21,12,0)
   T = TEMPLATE        - Emits the specified template.
"^DD",998.1,998.12,2,21,13,0)
   W = WORD PROCESSING - Emits a word processing value.
"^DD",998.1,998.12,2,21,14,0)

"^DD",998.1,998.12,2,21,15,0)
For more information, see the description of the CONTROL field.
"^DD",998.1,998.12,2,"DT")
3150310
"^DD",998.1,998.12,3,0)
SEQUENCE^RNJ10,4^^0;4^K:+X'=X!(X>99999)!(X<1)!(X?.E1"."5N.N) X
"^DD",998.1,998.12,3,1,0)
^.1
"^DD",998.1,998.12,3,1,1,0)
998.12^ASEQ
"^DD",998.1,998.12,3,1,1,1)
S ^RGSER(998.1,DA(2),10,DA(1),30,"ASEQ",$E(X,1,30),DA)=""
"^DD",998.1,998.12,3,1,1,2)
K ^RGSER(998.1,DA(2),10,DA(1),30,"ASEQ",$E(X,1,30),DA)
"^DD",998.1,998.12,3,1,1,"DT")
3150211
"^DD",998.1,998.12,3,3)
Enter sequence number for process ordering.
"^DD",998.1,998.12,3,21,0)
^^3^3^3150311.184411
"^DD",998.1,998.12,3,21,1,0)
This is a numerical sequence # that determines the order in which the 
"^DD",998.1,998.12,3,21,2,0)
serializer processes property entries, and, thus, the order in which 
"^DD",998.1,998.12,3,21,3,0)
properties are emitted by the serializer.
"^DD",998.1,998.12,3,"DT")
3150311
"^DD",998.1,998.12,10,0)
CONTROL^FX^^10;E1,250^D ITXCTRL^RGSERDD(.X,.DA)
"^DD",998.1,998.12,10,3)
Enter control data.
"^DD",998.1,998.12,10,21,0)
^^10^10^3150311.184552
"^DD",998.1,998.12,10,21,1,0)
The content of this field depends on the value of the TYPE field.  For those
"^DD",998.1,998.12,10,21,2,0)
TYPE values not listed below, this field will be ignored.
"^DD",998.1,998.12,10,21,3,0)

"^DD",998.1,998.12,10,21,4,0)
  C (CUSTOM)          - Executable M code.
"^DD",998.1,998.12,10,21,5,0)
  I (INLINE)          - Path for inline resource.
"^DD",998.1,998.12,10,21,6,0)
  O (OBJECT)          - Path for the target object.
"^DD",998.1,998.12,10,21,7,0)
  M (MULTIPLE)        - Path for the multiple entry.
"^DD",998.1,998.12,10,21,8,0)
  S (STATIC)          - The static value of the property.
"^DD",998.1,998.12,10,21,9,0)
  W (WORD PROCESSING) - Line delimiter to use (escaped characters supported).
"^DD",998.1,998.12,10,21,10,0)

"^DD",998.1,998.12,10,"DT")
3150311
"^DD",998.1,998.13,0)
PARAMETER SUB-FIELD^^10^6
"^DD",998.1,998.13,0,"DT")
3150211
"^DD",998.1,998.13,0,"ID",3)
W "   ",$P(^(0),U,4)
"^DD",998.1,998.13,0,"IX","ASEQ",998.13,3)

"^DD",998.1,998.13,0,"IX","B",998.13,.01)

"^DD",998.1,998.13,0,"NM","PARAMETER")

"^DD",998.1,998.13,0,"UP")
998.11
"^DD",998.1,998.13,.01,0)
PARAMETER^MF^^0;1^K:$L(X)>100!($L(X)<1) X
"^DD",998.1,998.13,.01,1,0)
^.1
"^DD",998.1,998.13,.01,1,1,0)
998.13^B
"^DD",998.1,998.13,.01,1,1,1)
S ^RGSER(998.1,DA(2),10,DA(1),40,"B",$E(X,1,30),DA)=""
"^DD",998.1,998.13,.01,1,1,2)
K ^RGSER(998.1,DA(2),10,DA(1),40,"B",$E(X,1,30),DA)
"^DD",998.1,998.13,.01,3)
Enter name of search parameter.
"^DD",998.1,998.13,.01,21,0)
^^1^1^3150311.184801
"^DD",998.1,998.13,.01,21,1,0)
This is the identifier of the parameter as it would appear in a query.
"^DD",998.1,998.13,.01,"DT")
3150311
"^DD",998.1,998.13,1,0)
FIELD^F^^0;2^K:$L(X)>40!($L(X)<1) X
"^DD",998.1,998.13,1,3)
Field name or # corresponding to this parameter.
"^DD",998.1,998.13,1,21,0)
^^6^6^3150311.185216
"^DD",998.1,998.13,1,21,1,0)
This is the source identifier that identifies the data field to be retrieved 
"^DD",998.1,998.13,1,21,2,0)
from the source.  Multiple fields may be separated with commas.  Values 
"^DD",998.1,998.13,1,21,3,0)
retrieved for the specified fields are available to the serializer when 
"^DD",998.1,998.13,1,21,4,0)
formulating a search query.  Where the SOURCE is a FileMan file or subfile, 
"^DD",998.1,998.13,1,21,5,0)
the field is the field # (or name).  For resources using custom retrieval 
"^DD",998.1,998.13,1,21,6,0)
logic, the field is the identifier assigned by that logic. 
"^DD",998.1,998.13,1,"DT")
3150311
"^DD",998.1,998.13,2,0)
TYPE^S^N:NUMBER;D:DATE;S:STRING;T:TOKEN;R:REFERENCE;Q:QUANTITY;^0;3^Q
"^DD",998.1,998.13,2,3)
Type of the search parameter.
"^DD",998.1,998.13,2,21,0)
^^12^12^3150311.190219
"^DD",998.1,998.13,2,21,1,0)
The parameter type determines the allowable comparison operators and the logic 
"^DD",998.1,998.13,2,21,2,0)
used to implement them.
"^DD",998.1,998.13,2,21,3,0)

"^DD",998.1,998.13,2,21,4,0)
The following parameter types are recognized:
"^DD",998.1,998.13,2,21,5,0)

"^DD",998.1,998.13,2,21,6,0)
       N        NUMBER     - The parameter is a numeric value.
"^DD",998.1,998.13,2,21,7,0)
       D        DATE       - The parameter is a date value.
"^DD",998.1,998.13,2,21,8,0)
       S        STRING     - The parameter is a text string.
"^DD",998.1,998.13,2,21,9,0)
       T        TOKEN      - The parameter is a special token.
"^DD",998.1,998.13,2,21,10,0)
       R        REFERENCE  - The parameter is a resource reference.
"^DD",998.1,998.13,2,21,11,0)
       Q        QUANTITY   - The parameter is a quantity.
"^DD",998.1,998.13,2,21,12,0)
 
"^DD",998.1,998.13,2,"DT")
3150311
"^DD",998.1,998.13,3,0)
SEQUENCE^NJ10,4^^0;4^K:+X'=X!(X>99999)!(X<1)!(X?.E1"."5N.N) X
"^DD",998.1,998.13,3,1,0)
^.1
"^DD",998.1,998.13,3,1,1,0)
998.13^ASEQ
"^DD",998.1,998.13,3,1,1,1)
S ^RGSER(998.1,DA(2),10,DA(1),40,"ASEQ",$E(X,1,30),DA)=""
"^DD",998.1,998.13,3,1,1,2)
K ^RGSER(998.1,DA(2),10,DA(1),40,"ASEQ",$E(X,1,30),DA)
"^DD",998.1,998.13,3,1,1,"DT")
3150211
"^DD",998.1,998.13,3,3)
Enter sequence number for process ordering.
"^DD",998.1,998.13,3,21,0)
^^3^3^3150311.190416
"^DD",998.1,998.13,3,21,1,0)
The sequence # determines the order the serializer uses in processing 
"^DD",998.1,998.13,3,21,2,0)
parameters.  This can be important in determining optimal search strategy 
"^DD",998.1,998.13,3,21,3,0)
where multiple parameters are specified.
"^DD",998.1,998.13,3,"DT")
3150311
"^DD",998.1,998.13,10,0)
CONTROL^F^^10;E1,250^K:$L(X)>250!($L(X)<1) X
"^DD",998.1,998.13,10,3)
M code to perform filtering.
"^DD",998.1,998.13,10,"DT")
3150211
"^DD",998.1,998.13,20,0)
COHORT^K^^20;E1,245^K:$L(X)>245 X D:$D(X) ^DIM
"^DD",998.1,998.13,20,3)
M code to set global selector into X.
"^DD",998.1,998.13,20,9)
@
"^DD",998.1,998.13,20,"DT")
3150211
"^DD",998.1,998.14,0)
HEADER FIELDS SUB-FIELD^^.01^1
"^DD",998.1,998.14,0,"DT")
3150228
"^DD",998.1,998.14,0,"NM","HEADER FIELDS")

"^DD",998.1,998.14,0,"UP")
998.1
"^DD",998.1,998.14,.01,0)
HEADER FIELDS^WLx^^0;1^Q
"^DD",998.1,998.14,.01,3)
Additional fields to be included in the HTTP response header.
"^DD",998.1,998.14,.01,"DT")
3150228
"^DD",998.1,998.15,0)
TEMPLATE SUB-FIELD^^1^2
"^DD",998.1,998.15,0,"DT")
3150309
"^DD",998.1,998.15,0,"IX","B",998.15,.01)

"^DD",998.1,998.15,0,"NM","TEMPLATE")

"^DD",998.1,998.15,0,"UP")
998.11
"^DD",998.1,998.15,.01,0)
TEMPLATE^MF^^0;1^K:$L(X)>30!($L(X)<1) X
"^DD",998.1,998.15,.01,1,0)
^.1
"^DD",998.1,998.15,.01,1,1,0)
998.15^B
"^DD",998.1,998.15,.01,1,1,1)
S ^RGSER(998.1,DA(2),10,DA(1),50,"B",$E(X,1,30),DA)=""
"^DD",998.1,998.15,.01,1,1,2)
K ^RGSER(998.1,DA(2),10,DA(1),50,"B",$E(X,1,30),DA)
"^DD",998.1,998.15,.01,3)
Answer must be 1-30 characters in length.
"^DD",998.1,998.15,.01,"DT")
3150309
"^DD",998.1,998.15,1,0)
CONTENT^998.151^^1;0
"^DD",998.1,998.151,0)
CONTENT SUB-FIELD^^.01^1
"^DD",998.1,998.151,0,"DT")
3150309
"^DD",998.1,998.151,0,"NM","CONTENT")

"^DD",998.1,998.151,0,"UP")
998.15
"^DD",998.1,998.151,.01,0)
CONTENT^WLx^^0;1^Q
"^DD",998.1,998.151,.01,"DT")
3150309
"^DD",998.1,998.199,0)
DESCRIPTION SUB-FIELD^^.01^1
"^DD",998.1,998.199,0,"DT")
3150316
"^DD",998.1,998.199,0,"NM","DESCRIPTION")

"^DD",998.1,998.199,0,"UP")
998.1
"^DD",998.1,998.199,.01,0)
DESCRIPTION^WLx^^0;1^Q
"^DD",998.1,998.199,.01,3)
Enter a description of this endpoint using HTML formatting.
"^DD",998.1,998.199,.01,21,0)
^^2^2^3150316.133317
"^DD",998.1,998.199,.01,21,1,0)
The content of this field will be returned if a request is directed to this 
"^DD",998.1,998.199,.01,21,2,0)
endpoint's root URL. 
"^DD",998.1,998.199,.01,"DT")
3150316
"^DIC",996.52,996.52,0)
NETSERV HTTP ENDPOINT^996.52
"^DIC",996.52,996.52,0,"GL")
^RGNET(996.52,
"^DIC",996.52,996.52,"%",0)
^1.005^^0
"^DIC",996.52,996.52,"%D",0)
^^3^3^3150330.180223
"^DIC",996.52,996.52,"%D",1,0)
This file defines execution endpoints for HTTP-based services. A service 
"^DIC",996.52,996.52,"%D",2,0)
request is matched to its respective endpoint by matching the request method 
"^DIC",996.52,996.52,"%D",3,0)
and the request URL to the corresponding entry in this file.
"^DIC",996.52,"B","NETSERV HTTP ENDPOINT",996.52)

"^DIC",998.1,998.1,0)
SERIALIZATION CONTROL^998.1
"^DIC",998.1,998.1,0,"GL")
^RGSER(998.1,
"^DIC",998.1,998.1,"%D",0)
^^1^1^3150211.113842
"^DIC",998.1,998.1,"%D",1,0)
Supports serialization of domain objects.
"^DIC",998.1,"B","SERIALIZATION CONTROL",998.1)

**END**
**END**
